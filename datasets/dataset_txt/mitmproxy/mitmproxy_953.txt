Member
dwfreed commented on 6 Sep 2016
Construct 2.5.5 decided to change the length_field argument to lengthfield which breaks mitmproxy (both release and HEAD):
Traceback (most recent call last):
  File "/usr/local/bin/mitmproxy", line 7, in <module>
    from mitmproxy.main import mitmproxy
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/main.py", line 7, in <module>
    from . import version, cmdline
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/cmdline.py", line 11, in <module>
    from .proxy import config
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/proxy/__init__.py", line 3, in <module>
    from .server import ProxyServer, DummyServer
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/proxy/server.py", line 12, in <module>
    from ..protocol import Kill
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/protocol/__init__.py", line 30, in <module>
    from .tls import TlsLayer
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/protocol/tls.py", line 11, in <module>
    from ..contrib.tls._constructs import ClientHello
  File "/usr/local/lib/python2.7/dist-packages/mitmproxy/contrib/tls/_constructs.py", line 69, in <module>
    PascalString("name", length_field=UBInt16("length")),
TypeError: __init__() got an unexpected keyword argument 'length_field'
I filed construct/construct#92 to get this fixed. Reported by @jackmiller334 in the IRC channel.
2