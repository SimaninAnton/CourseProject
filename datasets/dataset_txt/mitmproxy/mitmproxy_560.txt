chorner commented on 7 Sep 2017
https://github.com/mitmproxy/mitmproxy/blob/master/docs/certinstall.rst#using-a-custom-certificate
Following the documentation, mitmproxy fails to use the provided custom certificate.
Steps to reproduce the problem:
openssl genrsa -out cert.key 2048
openssl req -new -x509 -key cert.key -out cert.crt
... <specify CSR>
cat cert.key cert.crt > cert.pem
mitmproxy -e -v --cert ./cert.pem -p 8000 -R https://www.google.com:443
echo | openssl s_client -connect 127.0.0.1:8000
...
Certificate chain
0 s:/CN=www.google.com
i:/CN=mitmproxy/O=mitmproxy
1 s:/CN=mitmproxy/O=mitmproxy
i:/CN=mitmproxy/O=mitmproxy
(the self-signed CSR just created should appear here, rather than the default mitmproxy cert)