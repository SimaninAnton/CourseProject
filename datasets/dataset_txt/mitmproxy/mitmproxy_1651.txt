three15 commented on 22 Jul 2014
I run mitmproxy in reverse proxy mode
./mitmproxy -R https://google.com -b 127.0.0.1 -vvv
then
lynx localhost:8080
I have latest git snapshot of mitmproxy and netlib + latest pyopenssl/requests from pip. In fact I tried many other combinations of mitm and dependencies on a couple Ubuntu/Debian hosts.
To my surprise I just recently used this setup already and it had worked fine even on 10 version.
This is a mitmproxy eventlog:
127.0.0.1:58327:clientconnect
127.0.0.1:58327: Set new server address: google.com:443
127.0.0.1:58327: serverconnect -> google.com:443
127.0.0.1:58327: Establish SSL
-> with client
-> with server (sni: None)127.0.0.1:58327: error: NetLibError("SSL handshake error: [('SSL routines', 'SSL23_GET_CLIENT_HELLO', 'http request')]",)
127.0.0.1:58327: serverdisconnect
-> google.com:443
127.0.0.1:58327: clientdisconnect