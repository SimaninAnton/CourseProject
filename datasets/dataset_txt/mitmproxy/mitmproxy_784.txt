Contributor
ohhorob commented on 28 Jan 2017
17.199.7.21:51633: Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/server.py", line 119, in handle
    root_layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/modes/http_proxy.py", line 9, in __call__
    layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/tls.py", line 383, in __call__
    layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http1.py", line 72, in __call__
    layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http.py", line 176, in __call__
    if not self._process_flow(flow):
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http.py", line 245, in _process_flow
    return self.handle_regular_connect(f)
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http.py", line 194, in handle_regular_connect
    layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/tls.py", line 383, in __call__
    layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http1.py", line 72, in __call__
    layer()
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http.py", line 176, in __call__
    if not self._process_flow(flow):
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http.py", line 373, in _process_flow
    self.send_response(f.response)
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http.py", line 43, in send_response
    self.send_response_body(response, [response.data.content])
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/proxy/protocol/http1.py", line 48, in send_response_body
    self.client_conn.wfile.write(chunk)
  File "/usr/local/lib/python3.6/site-packages/mitmproxy/net/tcp.py", line 188, in write
    return self.o.sendall(v)
  File "/usr/local/lib/python3.6/site-packages/OpenSSL/SSL.py", line 1285, in sendall
    result = _lib.SSL_write(self._ssl, data + total_sent, left_to_send)
OverflowError: integer 3114393428 does not fit '32-bit int'

mitmproxy has crashed!
Please lodge a bug report at: https://github.com/mitmproxy/mitmproxy
Steps to reproduce the problem:
start proxying iOS device streaming music
leave session running a while
observe crash report
System information
Mac OS X
$ mitmproxy --version
mitmproxy 1.0.2