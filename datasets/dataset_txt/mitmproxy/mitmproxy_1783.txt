jeremy-w commented on 25 Apr 2013
Traceback (most recent call last):
  File "/usr/local/bin/mitmproxy", line 64, in <module>
    m.run()
  File "/Library/Python/2.7/site-packages/libmproxy/console/__init__.py", line 539, in run
    self.ui.run_wrapper(self.loop)
  File "/Library/Python/2.7/site-packages/urwid/raw_display.py", line 237, in run_wrapper
    return fn()
  File "/Library/Python/2.7/site-packages/libmproxy/console/__init__.py", line 763, in loop
    self.prompt_execute()
  File "/Library/Python/2.7/site-packages/libmproxy/console/__init__.py", line 690, in prompt_execute
    msg = p(txt, *args)
  File "/Library/Python/2.7/site-packages/libmproxy/console/__init__.py", line 620, in save_one_flow
    return self._write_flows(path, [flow])
  File "/Library/Python/2.7/site-packages/libmproxy/console/__init__.py", line 614, in _write_flows
    fw.add(i)
  File "/Library/Python/2.7/site-packages/libmproxy/flow.py", line 1557, in add
    tnetstring.dump(d, self.fo)
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 103, in dump
    file.write(dumps(value,encoding))
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 93, in dumps
    _rdumpq(q,0,value,encoding)
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 174, in _rdumpq
    size = _rdumpq(q,size,v,encoding)
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 174, in _rdumpq
    size = _rdumpq(q,size,v,encoding)
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 165, in _rdumpq
    size = _rdumpq(q,size,item,encoding)
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 165, in _rdumpq
    size = _rdumpq(q,size,item,encoding)
  File "/Library/Python/2.7/site-packages/libmproxy/tnetstring.py", line 182, in _rdumpq
    raise ValueError("must specify encoding to dump unicode strings")
ValueError: must specify encoding to dump unicode strings
I don't think there was anything outside the ASCII range, so maybe a u"" vs. "" string problem?
Versions: mitmproxy 0.8.1, Python 2.7.2