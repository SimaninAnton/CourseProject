nesttle commented on 15 Aug 2017 â€¢
edited
Similar related issue: #167
Steps to reproduce the problem:
-s script.py
System information
Installing collected packages: mitmproxy, netlib
Successfully installed mitmproxy-2.0.2 netlib-0.17

root@mitm:~# mitmproxy --version
mitmproxy 0.15
Unknown issue here with mitmproxy 2.0.2 and -s script.py argument:
Script error:
Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/libmproxy/script/script.py", line 93, in run
    return f(self.ctx, *args, **kwargs)
TypeError: request() takes exactly 1 argument (2 given)

Script error:
Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/libmproxy/script/script.py", line 93, in run
    return f(self.ctx, *args, **kwargs)
TypeError: response() takes exactly 1 argument (2 given)
netlib-0.17
script.py example
import io
import re
import requests
import time

def request(flow):
   #ok
def response(flow):
   #ok
Working nice on local! But fails on Debian server.
(Sorry if duplicated)