simov commented on 17 Mar 2017
Hi,
I'm having problems with the certificates that mitmproxy generates for me:
sudo cp ~/.mitmproxy/*.* /usr/share/ca-certificates/mitmproxy/
sudo dpkg-reconfigure ca-certificates
Then I'm using this script to proxy all requests to mitmproxy.
The error that I'm receiving from a Node app is:
{ Error: certificate signature failure
    at TLSSocket.<anonymous> (_tls_wrap.js:1084:38)
    at emitNone (events.js:86:13)
    at TLSSocket.emit (events.js:188:7)
    at TLSSocket._finishInit (_tls_wrap.js:606:8)
    at TLSWrap.ssl.onhandshakedone (_tls_wrap.js:436:38) code: 'CERT_SIGNATURE_FAILURE' }
The HTTPS requests fail from any other app too. I can verify that all traffic is indeed proxied to mitm, bacause all HTTP traffic is logged using the above script and also if I disable the TLS security in my test Node app the HTTPS requests are logged out too. Unfortunately I can't disable the TLS security for the app that I want to debug.
System information:
ubuntu 16.10
mitmproxy 0.15