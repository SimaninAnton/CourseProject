ymongo commented on 26 Oct 2019
Steps to reproduce the problem:
Newbie on Mac, I'm trying to use mtmproxy in transparent mode. I have an error when trying to change pf rules, it can't read my file. (not mitmproxy bug, but hope someone can help!)
Follow step 2 of https://docs.mitmproxy.org/stable/howto-transparent/ on a macOS High Sierra: create a file named pf.conf, paste in it the rdr command, I did in the TextEditor, saved without extension and encoded UTF8.
From terminal run sudo pfctl -f pf.conf: I receive this error:
pfctl: Use of -f option, could result in flushing of rules
present in the main ruleset added by the system at startup.
See /etc/pf.conf for further details.
No ALTQ support in kernel
ALTQ related functions disabled
pf.conf:1: syntax error
Any other comments? What have you tried so far?
System information
MacBook Pro (13 pouces, mi-2010)
High Sierra 10.13.4
Mitmproxy
Mitmproxy: 4.0.4
Python: 3.7.4
OpenSSL: OpenSSL 1.1.1d 10 Sep 2019
Platform: Darwin-17.5.0-x86_64-i386-64bit