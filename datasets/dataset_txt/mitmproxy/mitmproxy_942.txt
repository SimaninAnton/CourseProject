Contributor
phackt commented on 15 Sep 2016
Steps to reproduce the problem:
https://github.com/mitmproxy/mitmproxy/blob/v0.17.1/examples/sslstrip.py
https://github.com/mitmproxy/mitmproxy/blob/master/examples/sslstrip.py
What is the expected behavior?
Should pop headers from response (flow.response.headers) instead of request.
What went wrong?
def response(flow):
flow.request.headers.pop('Strict-Transport-Security', None)
flow.request.headers.pop('Public-Key-Pins', None)
Any other comments? What have you tried so far?
Issue created in order to track discussion https://discourse.mitmproxy.org/t/inline-script-sslstrip-py-with-flow-request-headers-in-response-function/169
Mitmproxy Version: 0.17.1
Operating System: #1 SMP Debian 4.6.4-1kali1 x86_64 GNU/Linux