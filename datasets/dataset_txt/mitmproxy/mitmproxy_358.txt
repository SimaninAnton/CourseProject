kjkpoi commented on 16 Mar 2018 â€¢
edited
In my job, mitmproxy speed is bottleneck.
I try to make load balancer with nginx server.
I set my mitmproxy processes as upstream back end
Below example setting is my nginx setting
http{
    upstream mymitmproxy {
        server mitmproxy.example1.com;
        server mitmproxy.example2.com;
        server mitmproxy.example3.com;
    }
  
    server {
        listen 8080;

        location / {
            proxy_pass http://mymitmproxy;
        }
    }
}
I check the traffic is transffered to mitm proxies but there is an error occur.
<< Invalid HTTP request form (expected: authority or absolute, got: relative)
HTTP protocol error in client request: Invalid HTTP request form (expected: authority or absolute, got: relative)
Somebody help me :)
Thanks.