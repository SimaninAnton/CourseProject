Member
cortesi commented on 11 Dec 2017
I've been working on a number of projects that use protobufs and GRPC, and I've seen the light. I propose that in the next iteration of mitmproxy, we shift our serialisation format away from our custom bson to protocol buffers. This has a number of benefits:
At the moment, it's tough to know exactly what's in our serialisation format, because the relevant code is spread throughout our codebase. With protobufs, we'd have a single, concise specification for what's on disk.
We would immediately get the ability to read and write mitmproxy's dump format from nearly all other languages "for free".
We would get ready to possibly use GRPC down the track, both in mitmproxy itself, and in any auxiliary services around it.
This should be done at the same time as #2196.