ghost commented on 15 Aug 2017 â€¢
edited by mhils
Execute mitmproxy/platform/windows.py
Here log:
 * Transparent proxy active.
   Filter: tcp.DstPort == 80 or tcp.DstPort == 443
Exception in thread Thread-3:
Traceback (most recent call last):
  File "C:\python32\python-2.7.10\lib\threading.py", line 810, in __bootstrap_inner
    self.run()
  File "C:\python32\python-2.7.10\lib\threading.py", line 763, in run
    self.__target(*self.__args, **self.__kwargs)
  File "D:/source/SmartAuto/mitmproxy/platform/windows.py", line 314, in request_local
    client = (packet.src_addr, packet.src_port)
  File "C:\python32\python-2.7.10\lib\site-packages\pydivert\models.py", line 416, in src_addr
    return addr_to_string(self.address_family, src_addr, self.encoding)
  File "C:\python32\python-2.7.10\lib\site-packages\pydivert\winutils.py", line 59, in addr_to_string
    return inet_ntop(socket.AF_INET6, struct.pack("<IIII", *value), encoding)
  File "C:\python32\python-2.7.10\lib\site-packages\pydivert\winutils.py", line 119, in inet_ntop
    raise socket.error(FormatError())
error: The system detected an invalid pointer address in attempting to use a pointer argument in a call.