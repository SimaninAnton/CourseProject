qwelias commented on 21 Aug 2018 â€¢
edited
Steps to reproduce the problem:
$ sudo pacman -S mitmproxy
$ mitmproxy
Any other comments? What have you tried so far?
Traceback (most recent call last):
  File "/usr/bin/mitmproxy", line 11, in <module>
    load_entry_point('mitmproxy==4.0.4', 'console_scripts', 'mitmproxy')()
  File "/usr/lib/python3.7/site-packages/mitmproxy/tools/_main.py", line 149, in mitmproxy
    run(console.master.ConsoleMaster, cmdline.mitmproxy, args)
  File "/usr/lib/python3.7/site-packages/mitmproxy/tools/_main.py", line 93, in run
    os.path.join(opts.confdir, OPTIONS_FILE_NAME),
  File "/usr/lib/python3.7/site-packages/mitmproxy/optmanager.py", line 527, in load_paths
    load(opts, txt)
  File "/usr/lib/python3.7/site-packages/mitmproxy/optmanager.py", line 507, in load
    opts.update_defer(**data)
  File "/usr/lib/python3.7/site-packages/mitmproxy/optmanager.py", line 221, in update_defer
    unknown = self.update_known(**kwargs)
  File "/usr/lib/python3.7/site-packages/mitmproxy/optmanager.py", line 216, in update_known
    self._options[k].set(v)
  File "/usr/lib/python3.7/site-packages/mitmproxy/optmanager.py", line 57, in set
    typecheck.check_option_type(self.name, value, self.typespec)
  File "/usr/lib/python3.7/site-packages/mitmproxy/utils/typecheck.py", line 63, in check_option_type
    raise e
TypeError: Expected typing.Sequence[str] for client_replay, but got <class 'ruamel.yaml.comments.CommentedSeq'>.
Under root works as expected
System information
Mitmproxy: 4.0.4
Python: 3.7.0
OpenSSL: OpenSSL 1.1.0i 14 Aug 2018
Platform: Linux-4.18.3-arch1-1-ARCH-x86_64-with-arch