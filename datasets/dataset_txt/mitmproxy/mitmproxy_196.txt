tomlabaude commented on 24 Oct 2018
Steps to reproduce the problem:
Download those JPEGs:
https://img.lemde.fr/2018/10/09/1/0/3008/2005/184/122/60/0/4991a85_fz3CllPV3V0pbxyjvHkXiu7G.jpg
https://img.lemde.fr/2018/10/09/0/56/4770/3180/184/122/60/0/2616eb7_ZEmpnu_LH1c1xeTNOJ5uM5uh.jpg
Got this error:
ERROR:  Auto Content viewer failed:  ERROR   
Traceback (most recent call last): ERROR   
  File "mitmproxy/contentviews/__init__.py", line 130, in get_content_view ERROR   
  File "mitmproxy/contentviews/auto.py", line 17, in __call__ ERROR   
  File "mitmproxy/contentviews/image/view.py", line 36, in __call__ ERROR   
  File "mitmproxy/contentviews/image/image_parser.py", line 78, in parse_jpeg ERROR   
  File "mitmproxy/contrib/kaitaistruct/exif_be.py", line 572, in ifd0 ERROR   
  File "mitmproxy/contrib/kaitaistruct/exif_be.py", line 31, in __init__ ERROR   
  File "mitmproxy/contrib/kaitaistruct/exif_be.py", line 522, in __init__ ERROR   
  File "enum.py", line 291, in __call__ ERROR   
  File "enum.py", line 533, in __new__ ERROR   
  File "enum.py", line 546, in _missing_ ERROR   
ValueError: 9 is not a valid FieldTypeEnum ERROR 
Any other comments? What have you tried so far?
Not sure if those JPEG are malformed, and how mitmproxy should handle this case
System information
Mitmproxy: 4.0.4 binary
Python: 3.6.5
OpenSSL: OpenSSL 1.1.0h 27 Mar 2018
Platform: Darwin-17.7.0-x86_64-i386-64bit