nesttle commented on 2 Sep 2017
Steps to reproduce the problem:
Start mitmproxy with -U parameter (Upstream proxy)
Connect to this proxy with PhantomJS
Connection stucks/hangs
Any other comments? What have you tried so far?
Upstream proxy is working fine with Mozilla Firefox (after installing mitm.pem), and Chrome (sometimes, other times SSL certificate fails).
Upstream proxy isn't working with PhantomJS (with Selenium Python), with or without --ignore-ssl-errors (true|false). Don't know if this issue is related to mitmproxy or PhantomJS.
System information
root@mitm:~# mitmproxy --version
Mitmproxy version: 2.0.2 (release version) 
Python version: 3.5.3
Platform: Linux-4.10.0-33-generic-i686-with-Ubuntu-17.04-zesty
SSL version: OpenSSL 1.0.2g  1 Mar 2016
Linux distro: Ubuntu 17.04 zesty