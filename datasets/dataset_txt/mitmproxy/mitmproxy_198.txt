jabley commented on 23 Oct 2018
Steps to reproduce the problem:
Follow the steps for transparent proxying in the documentation â€“ https://docs.mitmproxy.org/stable/howto-transparent/
Last step fails
> sudo -u nobody mitmproxy --mode transparent --showhost
sudo: unable to execute /opt/boxen/homebrew/bin/mitmproxy: Permission denied
mitmproxy has been installed with the following she-bang:
#!/opt/boxen/homebrew/Cellar/mitmproxy/4.0.4/libexec/bin/python3.7
Python3.7 looks like:
> ll /opt/boxen/homebrew/Cellar/mitmproxy/4.0.4/libexec/bin/python3.7
-rwxr-xr-x  1 jabley  staff  12552 31 Jul 13:01 /opt/boxen/homebrew/Cellar/mitmproxy/4.0.4/libexec/bin/python3.7
Any other comments? What have you tried so far?
I can execute other commands using sudo -u nobody
> sudo -u nobody ls
cdn-acceptance-tests gds-boxen  govuk_frontend_toolkit metadata-api  router
System information
> mitmproxy --version
Mitmproxy: 4.0.4 (+504, commit fdd8e9b)
Python:    3.7.0
OpenSSL:   OpenSSL 1.0.2p  14 Aug 2018
Platform:  Darwin-17.7.0-x86_64-i386-64bit