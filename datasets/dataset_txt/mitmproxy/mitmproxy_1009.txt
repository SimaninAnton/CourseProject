shrikantkaramkar commented on 23 Jul 2016 â€¢
edited
Steps to reproduce the problem:
1. Redirecting multiple request in my app.
2. all my redirections are: pointing server URL to local folders having stored data in files
3. When I start the mitmproxy with all redirection then as per code url's are redirecting to expected 
4. the problem I am facing is application is not loading, and to load the application I need to stop the mitmproxy.
5. Why should I need to stop the MITMPROXY to load the application.
For example
if flow.request.pretty_url.endswith("prompt=login&ui_locales=en"):

            print("In First Request If: ")
            resp = HTTPResponse(
                                 "HTTP/1.1",
                                 302,
                                 "Moved Temporarily",
                                 Headers([
                                            ["Server", "Apache"],
                                            ["Date", "Wed, 21 Jul 2016 23:23:48 GMT"],
                                            ["Location", "https://login.xxxxx.net/oauth/authorize"],
                                            ["Set-Cookie", "abc"],
                                            ["Vary", "Accept-Encoding"],
                                            ["Content-Encoding", "gzip"],
                                            ["Keep-Alive", "timeout=5, max=448"],
                                            ["Connection", "Keep-Alive"],
                                            ["Transfer-Encoding", "chunked"],
                                            ["Content-Type", "text/html"]
                                ]),
                                ("<html><head><title>302 Moved Temporarily</title></head>"
"<body bgcolor="#FFFFFF">"
"<p>This document you requested has moved temporarily.</p>"
"<p>It's now at <a href=\"https://login.xxxxxx.net/oauth/authorize</a>.</p>"
"</body></html>")
            )
            flow.reply(resp)
 @mhils
 mitmproxy member
Mitmproxy Version: 0.15
Operating System: OSX