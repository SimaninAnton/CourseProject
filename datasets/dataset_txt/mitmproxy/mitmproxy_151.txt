vfaronov commented on 21 Mar 2019
Steps to reproduce the problem:
Start mitmproxy.
Run a request through it and observe that the Date header of the response is correct:
$ curl -six http://localhost:8080 http://httpbin.org/status/200 | grep Date:
Date: Thu, 21 Mar 2019 12:45:00 GMT
In mitmproxy, start server replay:
: replay.server @all
Run a request again and observe that the Date header now has -0000 instead of GMT:
$ curl -six http://localhost:8080 http://httpbin.org/status/200 | grep Date:
Date: Thu, 21 Mar 2019 12:46:58 -0000
Any other comments? What have you tried so far?
Per RFC 7231 ยง 7.1.1, a correct HTTP date always has GMT.
System information
Mitmproxy: 4.0.4 binary
Python:    3.6.3
OpenSSL:   OpenSSL 1.1.0h  27 Mar 2018
Platform:  Linux-4.15.0-46-generic-x86_64-with-debian-buster-sid