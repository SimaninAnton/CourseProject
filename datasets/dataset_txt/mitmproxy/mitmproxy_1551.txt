NormanOu commented on 29 Dec 2014
I installed mitmproxy on aws ubuntu, and every time I press C to clean the screen, mitmproxy crashes and the log is as follows.
And there is another problem, setting -w is not working, nothing is write to the file.
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/console/__init__.py", line 610, in run
    self.ui.run_wrapper(self.loop)
  File "/usr/local/lib/python2.7/dist-packages/urwid/display_common.py", line 757, in run_wrapper
    return fn()
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/console/__init__.py", line 821, in loop
    size = self.drawscreen()
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/console/__init__.py", line 787, in drawscreen
    canvas = self.view.render(size, focus=1)
  File "/usr/local/lib/python2.7/dist-packages/urwid/widget.py", line 141, in cached_render
    canv = fn(self, size, focus=focus)
  File "/usr/local/lib/python2.7/dist-packages/urwid/container.py", line 1083, in render
    focus and self.focus_part == 'body')
  File "/usr/local/lib/python2.7/dist-packages/urwid/widget.py", line 141, in cached_render
    canv = fn(self, size, focus=focus)
  File "/usr/local/lib/python2.7/dist-packages/urwid/listbox.py", line 457, in render
    (maxcol, maxrow), focus=focus)
  File "/usr/local/lib/python2.7/dist-packages/urwid/listbox.py", line 342, in calculate_visible
    focus_widget, focus_pos = self.body.get_focus()
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/console/flowlist.py", line 216, in get_focus
    f, i = self.state.get_focus()
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/console/__init__.py", line 302, in get_focus
    return self.view[self.focus], self.focus
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/flow.py", line 359, in __getitem__
    return self._list[item]
IndexError: list index out of range