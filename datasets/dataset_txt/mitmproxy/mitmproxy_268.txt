Sfinx commented on 16 Jun 2018 â€¢
edited
Steps to reproduce the problem:
setup two socks5 proxies (srelay & mitmproxy) at some amazon server (I've used free tier)
install stock ubuntu tsocks app at your test box
use simple /etc/tsocks.conf:
server = amazon_server_ip
# Server type defaults to 4 so we need to specify it as 5 for this one
server_type = 5
# The port defaults to 1080 but I've stated it here for clarity
server_port = 8080
launch slrealy proxy at amazon server and check some connection from some external to amazon host test box : tsocks telnet some_host 22
Trying xxxxx...
Connected to xxxxxx.
Escape character is '^]'.
SSH-2.0-OpenSSH_7.2p2 Ubuntu-4ubuntu2.4
All is working as expected.
Stop srelay, launch mitmproxy as mitmproxy -m socks5 :
tsocks telnet xxxxx 22
Trying xxxxx...
telnet: Unable to connect to remote host: Transport endpoint is not connected
Stock Ubuntu 16.04.4 LTS at amazon & Ubuntu 18.04 as second box & 4.0.3 mitmproxy