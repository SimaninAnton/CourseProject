caffeinatedMike commented on 2 Jan 2018
I read in earlier issues (from 2016) that libmproxy was no longer used. I guess it was added back in recently? Anyway, that is the error I get when trying to run my mitmdump command.
Rundown:
I want to turn my laptop into a hotspot and run mitmproxy on it, so that all devices that connect to it will have my script injected to every webpage they visit (it’s a mining script). So, in exchange for the free WiFi I can earn some revenue. It is fully exposed that this will happen. Is the line I’m using to run mitmproxy/mitmdump in this snapshot correct for this? Will this work as I intended it? Right now after I run the command and try to connect to the hotspot I can't get internet connection from it. I made sure to turn port forwarding on with
sysctl -w net.ipv4.ip_forward=1
Then I run
iptables -t nat -A PREROUTING -i wlan0 -p tcp --dport 80 -j REDIRECT --to-port 8080
iptables -t nat -A PREROUTING -i wlan0 -p tcp --dport 443 -j REDIRECT --to-port 8080
Then I run the mitmproxy command as shown in the screenshot.
mitmdump --mode transparent -p 8080 -s "js_injector.js"
What am I doing wrong?