Contributor
Oliver-Fish commented on 23 Mar 2018
Steps to reproduce the problem:
Upgrade from Python-h11-0.7.0 to 0.8.0
Any other comments? What have you tried so far?
After Upgrading I get the following error (Please note that 0.8.0 is now being pushed by Arch Linux Repos)
Traceback (most recent call last):
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 574, in _build_master
ws.require(requires)
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 892, in require
needed = self.resolve(parse_requirements(requirements))
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 783, in resolve
raise VersionConflict(dist, req).with_context(dependent_req)
pkg_resources.ContextualVersionConflict: (h11 0.8.0 (/usr/lib/python3.6/site-packages), Requirement.parse('h11~=0.7.0'), {'wsproto'})
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
File "/usr/bin/mitmproxy", line 6, in
from pkg_resources import load_entry_point
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 3088, in
@_call_aside
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 3072, in _call_aside
f(*args, **kwargs)
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 3101, in _initialize_master_working_set
working_set = WorkingSet._build_master()
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 576, in _build_master
return cls._build_from_requirements(requires)
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 589, in _build_from_requirements
dists = ws.resolve(reqs, Environment())
File "/usr/lib/python3.6/site-packages/pkg_resources/init.py", line 783, in resolve
raise VersionConflict(dist, req).with_context(dependent_req)
pkg_resources.ContextualVersionConflict: (h11 0.8.0 (/usr/lib/python3.6/site-packages), Requirement.parse('h11~=0.7.0'), {'wsproto'})
System information
Mitmproxy: 3.0.3
Python: 3.6.4
OpenSSL: OpenSSL 1.1.0g 2 Nov 2017
Platform: Linux-4.15.11-1-ARCH-x86_64-with-arch