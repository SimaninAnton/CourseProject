blshkv commented on 5 Jan 2017 â€¢
edited
The latest release and the HEAD copy are affected:
bash$ mitmproxy
#################################################
# mitmproxy only supports Python 3.5 and above! #
#################################################
Traceback (most recent call last):
  File "/usr/lib/python-exec/python3.4/mitmproxy", line 9, in <module>
    load_entry_point('mitmproxy==1.0.2', 'console_scripts', 'mitmproxy')()
  File "/usr/lib64/python3.4/site-packages/mitmproxy/tools/main.py", line 58, in mitmproxy
    from mitmproxy.tools import console
  File "/usr/lib64/python3.4/site-packages/mitmproxy/tools/console/__init__.py", line 1, in <module>
    from mitmproxy.tools.console import master
  File "/usr/lib64/python3.4/site-packages/mitmproxy/tools/console/master.py", line 25, in <module>
    from mitmproxy.tools.console import flowview
  File "/usr/lib64/python3.4/site-packages/mitmproxy/tools/console/flowview.py", line 9, in <module>
    from mitmproxy import contentviews
  File "/usr/lib64/python3.4/site-packages/mitmproxy/contentviews/__init__.py", line 24, in <module>
    from . import (
  File "/usr/lib64/python3.4/site-packages/mitmproxy/contentviews/auto.py", line 1, in <module>
    from mitmproxy import contentviews
ImportError: cannot import name 'contentviews'
I dont think it is a python3.4 problem.
The commit in questions is below:
a7ba2f7
mitmproxy/contentviews/auto.py
+from mitmproxy import contentviews
It must be a typo here as I don't think it makes sense to import its own module. I have commented out this line and the tool started to work.