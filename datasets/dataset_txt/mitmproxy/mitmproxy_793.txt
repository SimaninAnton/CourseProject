vikstrous commented on 18 Jan 2017
For debugging docker things I use the following method in 3 shells right now:
socat tcp-listen:3000,bind=127.0.0.1,reuseaddr,fork UNIX-CONNECT:/var/run/docker.sock
mitmproxy -R http://localhost:3000 -p 3001
export DOCKER_HOST=127.0.0.1:3001
docker service ps 53pr4a3e2zkj
It would be really cool if mitm proxy supported acting as a reverse proxy to a unix socket. That would remove the need for the socat. I imagine it working like this:
mitmproxy -R unix:///var/run/docker.sock -p 3001