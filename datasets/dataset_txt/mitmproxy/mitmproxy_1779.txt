bustavo commented on 20 May 2013
This is the error I get when running mitmproxy.
I checked this post:
https://github.com/cortesi/mitmproxy/issues/117
I am already running pyOpenSSL 0.13
Does anyone know what might be wrong?
Thanks
Error in processing of request from 127.0.0.1:53236
Traceback (most recent call last):
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 353, in request_thread
self.handle_connection(request, client_address)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 533, in handle_connection
h.handle()
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 188, in handle
while self.handle_request(cc) and not cc.close:
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 203, in handle_request
request = self.read_request(cc)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 452, in read_request
return self.read_request_proxy(client_conn)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 386, in read_request_proxy
dummycert = self.find_cert(client_conn, host, port, host)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 316, in find_cert
conn = self.get_server_connection(cc, "https", host, port, sni)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 176, in get_server_connection
self.server_conn.connect()
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 75, in connect
self.convert_to_ssl(cert=clientcert, sni=self.sni)
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 198, in convert_to_ssl
self.connection.set_tlsext_host_name(sni)
AttributeError: '_socketobject' object has no attribute 'set_tlsext_host_name'