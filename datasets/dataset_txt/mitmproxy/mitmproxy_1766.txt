pridkett commented on 20 Jul 2013
I'm attempting to use mitmproxy 0.9.1 as a transparent proxy with the following command line:
mitmproxy -T --host -p 3128
However, as soon as any connection is made to the proxy in the mode, it is immediately closed. The event log isn't that helpful either:
127.0.0.1:56124: connect
127.0.0.1:56124: [Errno 92] Protocol not available
127.0.0.1:56124: disconnect
  -> handled 0 requests
Here's various elements of potentially relevant system information:
OS: CentOS 6.4 Final x86_64
Kernel: Linux v525400346172 2.6.32-358.6.2.el6.x86_64 #1 SMP Thu May 16 20:59:36 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux
Python 2.7.5
PyOpenSSL 0.13
mitmproxy works as expected when not in transparent mode and running as an explicit proxy.