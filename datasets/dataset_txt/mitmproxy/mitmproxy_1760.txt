Member
mhils commented on 13 Aug 2013
Hey Aldo,
adding mitmproxy-gui (HoneyProxy) next to mitmproxy and mitmdump, it seems like the current options handling produces duplicate spaghetti code.
The option processing is splitted in cmdline.get_common_options() and the mitmproxy/mitmdump files.
The [dump|console].Options classes just repeat the allowed parameters.
IMHO, we could dump the Options classes and incorporate the get_common_options(opts) logic into the common_options(parser) function. We can pass the options object returned by parser.parse_args() to the FlowMaster then.
This would a) reduce fragmentation and b) would reintroduce the point of the Options classes again, namely limiting the option names to a limited set (as it was with slots).
Your thoughts?
Cheers,
Max