amitbha commented on 4 Jun 2019
Steps to reproduce the problem:
mitmdump running in linux.
cp ~/mitmproxy/mitmproxy-ca-cert.p12 to windows xp, and import into root cert.
run the app (weixin-windows, download link) in windows xp, set its proxy to mitmdump.
mitmdump print lots of errors like:
192.168.10.102:2245: CONNECT 14.215.158.119:80
<< HTTP protocol error in client request: Bad HTTP request line: b"\x16\xf1\x03\x00\xa1\x00\ ........
192.168.10.102:2245: clientdisconnect
the expected traffic to "mp.weixin.qq.com" never seen.
Any other comments? What have you tried so far?
Also tried Fiddler4 in windows, with "Decrypt HTTPS Traffic" enabled, worked as expect, no errors.
System information
# mitmproxy --version
Mitmproxy: 4.0.4
Python:    3.7.3
OpenSSL:   OpenSSL 1.1.1b  26 Feb 2019
Platform:  Linux-4.18.20-1-MANJARO-x86_64-with-arch-Manjaro-Linu