Calpicow commented on 26 Jun 2015
Using the below command and code to intercept requests. I would expect all requests to return "Test", but it will occasionally bypass to the reverse proxy target. Using 0.12.1.
mitmdump -R http://localhost -p 8080 -s leak.py
from libmproxy.protocol.http import HTTPResponse
from libmproxy.script import concurrent
from netlib.odict import ODictCaseless


@concurrent
def request(context, flow):
    resp = HTTPResponse([1, 1], 200, "OK", ODictCaseless([["Content-Type", "text/html"]]), "Test")
    flow.reply(resp)