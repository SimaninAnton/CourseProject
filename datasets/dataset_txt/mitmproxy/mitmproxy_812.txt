vfaronov commented on 28 Dec 2016
In mitmproxy 0.18, I could have a --conf with a line like this:
reverse = http://server01.example.net:1181
which caused mitmproxy to start in reverse proxy mode.
But I canâ€™t seem to find an equivalent in mitmproxy 1.0:
$ mitmproxy --conf tools/mitmproxy/api.yaml 
Traceback (most recent call last):
  File "/home/vasiliy/env/mitmproxy/bin/mitmproxy", line 11, in <module>
    sys.exit(mitmproxy())
  File "/home/vasiliy/env/mitmproxy/lib/python3.5/site-packages/mitmproxy/tools/main.py", line 68, in mitmproxy
    console_options.load_paths(args.conf)
  File "/home/vasiliy/env/mitmproxy/lib/python3.5/site-packages/mitmproxy/optmanager.py", line 245, in load_paths
    self.load(txt)
  File "/home/vasiliy/env/mitmproxy/lib/python3.5/site-packages/mitmproxy/optmanager.py", line 232, in load
    self.update(**data)
  File "/home/vasiliy/env/mitmproxy/lib/python3.5/site-packages/mitmproxy/optmanager.py", line 141, in update
    raise KeyError("No such option: %s" % k)
KeyError: 'No such option: reverse'
So I have to specify --reverse on the command line every time, which is inconvenient.