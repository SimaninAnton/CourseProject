yowenter commented on 22 Dec 2016 â€¢
edited
Steps to reproduce the problem:
Hi, there,
I start mitmproxy use ./mitmproxy --port=8081
I add the /$HOME/.mitmproxy/mitmproxy-ca-cert.cer to the login keychain
When I opened 'https://google.com' use chrome proxed by switch omega .It raise an error.
Traceback (most recent call last):
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/proxy/server.py", line 120, in handle
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/proxy/modes/http_proxy.py", line 10, in call
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/protocol/tls.py", line 267, in call
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/protocol/tls.py", line 392, in _establish_tls_with_client_and_server
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/protocol/tls.py", line 389, in _establish_tls_with_client_and_server
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/protocol/tls.py", line 398, in _establish_tls_with_client
File "/Users/travis/build/mitmproxy/mitmproxy/libmproxy/protocol/tls.py", line 497, in _find_cert
AttributeError: 'NoneType' object has no attribute 'host'
mitmproxy has crashed!
Please lodge a bug report at: https://github.com/mitmproxy/mitmproxy
Any other comments? What have you tried so far?
But it works well on my iPhone .I installed the cert on my phone, and then I set the network proxy .
I can visit https websites.
System information