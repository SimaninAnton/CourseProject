msimonc commented on 8 Jun 2014
Earlier problems overcome with:
sudo apt-get install build-essential libssl-dev libffi-dev python-dev
sudo pip install --upgrade setuptools
Now stuck on:
sudo pip install mitmproxy
Downloading/unpacking mitmproxy
Downloading mitmproxy-0.10.1.tar.gz (3.4MB): 3.4MB downloaded
Running setup.py egg_info for package mitmproxy
Downloading/unpacking netlib>=0 (from mitmproxy)
Downloading netlib-0.10.tar.gz (60kB): 60kB downloaded
Running setup.py egg_info for package netlib
Downloading/unpacking urwid>=1.1 (from mitmproxy)
Downloading urwid-1.2.1.tar.gz (578kB): 578kB downloaded
Running setup.py egg_info for package urwid
warning: no files found matching 'CHANGELOG'
Downloading/unpacking pyasn1>0.1.2 (from mitmproxy)
Downloading pyasn1-0.1.7.tar.gz (68kB): 68kB downloaded
Running setup.py egg_info for package pyasn1
Downloading/unpacking pyopenssl>=0.13 (from mitmproxy)
Downloading pyOpenSSL-0.14.tar.gz (128kB): 128kB downloaded
Running setup.py egg_info for package pyopenssl
warning: no previously-included files matching '*.pyc' found anywhere in distribution
no previously-included directories found matching 'doc/_build'
Downloading/unpacking Pillow>=2.3.0,<2.4 (from mitmproxy)
Downloading Pillow-2.3.1.zip (2.4MB): 2.4MB downloaded
Running setup.py egg_info for package Pillow
Downloading/unpacking lxml (from mitmproxy)
Downloading lxml-3.3.5.tar.gz (3.5MB): 3.5MB downloaded
Running setup.py egg_info for package lxml
/usr/lib/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'bugtrack_url'
warnings.warn(msg)
Building lxml version 3.3.5.
Building without Cython.
ERROR: /bin/sh: 1: xslt-config: not found
** make sure the development packages of libxml2 and libxslt are installed **

Using build configuration of libxslt

warning: no previously-included files found matching '*.py'
Downloading/unpacking flask (from mitmproxy)
Downloading Flask-0.10.1.tar.gz (544kB): 544kB downloaded
Running setup.py egg_info for package flask
warning: no files found matching '*' under directory 'tests'
warning: no previously-included files matching '*.pyc' found under directory 'docs'
warning: no previously-included files matching '*.pyo' found under directory 'docs'
warning: no previously-included files matching '*.pyc' found under directory 'tests'
warning: no previously-included files matching '*.pyo' found under directory 'tests'
warning: no previously-included files matching '*.pyc' found under directory 'examples'
warning: no previously-included files matching '*.pyo' found under directory 'examples'
no previously-included directories found matching 'docs/_build'
no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking cryptography>=0.2.1 (from pyopenssl>=0.13->mitmproxy)
Downloading cryptography-0.4.tar.gz (260kB): 260kB downloaded
Running setup.py egg_info for package cryptography
no previously-included directories found matching 'documentation/_build'
zip_safe flag not set; analyzing archive contents...
six: module references path
Installed /tmp/pip_build_root/cryptography/six-1.7.0-py2.7.egg
Searching for cffi>=0.8
Reading https://pypi.python.org/simple/cffi/
Best match: cffi 0.8.2
Downloading https://pypi.python.org/packages/source/c/cffi/cffi-0.8.2.tar.gz#md5=37fc88c62f40d04e8a18192433f951ec
Processing cffi-0.8.2.tar.gz
Writing /tmp/easy_install-sHeEOF/cffi-0.8.2/setup.cfg
Running cffi-0.8.2/setup.py -q bdist_egg --dist-dir /tmp/easy_install-sHeEOF/cffi-0.8.2/egg-dist-tmp-kivBBf
cc -c c/check__thread.c -o c/check__thread.o

Installed /tmp/pip_build_root/cryptography/cffi-0.8.2-py2.7-linux-x86_64.egg
Searching for pycparser
Reading https://pypi.python.org/simple/pycparser/
Best match: pycparser 2.10
Downloading https://pypi.python.org/packages/source/p/pycparser/pycparser-2.10.tar.gz#md5=d87aed98c8a9f386aa56d365fe4d515f
Processing pycparser-2.10.tar.gz
Writing /tmp/easy_install-XgkkkT/pycparser-2.10/setup.cfg
Running pycparser-2.10/setup.py -q bdist_egg --dist-dir /tmp/easy_install-XgkkkT/pycparser-2.10/egg-dist-tmp-Nh3arS
zip_safe flag not set; analyzing archive contents...

Installed /tmp/pip_build_root/cryptography/pycparser-2.10-py2.7.egg

building '_Cryptography_cffi_684bb40axf342507b' extension
x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c cryptography/hazmat/primitives/__pycache__/_Cryptography_cffi_684bb40axf342507b.c -o /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/__pycache__/cryptography/hazmat/primitives/__pycache__/_Cryptography_cffi_684bb40axf342507b.o
x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/__pycache__/cryptography/hazmat/primitives/__pycache__/_Cryptography_cffi_684bb40axf342507b.o -o /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/__pycache__/_Cryptography_cffi_684bb40axf342507b.so
Traceback (most recent call last):
  File "<string>", line 16, in <module>
  File "/tmp/pip_build_root/cryptography/setup.py", line 174, in <module>
    "test": PyTest,
  File "/usr/lib/python2.7/distutils/core.py", line 152, in setup
    dist.run_commands()
  File "/usr/lib/python2.7/distutils/dist.py", line 953, in run_commands
    self.run_command(cmd)
  File "/usr/lib/python2.7/distutils/dist.py", line 972, in run_command
    cmd_obj.run()
  File "<string>", line 14, in replacement_run
  File "/usr/local/lib/python2.7/dist-packages/setuptools/command/egg_info.py", line 187, in find_sources
    mm.run()
  File "/usr/local/lib/python2.7/dist-packages/setuptools/command/egg_info.py", line 271, in run
    self.add_defaults()
  File "/usr/local/lib/python2.7/dist-packages/setuptools/command/egg_info.py", line 300, in add_defaults
    sdist.add_defaults(self)
  File "/usr/local/lib/python2.7/dist-packages/setuptools/command/sdist.py", line 168, in add_defaults
    build_py = self.get_finalized_command('build_py')
  File "/usr/lib/python2.7/distutils/cmd.py", line 312, in get_finalized_command
    cmd_obj.ensure_finalized()
  File "/usr/lib/python2.7/distutils/cmd.py", line 109, in ensure_finalized
    self.finalize_options()
  File "/usr/local/lib/python2.7/dist-packages/setuptools/command/build_py.py", line 26, in finalize_options
    orig.build_py.finalize_options(self)
  File "/usr/lib/python2.7/distutils/command/build_py.py", line 46, in finalize_options
    ('force', 'force'))
  File "/usr/lib/python2.7/distutils/cmd.py", line 298, in set_undefined_options
    src_cmd_obj.ensure_finalized()
  File "/usr/lib/python2.7/distutils/cmd.py", line 109, in ensure_finalized
    self.finalize_options()
  File "/tmp/pip_build_root/cryptography/setup.py", line 88, in finalize_options
    self.distribution.ext_modules = get_ext_modules()
  File "/tmp/pip_build_root/cryptography/setup.py", line 65, in get_ext_modules
    from cryptography.hazmat.primitives import constant_time, padding
  File "cryptography/hazmat/primitives/padding.py", line 25, in <module>
    from cryptography.hazmat.primitives import interfaces
  File "cryptography/hazmat/primitives/interfaces.py", line 21, in <module>
    @six.add_metaclass(abc.ABCMeta)
AttributeError: 'module' object has no attribute 'add_metaclass'
Complete output from command python setup.py egg_info:
no previously-included directories found matching 'documentation/_build'
zip_safe flag not set; analyzing archive contents...
six: module references path
Installed /tmp/pip_build_root/cryptography/six-1.7.0-py2.7.egg
Searching for cffi>=0.8
Reading https://pypi.python.org/simple/cffi/
Best match: cffi 0.8.2
Downloading https://pypi.python.org/packages/source/c/cffi/cffi-0.8.2.tar.gz#md5=37fc88c62f40d04e8a18192433f951ec
Processing cffi-0.8.2.tar.gz
Writing /tmp/easy_install-sHeEOF/cffi-0.8.2/setup.cfg
Running cffi-0.8.2/setup.py -q bdist_egg --dist-dir /tmp/easy_install-sHeEOF/cffi-0.8.2/egg-dist-tmp-kivBBf
cc -c c/check__thread.c -o c/check__thread.o
Installed /tmp/pip_build_root/cryptography/cffi-0.8.2-py2.7-linux-x86_64.egg
Searching for pycparser
Reading https://pypi.python.org/simple/pycparser/
Best match: pycparser 2.10
Downloading https://pypi.python.org/packages/source/p/pycparser/pycparser-2.10.tar.gz#md5=d87aed98c8a9f386aa56d365fe4d515f
Processing pycparser-2.10.tar.gz
Writing /tmp/easy_install-XgkkkT/pycparser-2.10/setup.cfg
Running pycparser-2.10/setup.py -q bdist_egg --dist-dir /tmp/easy_install-XgkkkT/pycparser-2.10/egg-dist-tmp-Nh3arS
zip_safe flag not set; analyzing archive contents...
Installed /tmp/pip_build_root/cryptography/pycparser-2.10-py2.7.egg
running egg_info
creating pip-egg-info/cryptography.egg-info
writing requirements to pip-egg-info/cryptography.egg-info/requires.txt
writing pip-egg-info/cryptography.egg-info/PKG-INFO
writing top-level names to pip-egg-info/cryptography.egg-info/top_level.txt
writing dependency_links to pip-egg-info/cryptography.egg-info/dependency_links.txt
writing manifest file 'pip-egg-info/cryptography.egg-info/SOURCES.txt'
warning: manifest_maker: standard file '-c' not found
running build_ext
building '_Cryptography_cffi_684bb40axf342507b' extension
creating /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/cryptography
creating /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/cryptography/hazmat
creating /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/cryptography/hazmat/primitives
creating /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/cryptography/hazmat/primitives/pycache
x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c cryptography/hazmat/primitives/pycache/_Cryptography_cffi_684bb40axf342507b.c -o /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/cryptography/hazmat/primitives/pycache/_Cryptography_cffi_684bb40axf342507b.o
x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/cryptography/hazmat/primitives/pycache/_Cryptography_cffi_684bb40axf342507b.o -o /tmp/pip_build_root/cryptography/cryptography/hazmat/primitives/pycache/_Cryptography_cffi_684bb40axf342507b.so
Traceback (most recent call last):
File "", line 16, in
File "/tmp/pip_build_root/cryptography/setup.py", line 174, in
"test": PyTest,
File "/usr/lib/python2.7/distutils/core.py", line 152, in setup
dist.run_commands()
File "/usr/lib/python2.7/distutils/dist.py", line 953, in run_commands
self.run_command(cmd)
File "/usr/lib/python2.7/distutils/dist.py", line 972, in run_command
cmd_obj.run()
File "", line 14, in replacement_run
File "/usr/local/lib/python2.7/dist-packages/setuptools/command/egg_info.py", line 187, in find_sources
mm.run()
File "/usr/local/lib/python2.7/dist-packages/setuptools/command/egg_info.py", line 271, in run
self.add_defaults()
File "/usr/local/lib/python2.7/dist-packages/setuptools/command/egg_info.py", line 300, in add_defaults
sdist.add_defaults(self)
File "/usr/local/lib/python2.7/dist-packages/setuptools/command/sdist.py", line 168, in add_defaults
build_py = self.get_finalized_command('build_py')
File "/usr/lib/python2.7/distutils/cmd.py", line 312, in get_finalized_command
cmd_obj.ensure_finalized()
File "/usr/lib/python2.7/distutils/cmd.py", line 109, in ensure_finalized
self.finalize_options()
File "/usr/local/lib/python2.7/dist-packages/setuptools/command/build_py.py", line 26, in finalize_options
orig.build_py.finalize_options(self)
File "/usr/lib/python2.7/distutils/command/build_py.py", line 46, in finalize_options
('force', 'force'))
File "/usr/lib/python2.7/distutils/cmd.py", line 298, in set_undefined_options
src_cmd_obj.ensure_finalized()
File "/usr/lib/python2.7/distutils/cmd.py", line 109, in ensure_finalized
self.finalize_options()
File "/tmp/pip_build_root/cryptography/setup.py", line 88, in finalize_options
self.distribution.ext_modules = get_ext_modules()
File "/tmp/pip_build_root/cryptography/setup.py", line 65, in get_ext_modules
from cryptography.hazmat.primitives import constant_time, padding
File "cryptography/hazmat/primitives/padding.py", line 25, in
from cryptography.hazmat.primitives import interfaces
File "cryptography/hazmat/primitives/interfaces.py", line 21, in
@six.add_metaclass(abc.ABCMeta)
AttributeError: 'module' object has no attribute 'add_metaclass'
Cleaning up...
Command python setup.py egg_info failed with error code 1 in /tmp/pip_build_root/cryptography
Storing complete log in /home/mark/.pip/pip.log
mark@gold:~$