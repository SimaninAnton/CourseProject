pavellasta commented on 18 Apr 2014
Hi guys,
I'm getting this while trying to intercept https URL's.
Traceback (most recent call last):
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 376, in request_thread
self.handle_connection(request, client_address)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 549, in handle_connection
h.handle()
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 196, in handle
while self.handle_request(cc) and not cc.close:
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 212, in handle_request
request = self.read_request(cc)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 359, in read_request
return self.read_request_proxy(client_conn)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 390, in read_request_proxy
return self._read_request_origin_form(client_conn, "https", host, port)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 451, in _read_request_origin_form
self.establish_ssl(client_conn, host, port)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 334, in establish_ssl
dummycert = self.find_cert(client_conn, host, port, host)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 324, in find_cert
conn = self.get_server_connection(cc, "https", host, port, sni)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 182, in get_server_connection
self.server_conn.connect()
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 59, in connect
self.convert_to_ssl(cert=clientcert, sni=self.sni)
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 203, in convert_to_ssl
self.connection.set_tlsext_host_name(sni)
AttributeError: '_socketobject' object has no attribute 'set_tlsext_host_name'