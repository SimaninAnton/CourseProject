Calpicow commented on 14 Jul 2015
I'm using HAProxy to connect to a mitmdump reverse proxy in https2http mode. I'm seeing an additional 200ms+ latency for every request, which disappears when I set the proxy back to http mode. HAProxy opens and closes the connection for every request, so I highly suspect it's related to opening an SSL connection.
Right now I'm substituting http2http mode with Nginx to do SSL and proxy pass to mitmdump, and performance is good.
Below is a snippet of HAProxy configuration:
listen test ssl crt test.pem
    bind *:443
    mode http
    balance roundrobin
    server test localhost:443 check ssl verify none