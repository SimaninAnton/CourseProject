mrzor commented on 24 Jan 2013
Hello!
I'm launching mitmproxy -P http://localhost:30001 -p 3001.
Upon first request, mitmproxy crashes with the following strack trace.
Traceback (most recent call last):
  File "/usr/bin/mitmproxy", line 64, in <module>
    m.run()
  File "/usr/lib/python2.7/site-packages/libmproxy/console/__init__.py", line 538, in run
    self.ui.run_wrapper(self.loop)
  File "/usr/lib/python2.7/site-packages/urwid/raw_display.py", line 242, in run_wrapper
    return fn()
  File "/usr/lib/python2.7/site-packages/libmproxy/console/__init__.py", line 747, in loop
    changed = self.tick(self.masterq)
  File "/usr/lib/python2.7/site-packages/libmproxy/flow.py", line 1421, in tick
    return controller.Master.tick(self, q)
  File "/usr/lib/python2.7/site-packages/libmproxy/controller.py", line 77, in tick
    self.handle(msg)
  File "/usr/lib/python2.7/site-packages/libmproxy/controller.py", line 95, in handle
    m(msg)
  File "/usr/lib/python2.7/site-packages/libmproxy/flow.py", line 1499, in handle_clientconnect
    self.add_event("Connect from: %s:%s"%cc.address)
  File "/usr/lib/python2.7/site-packages/libmproxy/console/__init__.py", line 948, in add_event
    self.eventlist.set_focus(len(self.eventlist))
  File "/usr/lib/python2.7/site-packages/urwid/listbox.py", line 178, in set_focus
    raise IndexError, "No widget at position %s" % (position,)
IndexError: No widget at position 1
I'm an ArchLinux user using mitmproxy 0.8, powered by python 2.7.3, using urwid 1.1.1-1.
Anything I can do to help?