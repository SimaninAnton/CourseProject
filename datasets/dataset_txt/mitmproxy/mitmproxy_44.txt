Contributor
mckeimic commented on 15 Nov 2019
A common irritation for my team when using mitmproxy is the inability to export the full HTTP response. While the request can be clipped or saved to a file with the :export.clip raw @focus or :export.file raw @focus /tmp/request.txt, there is no analogous method to save the full text of the response.
I suggest a modification to the export command which supports exporting both the raw request, and the raw response for the flow. Specifically, I suggest splitting the raw export type into raw_request and raw_response.
I've created a custom response export script as a stop-gap measure for myself; however I believe the ability to export the full, plaintext request/response pairs for documentation is a common requirement for penetration testers. As such, there may be a significant enough need to perform this action that a modification to mitmproxy itself is worthwhile.
Unlike the other export options curl and httpie, which are often used to modify and resubmit the original request, my team and I use the raw option to produce documentation of the flow for our reports. For this purpose, the response is as important as the request. A clean way to export the plaintext HTTP of the response is an important usability feature for us.