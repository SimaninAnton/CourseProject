Contributor
fenilgandhi commented on 7 Mar 2018
error: Addon error: Traceback (most recent call last):
    File "/home/coldfire/Projects/mitmproxy/mitmproxy/addons/view.py", line 521, in update
        idx = self._view.index(f)
    File "/home/coldfire/Projects/mitmproxy/venv/lib/python3.6/site-packages/sortedcontainers/sortedlist.py", line 2343, in index
        raise ValueError('{0!r} is not in list'.format(val))
    File "/home/coldfire/Projects/mitmproxy/mitmproxy/http.py", line 182, in __repr__
        return s.format(flow=self)
    File "/home/coldfire/Projects/mitmproxy/mitmproxy/connections.py", line 215, in __repr__
        host=self.address[0],
TypeError: 'NoneType' object is not subscriptable
Steps to reproduce the problem:
Open mitmproxy
set a value for view_filter in Options or using the : set view_filter={str}
Open a attached browser and open any url
Quit the browser and Open the Eventlog in mitmproxy.
Any other comments? What have you tried so far?
Another error occuring for the view_filter option. I was working on a fix for #2801 #2951 when i noticed this other error occurs if any value is setup in view_filter. I think it requires a complete patch once and for all.
System information
Mitmproxy: 4.0.0.dev103 (commit 77ed33b)
Python: 3.6.4
OpenSSL: OpenSSL 1.1.0g 2 Nov 2017
Platform: Linux-4.14.21-1-MANJARO-x86_64-with-arch-Manjaro-Linux