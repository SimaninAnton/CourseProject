Member
Kriechi commented on 4 Sep 2016
Similar to #1521, I'd like to open a discussion about the mitmproxy command line interface tools:
At the moment we have three core applications:
mitmproxy - a curses-based terminal UI / "frontend" to inspect, manipulate HTTP flows, etc.
mitmdump - basically only the proxy part of mitmproxy, without any interaction or "frontend"
mitmweb - serves a similar use case as mitmproxy, but through a HTTP-JS "frontend"
Since the main project is called mitmproxy, as well as the GitHub organisation, and the main repository, it was always a bit unintuitive how the actual binaries are called.
Therefore I'd like to propose that we change the naming of the three main applications (i.e. the words we type into our terminal to start one of the three "frontends") to:
mitmproxy - same as before, starts the curses-based UI
mitmproxy dump behaves as the old mitmdump
mitmproxy web behaves as the old mitmweb
Now, in this case the first argument would determine the frontend to be started. By default (i.e. without a first argument) the curses-based frontend should be started. However, we could also change that, if we detect we are running without a tty (or the screen is too small) and simply fallback to dump mode.
Or maybe instead of introducing a new argument, we could use mitmproxy-dump and mitmproxy-web as binary names. This probably requires one or two more keystrokes to autocomplete though.
For backward compatibility we should still ship the old binaries as well -and add a notification about the rename, so users can adapt their aliases / workflows / scripts.
What do you think?
I'm open for other naming conventions or even completely different names.
/cc @mitmproxy/devs