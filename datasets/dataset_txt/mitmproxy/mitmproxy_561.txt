anbarasu-cloudnix commented on 6 Sep 2017 â€¢
edited
I am trying to start mitmproxy using my php program
// step - 1 start mitm proxy server with port $executeCmd = 'mitmdump -v -p '.$mitmproxyPortNo.' -s "'.$harFileGenerator.' '.$deviceName.'.har" --cert "'.$mitmCaCert.'" -w "'.$deviceName.'.dump"'; system ($executeCmd,$command);
but after stopping the server using ctrl+c
File "d:\python\python35\lib\site-packages\mitmproxy\master.py", line 84, in run
self.tick(0.1)
File "d:\python\python35\lib\site-packages\mitmproxy\master.py", line 93, in tick
mtype, obj = self.event_queue.get(timeout=timeout)
File "d:\python\python35\lib\queue.py", line 173, in get
self.not_empty.wait(remaining)
File "d:\python\python35\lib\threading.py", line 297, in wait
gotit = waiter.acquire(True, timeout)
eyboardInterrupturing handling of the above exception, another exception occurred:raceback (most recent call last):
File "D:\Python\Python35\Scripts\har_dump.py", line 173, in done
mitmproxy.ctx.log("done")
File "d:\python\python35\lib\site-packages\mitmproxy\log.py", line 40, in call
self.master.add_log(text, level)
File "d:\python\python35\lib\site-packages\mitmproxy\master.py", line 71, in add_log
self.addons("log", log.LogEntry(e, level))
File "d:\python\python35\lib\site-packages\mitmproxy\addonmanager.py", line 90, in _call
self.invoke(i, name, *args, **kwargs)
File "d:\python\python35\lib\site-packages\mitmproxy\addonmanager.py", line 85, in invoke
func(*args, **kwargs)
File "d:\python\python35\lib\site-packages\mitmproxy\addons\termlog.py", line 27, in log
err=(e.level == "error")
File "d:\python\python35\lib\site-packages\click\termui.py", line 420, in secho
return echo(style(text, **styles), file=file, nl=nl, err=err, color=color)
File "d:\python\python35\lib\site-packages\click\utils.py", line 260, in echo
file.flush()
SError: [Errno 22] Invalid argument
xception ignored in: <_io.TextIOWrapper name='' mode='w' encoding='cp1252'>
SError: [Errno 22] Invalid
how to resolve this error?