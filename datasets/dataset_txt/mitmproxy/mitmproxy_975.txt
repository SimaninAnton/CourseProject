LopoEvil commented on 20 Aug 2016 â€¢
edited
Steps to reproduce the problem:
 regex1 = r'\d+\#\d+\#\d+\#\d+\#(\d+)\#\d+\#\d+\#\d+\#\d+\#'
 re.compile(regex1)
 flow.response.replace(regex1, r'444#5555#66#77#\1#0#0#0#0#', 10)
What is the expected behavior?
flow.response.replace(regex1, r'444#5555#66#77#\1#0#0#0#0#', 10)
The 10 used should be Max Count or Max Replace
What went wrong?
In flow.response.replace(old, new[, maxreplace])
is no longer working, all my older scripts are now broken; this used to work fine.
Any other comments? What have you tried so far?
I have tried changing my replace to a variable, changing the long regex and replace with something very small and simple.
Work Great on my other servers that run MITMProxy 0.15 and i think 0.16 was working too.
*When i updated to 0.17 or 0.18 it then no longer works and my scripts are broken.
Mitmproxy Version: 0.17 and 0.18
Operating System: Ubuntu 14.04 and 16.04