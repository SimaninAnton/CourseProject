nomex commented on 11 Apr 2012
Hi, I'm runnin mitmproxy with --upstream-cert, and when I enter into https://www.google.com i'm getting this error:
Exception happened during processing of request from ('192.168.XX.XX', 56121)
Traceback (most recent call last):
File "/usr/lib/python2.6/SocketServer.py", line 560, in process_request_thread
self.finish_request(request, client_address)
File "/usr/local/lib/python2.6/dist-packages/libmproxy/proxy.py", line 506, in finish_request
self.RequestHandlerClass(self.config, request, client_address, self, self.masterq)
File "/usr/local/lib/python2.6/dist-packages/libmproxy/proxy.py", line 296, in init
SocketServer.StreamRequestHandler.init(self, request, client_address, server)
File "/usr/lib/python2.6/SocketServer.py", line 617, in init
self.handle()
File "/usr/local/lib/python2.6/dist-packages/libmproxy/proxy.py", line 302, in handle
self.handle_request(cc)
File "/usr/local/lib/python2.6/dist-packages/libmproxy/proxy.py", line 311, in handle_request
request = self.read_request(cc)
File "/usr/local/lib/python2.6/dist-packages/libmproxy/proxy.py", line 390, in read_request
certfile = self.find_cert(host, port),
File "/usr/local/lib/python2.6/dist-packages/libmproxy/proxy.py", line 361, in find_cert
sans = cert.altnames
File "/usr/local/lib/python2.6/dist-packages/libmproxy/certutils.py", line 211, in altnames
altnames.append(i[0].asOctets())
AttributeError: IA5String instance has no attribute 'asOctets'
Thanks