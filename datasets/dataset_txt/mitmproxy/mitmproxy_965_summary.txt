replay request method's block argument causes infinite loop