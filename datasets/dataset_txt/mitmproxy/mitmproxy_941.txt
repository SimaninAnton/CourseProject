Contributor
phackt commented on 16 Sep 2016
Steps to reproduce the problem:
Google Chrome is automatically adding request header Upgrade-Insecure-Requests:1
Some websites are using Content-Security-Policy: 'upgrade-insecure-requests' to avoid warning on mix secured / insecured content
Content-Security-Policy: 'upgrade-insecure-requests' forces the user agent to request on TLS/SSL in a transparent way
What is the expected behavior?
upgrade-insecure-requests policy in request and response headers should be stripped, the same with the HTML meta tag.
What went wrong?
Only headers Strict-Transport-Security and Public-Key-Pins are stripped.
Any other comments? What have you tried so far?
https://www.w3.org/TR/upgrade-insecure-requests/#upgrading
Mitmproxy Version: 0.17.1
Operating System: SMP Debian 4.6.4-1kali1 x86_64 GNU/Linux