hariszukanovic commented on 22 Mar 2018
Steps to reproduce the problem:
Run some traffic through it for a day or so... it seems to happen much quicker when passing bigger files through it (like video streaming)
mitmweb uses up all available system memory and system starts swapping, I am even unable to ssh into it
Any other comments? What have you tried so far?
Is it possible to configure the mitmweb to avoid running out of memory so it can be run constantly as a central transparent mode proxy.
I would like to use it for debugging purposes and it would be shared by different people.
Since mitmweb seems to keep flows in the memory, is there an option to limit this memory and throw away oldest requests as the new ones come in?
System information
Mitmproxy: 3.0.3
Python: 3.5.5
OpenSSL: OpenSSL 1.1.0g 2 Nov 2017
Platform: Linux-3.10.0-693.21.1.el7.x86_64-x86_64-with-centos-7.4.1708-Core