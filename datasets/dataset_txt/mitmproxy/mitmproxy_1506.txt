Contributor
zbuc commented on 4 Mar 2015
I had mitmproxy in a small terminal window, then double clicked the terminal window to maximize and it crashed when attempting to redraw.
Traceback (most recent call last):
  File "/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mitmproxy-0.11.4-py2.7.egg/libmproxy/console/__init__.py", line 628, in run
    self.ui.run_wrapper(self.loop)
  File "/Library/Python/2.7/site-packages/urwid/display_common.py", line 757, in run_wrapper
    return fn()
  File "/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mitmproxy-0.11.4-py2.7.egg/libmproxy/console/__init__.py", line 854, in loop
    self.statusbar.message("")
  File "/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mitmproxy-0.11.4-py2.7.egg/libmproxy/console/__init__.py", line 253, in message
    self.master.drawscreen()
  File "/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mitmproxy-0.11.4-py2.7.egg/libmproxy/console/__init__.py", line 799, in drawscreen
    self.ui.draw_screen(size, canvas)
  File "/Library/Python/2.7/site-packages/urwid/raw_display.py", line 749, in draw_screen
    if osb and osb[y] == row:
IndexError: list index out of range
I'm having trouble reproducing, but filing the bug with the stack trace in case you see an obvious reason this can happen.