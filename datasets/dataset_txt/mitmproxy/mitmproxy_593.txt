Member
mhils commented on 3 Aug 2017 â€¢
edited
Steps to reproduce the problem:
Existing mitmproxy users updates to 3.0 once it is released.
User invokes mitmproxy -R http://example.com
Mitmproxy returns cryptic "Invalid replacement specifier:" error.
Any other comments? What have you tried so far?
The changes to the CLI in 3.0 are quite big, so we should try to provide a somewhat reasonable migration experience for existing users. As I see it, it would make sense to have a very dirty function that checks argv for common migration errors. We should at least provide useful hints for the following issues:
-T
-R (now repurposed, remove that?)
-U
--http2 / --no-http2 (#2500)
Again, implementation of this can be dirty, it's just useful to have for a while to ease migration.
1