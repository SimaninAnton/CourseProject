elee-nst commented on 11 Mar 2013
Hello,
I just found mitmproxy and it looks ideal for some testing I am doing.
I tried to install the latest version from github on a mac running osx 10.8.2, but got the following error.
Traceback (most recent call last):
File "setup.py", line 95, in
install_requires=["netlib>="%version.VERSION, "urwid>=1.1", "pyasn1>0.1.2", "pyopenssl>=0.12", "PIL", "lxml"],
TypeError: not all arguments converted during string formatting
I made the following (hacky) changes in setup.py to get it to install. The netlib version I got from github today still had version=0.2.2 (not the 0.9 implied by version.VERSION) so I just made it require netlib>=0.2 and it seems to be working.
diff --git a/setup.py b/setup.py
index a7ff0bf..58ba0a2 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,7 @@
-from distutils.core import setup
+#from distutils.core import setup
import fnmatch, os.path
from libmproxy import version
+from setuptools import setup
def _fnmatch(name, patternList):
for i in patternList:
@@ -92,5 +93,5 @@ setup(
"Topic :: Internet :: Proxy Servers",
"Topic :: Software Development :: Testing"
],
   install_requires=["netlib>="%version.VERSION, "urwid>=1.1", "pyasn1>0.1.2", "pyopenssl>=0.12", "PIL", "lxml"],
   install_requires=["netlib>=%s"%'0.2', "urwid>=1.1", "pyasn1>0.1.2", "pyopenssl>=0.12", "PIL", "lxml"],
)