Contributor
javabrett commented on 18 Feb 2017
This is analogous to standard no-proxy functionality for a direct HTTP client - it should be possible to be able to specify hosts, host-patterns or even IP address ranges which mitmproxy will then proxy "directly" rather than forwarding via the configured upstream proxy. There is often no option to this if you are a) forced to work with an upstream proxy in order to access internet-hosts and b) also working with hosts e.g. localhost that are not known-to, or accessible from the upstream proxy.
Steps to reproduce the problem:
Work with an upstream proxy that you want to proxy requests to most, but not all hosts.
Receive some redirect to http://localhost
The upstream proxy can't serve that request. Host "localhost" needs to be excluded from upstream proxying, and should instead be forwarded "direct", in this case, to localhost.
Any other comments? What have you tried so far?
I looked at filter-expressions but I don't think those fit.
System information
mitmproxy 1.0.2