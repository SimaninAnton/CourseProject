dkozel commented on 15 Apr 2015
I just tried a vanilla sudo pip install mitmproxy from Ubuntu 14.10 and it failed to run with the following error.
sudo mitmproxy --version
Traceback (most recent call last):
  File "/usr/local/bin/mitmproxy", line 2, in <module>
    from libmproxy.main import mitmproxy
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/main.py", line 6, in <module>
    from . import version, cmdline
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/cmdline.py", line 6, in <module>
    from . import filt, utils, version
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/filt.py", line 37, in <module>
    from .protocol.http import decoded
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/__init__.py", line 1, in <module>
    from .primitives import *
  File "/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/primitives.py", line 4, in <module>
    import netlib.tcp
  File "/usr/local/lib/python2.7/dist-packages/netlib/tcp.py", line 8, in <module>
    from OpenSSL import SSL 
  File "/usr/local/lib/python2.7/dist-packages/OpenSSL/__init__.py", line 8, in <module>
    from OpenSSL import rand, crypto, SSL 
  File "/usr/local/lib/python2.7/dist-packages/OpenSSL/rand.py", line 11, in <module>
    from OpenSSL._util import (
  File "/usr/local/lib/python2.7/dist-packages/OpenSSL/_util.py", line 6, in <module>
    from cryptography.hazmat.bindings.openssl.binding import Binding
ImportError: No module named cryptography.hazmat.bindings.openssl.binding
I resolved this by reverting pyOpenSSL to 0.14. The pip install process had installed pyOpenSSL-0.15.1-py2.py3-none-any.whl
sudo pip install pyOpenSSL==0.14
This was for mitmproxy 0.11.3
Thanks for the very useful software.