kxcode commented on 21 Apr 2016 â€¢
edited by mhils
Steps to reproduce the problem:
mitmproxy -T --host
press i
input filter like : ~q
then crashed. it seems a python exception
 File "site-packages/mitmproxy/console/__init__.py", line 512, in run
  File "site-packages/urwid/main_loop.py", line 278, in run
  File "site-packages/urwid/main_loop.py", line 376, in _run
  File "site-packages/urwid/main_loop.py", line 682, in run
  File "site-packages/urwid/main_loop.py", line 719, in _loop
  File "site-packages/urwid/raw_display.py", line 393, in <lambda>
  File "site-packages/urwid/raw_display.py", line 493, in parse_input
  File "site-packages/urwid/main_loop.py", line 403, in _update
  File "site-packages/urwid/main_loop.py", line 503, in process_input
  File "site-packages/mitmproxy/console/window.py", line 39, in keypress
  File "site-packages/urwid/container.py", line 1116, in keypress
  File "site-packages/mitmproxy/console/statusbar.py", line 126, in keypress
  File "site-packages/mitmproxy/console/statusbar.py", line 83, in keypress
  File "site-packages/mitmproxy/console/statusbar.py", line 106, in prompt_execute
  File "site-packages/mitmproxy/console/__init__.py", line 663, in set_intercept
  File "site-packages/mitmproxy/flow.py", line 604, in set_intercept
  File "site-packages/mitmproxy/filt.py", line 398, in parse
  File "site-packages/pyparsing.py", line 1162, in parseString
  File "site-packages/pyparsing.py", line 1054, in _parseNoCache
  File "site-packages/pyparsing.py", line 803, in wrapper
AttributeError: 'NoneType' object has no attribute 'endswith'

mitmproxy has crashed!
Mitmproxy Version: 0.17
Operating System: OSX