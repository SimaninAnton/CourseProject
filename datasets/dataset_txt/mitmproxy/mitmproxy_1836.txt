nocksock commented on 8 Feb 2012
Hi,
When I run mitmproxy everything seems fine, until a client connects and requests data. Then it Fails with this:
Traceback (most recent call last):
  File "/Users/nilsriedemann/bin/mitmproxy", line 68, in <module>
    m.run()
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/console.py", line 1249, in run
    self.ui.run_wrapper(self.loop)
  File "/Library/Python/2.7/site-packages/urwid-1.0.1-py2.7-macosx-10.7-intel.egg/urwid/raw_display.py", line 237, in run_wrapper
    return fn()
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/console.py", line 1568, in loop
    changed = self.tick(self.masterq)
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/flow.py", line 1204, in tick
    return controller.Master.tick(self, q)
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/controller.py", line 77, in tick
    self.handle(msg)
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/controller.py", line 95, in handle
    m(msg)
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/flow.py", line 1268, in handle_clientconnect
    self.add_event("Connect from: %s:%s"%cc.address)
  File "/Users/nilsriedemann/bin/src/mitmproxy-0.6/libmproxy/console.py", line 1794, in add_event
    self.eventlist.set_focus(len(self.eventlist))
  File "/Library/Python/2.7/site-packages/urwid-1.0.1-py2.7-macosx-10.7-intel.egg/urwid/listbox.py", line 144, in set_focus
    raise IndexError
IndexError
^C[1]    22725 terminated  mitmproxy