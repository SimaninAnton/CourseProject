milesrichardson commented on 22 Sep 2015
Hi
I am running multiple mitmproxy instances on one machine. Each instance has its own port between 49000 and 50000. All instances are listening on interface 0.0.0.0. Instances stop and restart multiple times per hour.
Most instances start fine. However, a few random ones will fail with the error that address is already in use:
$ mitmproxy -p 49338 Error starting proxy server: error(98, 'Address already in use')
However, netstat does not show any process using the port:
$ sudo netstat -nlp | grep 49338
I also do not see any zombie processes trying to start the same instance.
Any idea what's causing this? Is the problem that every instance is listening on 0.0.0.0? How does mitmproxy decide whether a port is "open"?