hynguyen2610 commented on 4 Aug 2016 â€¢
edited
Hi mitmproxy team,
Your tool is a great effort. I tried it for a month. Most of pages are working smooth under mitmproxy. But I cannot login to Facebook in both mode Rugular and Transparent.
Steps to reproduce the problem:
Start mitmproxy using Regular mode: mitmproxy
Config the Windows-running victim proxy (IP: 192.168.6.181 to use proxy as my computer 192.168.6.211, port 8080)
Visit mitm.it on the victim computer, download and install the .p12 (user certificate) file.
Visit www.facebook.com
Enter valid login information (username, password) and press Enter.
What is the expected behavior?
I thought it will login to facebook successfully.
What went wrong?
The login is not success, the browser redirect to login page again with no notification. In another Facebook logged in device, I seen one new notification say "Your account was logged in to from an unrecognized browser or device. Please review this login...".
I click the notification, chose "This was me" and remember the device. But the next time I try to loggin in victim computer, every is repeat. I cannot login to facebook when mitmproxy is on. I guess this is due to Certificate pinning. Is there a workaround like "ignore the login phase" or something? Is mitmproxy official support/not support Facebook page?
Any other comments? What have you tried so far?
I tried to ignore the facebook login when start mitmproxy
mitmproxy --ignore '^(.+\.)?facebook\.com:443$'
After that, I can login to facebook, but when I clear the ignore pattern and F5 the facebook page, nothing was intercepted except images request.
Mitmproxy Version: 0.17
Operating System: Linux Mint 18 (base on Ubuntu 16.04)