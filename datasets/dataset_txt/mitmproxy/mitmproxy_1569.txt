F1ashhimself commented on 18 Nov 2014
mitmproxy v0.11
From time to time I'm getting AttributeError: 'NoneType' object has no attribute 'response' error.
Stack trace:
Traceback (most recent call last):
  File "C:\Python27\lib\site-packages\libmproxy\proxy\server.py", line 100, in handle
    protocol_handler(self.conntype)(self, **conn_kwargs).handle_messages()
  File "C:\Python27\lib\site-packages\libmproxy\protocol\http.py", line 1001, in handle_messages
    while self.handle_flow():
  File "C:\Python27\lib\site-packages\libmproxy\protocol\http.py", line 1093, in handle_flow
    self.get_response_from_server(flow)
  File "C:\Python27\lib\site-packages\libmproxy\protocol\http.py", line 1047, in get_response_from_server
    if flow.response.stream:
AttributeError: 'NoneType' object has no attribute 'response'

mitmproxy has crashed!
Please lodge a bug report at: https://github.com/mitmproxy/mitmproxy
Seems that we getting empty return in http.py on line 1041.
flow = self.c.channel.ask("responseheaders", flow)