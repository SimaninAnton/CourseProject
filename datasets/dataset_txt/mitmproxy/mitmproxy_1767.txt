Kennysan commented on 19 Jul 2013
The following error shows up when running mitmproxy 0.9.1 on Firefox 23 on OSX 10.8.4:
Steps to reproduce: Delete ~/.mitmproxy
starts up mitmproxy
browse to any https website.
error in the browse:
Peer's certificate has an invalid signature.
(Error code: sec_error_bad_signature)
mitmproxy console pops up with this error:
Error in processing of request from 127.0.0.1:54378
Traceback (most recent call last):
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 353, in request_thread
self.handle_connection(request, client_address)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 533, in handle_connection
h.handle()
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 188, in handle
while self.handle_request(cc) and not cc.close:
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 203, in handle_request
request = self.read_request(cc)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 452, in read_request
return self.read_request_proxy(client_conn)
File "/Library/Python/2.7/site-packages/libmproxy/proxy.py", line 396, in read_request_proxy
line = self.rfile.readline(line)
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 160, in readline
ch = self.read(1)
File "/Library/Python/2.7/site-packages/netlib/tcp.py", line 129, in read
data = self.o.read(rlen)
Error: [('SSL routines', 'SSL3_READ_BYTES', 'sslv3 alert bad certificate')]
Looks like mitmproxy is somehow generating a bad certificate.