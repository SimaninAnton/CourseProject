deployable commented on 4 Sep 2014
I've had this error on two occasions now both while running a script and not. Both instances were using --stream 256k
./help/bin/python ./mitmproxy -p 3129 --stream 256k -s ~/inline_headers.py
I haven't been able to track down a request to reproduce it but I'll add the detail when I find something.
Traceback (most recent call last):
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/__init__.py", line 600, in run
    self.ui.run_wrapper(self.loop)
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/raw_display.py", line 268, in run_wrapper
    return fn()
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/__init__.py", line 797, in loop
    size = self.drawscreen()
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/__init__.py", line 777, in drawscreen
    canvas = self.view.render(size, focus=1)
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/widget.py", line 141, in cached_render
    canv = fn(self, size, focus=focus)
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/container.py", line 1079, in render
    focus and self.focus_part == 'body')
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/widget.py", line 141, in cached_render
    canv = fn(self, size, focus=focus)
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/listbox.py", line 457, in render
    (maxcol, maxrow), focus=focus)
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/listbox.py", line 348, in calculate_visible
    (maxcol,maxrow))
  File "/home/matt/clones/dply_mitmproxy/help/lib/python2.7/site-packages/urwid/listbox.py", line 923, in get_focus_offset_inset
    focus_widget, pos = self.body.get_focus()
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/flowlist.py", line 216, in get_focus
    f = ConnectionItem(self.master, self.state, f, True) if f else None
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/flowlist.py", line 90, in __init__
    w = self.get_text()
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/flowlist.py", line 94, in get_text
    return common.format_flow(self.flow, self.f, hostheader=self.master.showhost)
  File "/home/matt/clones/dply_mitmproxy/libmproxy/console/common.py", line 200, in format_flow
    resp_acked = f.response.reply.acked,
AttributeError: 'HTTPResponse' object has no attribute 'reply'

mitmproxy has crashed!
Please lodge a bug report at: https://github.com/mitmproxy/mitmproxy
Shutting down...
This is no Debian with a pyenv build of 2.7.8, netlib installed into the virtualenv from git with pip.