how does training parser for custom semantics works?