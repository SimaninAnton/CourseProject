mvaz commented on 2 Jul 2019
How to reproduce the behaviour
I'm using the same code snippet as with #3572 and as far as I understood should have been resolved with #3551
import spacy
from spacy.matcher import Matcher
nlp = spacy.load("en_core_web_sm")
matcher = Matcher(nlp.vocab)
pattern = [{"LEMMA": "bike"}]
matcher.add("BasinTest", None, pattern)
doc = nlp("The Bike is a great tools")
matches = matcher(doc)
for match_id, start, end in matches:
string_id = nlp.vocab.strings[match_id] # Get string representation
span = doc[start:end] # The matched span
print(match_id, string_id, start, end, span.text)
The code produces no output, meaning that the lemmatisation is case sensitive.
[t.lemma_ for t in doc]
the output is ['the', 'Bike', 'be', 'a', 'great', 'tool']
Thanks
Your Environment
Info about spaCy
spaCy version: 2.1.4
Platform: Darwin-18.6.0-x86_64-i386-64bit
Python version: 3.7.3