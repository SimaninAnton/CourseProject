ValentinCalomme commented on 7 Nov 2019
The SpaCy text categorizer pipe does not learn if the training data has integer labels. For instance:
annotations = {"cats": {0: True, 1: False}}
Passing this as annotations to the update method doesn't lead to any learning. The loss returned is 0 and the model's weights do not seem to be updated. On the other hand, the following annotations will work:
annotations = {"cats": {"0": True, "1": False}}
To me, there are two possibilities:
Using string labels should be strictly enforced and an error should be thrown if this isn't the case
or
Integer labels should work as well as string labels due to duck typing
Your Environment
spaCy version: 2.2.2
Platform: Windows-10-10.0.18362-SP0
Python version: 3.7.5
Models: nl