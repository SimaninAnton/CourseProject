akhilnegi commented 28 days ago
How to reproduce the behavior
python wikidata_pretrain_kb.py 'latest-all.json.bz2' 'enwiki-latest-pages-articles-multistream.xml.bz2' './output' 'en_core_web_lg'
Your Environment
spaCy version 2.2.1
Platform Windows-10-10.0.18362-SP0
Python version 3.6.9
Expected behaviour
This should generate a knowledge base using Wikidata.
What is happening
The step ran for 18 hours and generated an ~empty KB file, below is how the output directory looks:
│ entity_alias.csv 206,414 KB
│ entity_defs.csv 172,606 KB
│ entity_descriptions.csv 153,340 KB
│ entity_freq.csv 1 KB
│ gold_entities.jsonl 0 KB
│ kb 1 KB
│ prior_prob.csv 1 KB
└───nlp_kb
│ meta.json 2 KB
│ tokenizer 68 KB
├───ner
│ cfg 1 KB
│ model 4147 KB
│ moves 2 KB
├───parser
│ cfg 1KB
│ model 4253 KB
│ moves 2 KB
├───tagger
│ cfg 1 KB
│ model 3856 KB
│ tag_map 2 KB
└───vocab
key2row 9235 KB
lexemes.bin 125648 KB
lookups.bin 1658 KB
strings.json 23573 KB
vectors 802537 KB