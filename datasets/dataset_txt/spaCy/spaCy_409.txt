Contributor
mr-bjerre commented on 21 Aug 2019 â€¢
edited
Looking at the example here I'd expect both tests here to pass. They do not.
from spacy.lang.en import English
from spacy.matcher import Matcher

nlp = English()
doc = nlp('Fourteen acquisition have been complete since the start of the financial year.')

matcher = Matcher(nlp.vocab)
matcher.add('IGNORED', None, [{'LOWER': {'IN': ['acquisition']}}])
assert len(matcher(doc)) == 1  # ok

matcher = Matcher(nlp.vocab)
matcher.add('IGNORED', None, [{'LEMMA': {'IN': ['acquisition']}}])
assert len(matcher(doc)) == 1  # fails
FYI: print(doc[1].lemma_) yields acquisition.
spaCy version: 2.1.8
Platform: Linux-5.0.0-25-generic-x86_64-with-Ubuntu-18.04-bionic
Python version: 3.7.3