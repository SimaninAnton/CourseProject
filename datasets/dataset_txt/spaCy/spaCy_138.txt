ramilrg commented on 19 Nov 2019 •
edited
How to reproduce the behaviour
Hi,
I want to add a new language to "spacy-lookups-data", I already made a necessary changes on setup.cfg, setup.py and init.py files, and a new generated az_lemma_lookup.json is also exists, but when I try to test it got an error:
####################
az_nlp = <spacy.lang.az.Azeri object at 0x000002A0078E92E8>
string = 'çatmaqdakındansınız', lemma = 'çatmaq'

    @pytest.mark.parametrize(
        "string,lemma",
        [
            ("şikəncələrdəkinin", "şikəncə"),
            ("gözaydınlığındakılardanmış", "gözaydınlığı"),
            ("çatmaqdakındansınız", "çatmaq"),
        ],
    )
    def test_az_lemmatizer_lookup_assigns(az_nlp, string, lemma):
        tokens = az_nlp(string)
>       assert tokens[0].lemma_ == lemma
E       AssertionError: assert 'çatmaqdakındansınız' == 'çatmaq'
E         - çatmaqdakındansınız
E         + çatmaq

spacy_lookups_data\tests\test_az.py:23: AssertionError
####################
Your Environment
Operating System: Win10
Python Version Used: 3.6
spaCy Version Used: 2.2
Environment Information: