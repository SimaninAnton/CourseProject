filievski commented on 1 Nov 2019
The aligning function seems to work good in most cases, but for some reason, it fails in the case below. Namely, it is unable to map the first two SpaCy tokens to the initial 6 BERT tokens.
How to reproduce the behaviour
    bert_tokens=['[CLS]', 'Sy', '##mpi', '##esis', 'kara', '##gios', '##is', 'is', 'een', 'vliesvleugelig', 'insect', 'uit', 'de', 'familie', 'Eulophidae', '.', '[SEP]']
    our_tokens=['Sympiesis', 'karagiosis', 'is', 'een', 'vliesvleugelig', 'insect', 'uit', 'de', 'familie', 'Eulophidae', '.']
Your Environment
Operating System: Ubuntu 18.04
Python Version Used: 3.7
spaCy Version Used: 2.1.4