Segmentation fault when using pipe on large amounts of data