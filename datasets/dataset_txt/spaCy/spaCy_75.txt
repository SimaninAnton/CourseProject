Contributor
ldorigo commented on 10 Dec 2019 â€¢
edited
Hello,
Not entirely sure that this isn't currently possible, but if it is, then this should be seen as a request for better documentation :-)
I am doing large-scale automated processing of medical literature, and am storing the texts (and related information) in a relational database. Since parsing a text with Spacy takes a significant amount of time, I'd like to store the parsed docs as a blob of bytes alongside each text in the database.
At the moment, unless I misunderstand something, the choice is between serializing docs directly (with doc.to_bytes()), which saves the whole vocab for each doc, or using DocBin for a list of docs, which serializes the vocab only once. Unfortunately neither of these are optimal for my use-case: serializing the vocab in each and every doc is a huge waste of space, and DocBin only makes sense if I stored all of the docs together - which doesn't allow me to retrieve them individually.
Ideally, it should be possible to serialize the doc without the vocab, and to add an optional parameter to Doc.from_bytes that allows using a specific vocab when deserializing.
If this is already possible, please let me know how and I'd be happy to add a small section in the documentation to make it clearer for future users.