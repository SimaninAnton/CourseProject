Contributor
FallakAsad commented on 15 Jul 2019 â€¢
edited
I trained a NER model with some new entity types, My model accuracy is as follows on a test set which shows per entity accuracy as well as total accuracy.
{
"ents_f": 84.65116279069768,
"ents_p": 95.28795811518324,
"ents_per_type": {
"label_1": {
"f": 39.47368421052631,
"p": 24.59016393442623,
"r": 100.0
},
"label_2": {
"f": 90.47619047619048,
"p": 90.47619047619048,
"r": 90.47619047619048
},
"label_3": {
"f": 80.00000000000001,
"p": 80.0,
"r": 80.0
},
"label_4": {
"f": 80.0,
"p": 72.72727272727273,
"r": 88.88888888888889
},
"label_5": {
"f": 14.14141414141414,
"p": 8.045977011494253,
"r": 58.333333333333336
},
"label_6": {
"f": 100.0,
"p": 100.0,
"r": 100.0
},
"label_7": {
"f": 50.0,
"p": 50.0,
"r": 50.0
}
},
"ents_r": 76.15062761506276,
"las": 0.0,
"tags_acc": 0.0,
"token_acc": 100.0,
"uas": 0.0
}
However, If I evaluate same model on the slightly different set which contains same docs as in previous test set but have few more annotation for label-4 and label-5 which were missing for some docs in previous test set, the model gives '0' f-score for label-3 for which no annotation were changed in new test set. The evaluation result on new test set is:
{
"ents_f": 84.65346534653466,
"ents_p": 95.53072625698324,
"ents_per_type": {
"label_1": {
"f": 32.35294117647059,
"p": 19.298245614035086,
"r": 100.0
},
"label_2": {
"f": 94.44444444444444,
"p": 94.44444444444444,
"r": 94.44444444444444
},
"label_3": {
"f": 0.0,
"p": 0.0,
"r": 0.0
},
"label_4": {
"f": 80.0,
"p": 72.72727272727273,
"r": 88.88888888888889
},
"label_5": {
"f": 14.432989690721651,
"p": 8.13953488372093,
"r": 63.63636363636363
},
"label_6": {
"f": 100.0,
"p": 100.0,
"r": 100.0
},
"label_7": {
"f": 50.0,
"p": 50.0,
"r": 50.0
}
},
"ents_r": 76.0,
"las": 0.0,
"tags_acc": 0.0,
"token_acc": 100.0,
"uas": 0.0
}
Also, model is able to identify label_3 in many docs on new test set even though the f-score of label_3 is zero.
Environment Information:
Operating System: Linux-4.15.0-54-generic-x86_64-with-Ubuntu-16.04-xenial
Python Version Used: 3.5.2
spaCy Version Used: 2.1.6
Thanks in adv for help.