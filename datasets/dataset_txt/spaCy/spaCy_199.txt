ramilrg commented on 31 Oct 2019
How to reproduce the behaviour
sometimes I am getting an error when running a spacy debug-data check, how to fix it?
============ Data format validation ===============
â ´ Loading corpus...
Traceback (most recent call last):
File "G:\Python35\lib\runpy.py", line 184, in _run_module_as_main
"main", mod_spec)
File "G:\Python35\lib\runpy.py", line 85, in run_code
exec(code, run_globals)
File "G:\Python35\lib\site-packages\spacy_main.py", line 35, in
plac.call(commands[command], sys.argv[1:])
File "G:\Python35\lib\site-packages\plac_core.py", line 328, in call
cmd, result = parser.consume(arglist)
File "G:\Python35\lib\site-packages\plac_core.py", line 207, in consume
return cmd, self.func(*(args + varargs + extraopts), **kwargs)
File "G:\Python35\lib\site-packages\spacy\cli\debug_data.py", line 83, in debug_data
train_docs = list(corpus.train_docs(nlp))
File "gold.pyx", line 222, in train_docs
File "gold.pyx", line 243, in iter_gold_docs
File "gold.pyx", line 266, in spacy.gold.GoldCorpus._make_golds
File "gold.pyx", line 541, in spacy.gold.GoldParse.from_annot_tuples
File "gold.pyx", line 621, in spacy.gold.GoldParse.init
File "nonproj.pyx", line 123, in spacy.syntax.nonproj.projectivize
File "nonproj.pyx", line 172, in spacy.syntax.nonproj._get_smallest_nonproj_arc
File "nonproj.pyx", line 58, in spacy.syntax.nonproj.is_nonproj_arc
File "nonproj.pyx", line 26, in ancestors
IndexError: list index out of range
Your Environment
Operating System: Windows 10
Python Version Used: 3.5
spaCy Version Used: 2.2.1
Environment Information: