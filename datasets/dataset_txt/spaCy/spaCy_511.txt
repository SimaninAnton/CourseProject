swicaksono commented on 19 Jul 2019 â€¢
edited
Hi, recently I'm trying to train en spacy model on the ner model by some new dataset. But when it comes to the evaluation method:
scorer_train = Scorer()
for text, _ann_ in train_data:
      doc = model(text)
      doc_gold_text = model.make_doc(text)
      gold = GoldParse(doc_gold_text, entities=_ann_['entities'])
      try:
             scorer_train.score(doc, gold)
      except:
              continue
print(scorer_train.scores)
It prints an error in following:
File "_retokenize.pyx", line 56, in spacy.tokens._retokenize.Retokenizer.merge
ValueError: [E102] Can't merge non-disjoint spans. 'co' is already part of tokens to merge.
Environment
Operating System: Ubuntu 19
Python Version Used: Python 3.6
spaCy Version Used: 2.1
Any help?
Thank you in advance.