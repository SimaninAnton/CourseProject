christian-storm commented on 6 Nov 2019
I suppose this is a case of one persons feature being another persons bug. Before being converted to cython, one could access the patterns via _docs (see below). Am I stuck with building my own lookup table or is there a way to access this some other way?
matcher = PhraseMatcher(nlp.vocab, attr='LOWER')
its_patterns = [nlp.make_doc(s) for s in ["it's", "it is"]]
matcher.add("ITS", on_match, *its_patterns)
doc = nlp("It's a real problem when it is.")
matches = matcher(doc)

for match_id, start, end in matcher(doc):
    for replacement_doc in matcher._docs[match_id]:
        print(f"Change {doc[start:end]} to {replacement_doc.text}")
Your Environment
Info about spaCy
spaCy version: 2.2.2
Platform: Darwin-18.7.0-x86_64-i386-64bit
Python version: 3.7.2