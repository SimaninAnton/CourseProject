graftim commented on 8 Nov 2019 •
edited
How to reproduce the behaviour
import spacy
nlp = spacy.load('de_core_news_md')
doc = nlp('Die Schweizer Wirtschaft dürfte 2020 ein Wachstum von zwei Prozent verzeichnen, sagen die Datenschutzbeauftragten. '
          'Dasselbe gilt für Versicherungsprämien und Aufwände der Krankenkassen im Allgemeinen. Auch die Bäume haben ein Problem.')
for token in doc:
    print('POS: {} {}'.format(token.pos_, token.lemma_))
Output:
POS: ADJ Schweizer
POS: NOUN Wirtschaft
POS: VERB dürfen
POS: NUM 2020
POS: DET einen
POS: NOUN Wachstum
POS: ADP von
POS: NUM zwei
POS: NOUN Prozent
POS: VERB verzeichnen
POS: PUNCT ,
POS: VERB sagen
POS: DET der
POS: NOUN Datenschutzbeauftragten  #Datenschutzbeauftragter
POS: PUNCT .
POS: PRON derselbe
POS: VERB gelten
POS: ADP für
POS: NOUN Versicherungsprämien     #Versicherungsprämie
POS: CONJ und
POS: NOUN Aufwände                 #Aufwand
POS: DET der
POS: NOUN Krankenkasse
POS: ADP im
POS: NOUN Allgemeine
POS: PUNCT .
POS: ADV Auch
POS: DET der
POS: NOUN bäumen                   #Baum
POS: AUX haben
POS: DET einen
POS: NOUN Problem
POS: PUNCT .
It seems very strange that the word Bäume, even though it is tagged as NOUN gets lemmatized to bäumen instead of Baum. Also, it handles plural forms of longer nouns or words with Umlaut (ä, ö ,ü) very poorly. Is this expected behaviour or did something happen during the training of the models?
I tried it with both de_core_news_sm and de_core_news_md.
Info about spaCy
spaCy version: 2.2.1
Platform: Windows-10-10.0.18362-SP0
Python version: 3.7.4
Models: de