Contributor
BreakBB commented on 18 Jul 2019
How to reproduce the behaviour
While testing for #3986 I encountered some unexpected behaviour. It seems that Vocab.contains might be broken or maybe the docs are outdated?
import spacy
nlp = spacy.load("en_core_web_sm")

if u"September" in nlp.vocab.strings:
    print("September in StringStore")  # Working as expected

dog = nlp.vocab.strings[u"dog"]
assert dog not in nlp.vocab  # Working as expected

september = nlp.vocab.strings[u"September"]
assert september in nlp.vocab  # AssertionError
Your Environment
Operating System: Windows 10
Python Version Used: 3.7.3
spaCy Version Used: 2.1.6