adridjs commented on 17 Oct 2019 â€¢
edited
Your Environment
Operating System: Ubuntu 16.04
Python Version Used: Python 3.6
spaCy Version Used: 2.2
I'm trying to add Hindi Language from scratch in Spacy. I already formatted the train/dev data into the correct json format as shown in https://spacy.io/api/annotation#named-entities
When using this command: python -m spacy train hi /data/disk2/adrinerhindi/models /data/disk2/adrinerhindi/cli_formatted/wiki_train.json /data/disk2/adrinerhindi/cli_formatted/wiki_dev.json -ne 5 -G -p ner
it throws the following error:
Training pipeline: ['ner']
Starting with blank model 'hi'
Counting training words (limit=0)
Traceback (most recent call last):
  File "/usr/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/usr/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/adria/envs/hindi-nlp/lib/python3.6/site-packages/spacy/__main__.py", line 35, in <module>
    plac.call(commands[command], sys.argv[1:])
  File "/home/adria/envs/hindi-nlp/lib/python3.6/site-packages/plac_core.py", line 328, in call
    cmd, result = parser.consume(arglist)
  File "/home/adria/envs/hindi-nlp/lib/python3.6/site-packages/plac_core.py", line 207, in consume
    return cmd, self.func(*(args + varargs + extraopts), **kwargs)
  File "/home/adria/envs/hindi-nlp/lib/python3.6/site-packages/spacy/cli/train.py", line 205, in train
    corpus = GoldCorpus(train_path, dev_path, limit=n_examples)
  File "gold.pyx", line 130, in spacy.gold.GoldCorpus.__init__
  File "gold.pyx", line 141, in spacy.gold.GoldCorpus.write_msgpack
  File "gold.pyx", line 181, in read_tuples
  File "gold.pyx", line 339, in read_json_file
  File "gold.pyx", line 386, in _json_iterate
OverflowError: value too large to convert to int
What am I doing wrong?