pratapaprasanna commented on 8 Jul 2019 â€¢
edited
Hi all,
I have been going using spacy and i like it but when i try to boost the speed of my training as per the suggestion in here #1530-comment and i see the performace is not difference the code i used is as follows
    nlp.add_pipe(sbd)
    nlp.add_pipe(ner, last=True)
    evaluation_steps = int(config['evaluation']['evaluation_interval'])
    output_dir = config['TRAIN']['model_save_path']
    for _, annotations in train_data:
        for ent in annotations.get('entities'):
            ner.add_label(ent[2])
    other_pipes = [pipe for pipe in nlp.pipe_names if pipe != 'ner']
    with nlp.disable_pipes(*other_pipes):
        n_iter = int(config['TRAIN']['num_epochs'])
        optimizer = nlp.begin_training(cpu_count=96)
        for itn in range(n_iter):
Please correct me if there is any mistake in the code or approach.
Your Environment
Operating System: ubuntu 18.04
Python Version Used: 3.6.8
spaCy Version Used: 2.1.4
Environment Information: