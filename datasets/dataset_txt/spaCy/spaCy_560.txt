urigoren commented on 7 Jul 2019
How to reproduce the behaviour
The following code generates a dependecy graph visualisation, with some of the arc labels shown upside down.
See screenshot
from spacy import displacy
viz = {'words': [{'text': 'Balmer', 'tag': ''},
{'text': 'replaces', 'tag': ''},
{'text': 'Gates', 'tag': ''},
{'text': 'at', 'tag': ''},
{'text': 'Microsoft', 'tag': ''}],
'arcs': [{'start': 0, 'end': 1, 'dir': 'left', 'label': 'nsubj'},
{'start': 1, 'end': -1, 'dir': 'right', 'label': 'root'},
{'start': 2, 'end': 1, 'dir': 'right', 'label': 'obj'},
{'start': 3, 'end': 4, 'dir': 'left', 'label': 'case'},
{'start': 4, 'end': 1, 'dir': 'right', 'label': 'obl'}]}
html = displacy.render(viz,
jupyter=False,
style="dep",
manual=True,
options={"compact": True,"color": "blue",}
)
with open("bug.html", 'w') as f:
f.write(html)
Your Environment
Operating System: Win10
Python Version Used: 3.6.7
spaCy Version Used: spacy==2.1.4
Environment Information: