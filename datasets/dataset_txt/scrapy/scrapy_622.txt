cdz620 commented on May 22, 2017
description
scrapy version: Scrapy 1.3.3
I have user_agent and ip_proxy downloader middleware. It seem no work When MediaPipeline send request to downloader.
settings.py :
DOWNLOADER_MIDDLEWARES = {
    'xxx.middlewares.user_agent.UserAgentPoolMiddleware': 1,
    'xxx.retry.RetryMiddleware': None,
    'xxx.middlewares.retry.RetryMiddleware': 550,
    'xxx.middlewares.ip_proxy.IPProxyMiddleware': 600,
}
code :
class ImagePipeline(FilesPipeline):
    FILES_URLS_FIELD = "image_urls"
    FILES_RESULT_FIELD = 'images'
    def get_media_requests(self, item, info):
        return [Request(x) for x in item.get(self.files_urls_field, [])]
Question
Does MediaPipeline data flow not comply with the scrapy general data flow ï¼Ÿ
ps
I'm not good at English, I hope I have made it clear.