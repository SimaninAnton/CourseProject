serhii73 commented on Jul 24, 2019
Hello everyone.
I have a question.
I have a simple scrapy project.
I run my project like:
scrapy crawl mp -a city="Toronto, ON"
In
def __init__(self, *args, **kwargs):
I get argument value like:
self.city = kwargs["city"]
In seetings.py I can add a line like:
FEED_FORMAT = "csv"
FEED_URI = "output/some_city.csv"
And information about need city will be saved in output/some_city.csv file.
Problem
But if I will be pass different cities like arguments to my spider, like:
scrapy crawl mp -a city="New York, NY"
then
scrapy crawl mp -a city="Toronto, ON"
then
scrapy crawl mp -a city="Chicago, IL"
etc
All information will be saved in output/some_city.csv file.
What I want
I want to find a decision, when I pass "Chicago, IL" - data will be saved in Chicago_IL.csv if I pass "Toronto, ON" in Toronto_ON.csv
I just need to change FEED_URI in my spider.
But how?
self.settings.attributes['FEED_URI']
I can get my FEED_URI in spider use this command, but how change this data?
I read this link but I wrote a solution and it does not work.
I can use -s but it not conveniently.
Do you know how I can resolve it?
Thank you very much.