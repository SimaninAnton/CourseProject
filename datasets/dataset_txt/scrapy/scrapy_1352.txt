Contributor
pawelmhm commented on Sep 16, 2014
Currently when corrupt image response is downloaded, for example this one, and PIL fails to parse it PIL exception is propagated and raised with traceback here.
I would suggest wrapping part that opens an image with PIL:
Image.open(BytesIO(response.body))) 
with try except block:
try:
    Image.open(BytesIO(response.body))) 
except IOError as e:
    raise ImageException(e.message)
In except block we would raise ImageException with original error message.
This seems logical to me in so far as we are already using ImageException for much less serious offence such as width smaller then minimal.
Main benefit of this that this exception will be logged automatically as warning not as error with traceback, in my use case this is expected, client is getting unhandled errors in logs and is worried that he looses items, in reality nothing bad happens, just one of thousand images we download was corrupt and PIL failed to parse it. Developer can't really do much about it. Adding simple warning for cases like this seems much better to me.