Member
kmike commented on Jan 27, 2016
Settings object got __repr__ in #1149, but it looks weird in scrapy shell:
[s] Available Scrapy objects:
[s] crawler <scrapy.crawler.Crawler object at 0x10c042fd0>
[s] item {}
[s] request <GET http://yellowpages.co.th>
[s] response <302 http://yellowpages.co.th>
[s] settings {'CLOSESPIDER_ITEMCOUNT': <SettingsAttribute value=0 priority=0>, 'RETRY_HTTP_CODES': <SettingsAttribute value=[500, 502, 503, 504, 408] priority=0>, 'HTTPCACHE_DIR': <SettingsAttribute value='httpcache-2' priority=20>, 'MEMUSAGE_REPORT': <SettingsAttribute value=False priority=0>, 'DOWNLOAD_HANDLERS_BASE': <SettingsAttribute value=<BaseSettings {'s3': <SettingsAttribute value='scrapy.core.downloader.handlers.s3.S3DownloadHandler' priority=0>, 'ftp': <SettingsAttribute value='scrapy.core.downloader.handlers.ftp.FTPDownloadHandler' priority=0>, 'http': <SettingsAttribute value='scrapy.core.downloader.handlers.http.HTTPDownloadHandler' priority=0>, 'https': <SettingsAttribute value='scrapy.core.downloader.handlers.http.HTTPDownloadHandler' priority=0>, 'file': <SettingsAttribute value='scrapy.core.downloader.handlers.file.FileDownloadHandler' priority=0>}> priority=0>, 'RETRY_PRIORITY_ADJUST': <SettingsAttribute value=-1 priority=0>, 'MAIL_FROM': <SettingsAttribute value='scrapy@localhost' priority=0>, 'HTTPCACHE_EXPIRATION_SECS': <SettingsAttribute value=86400 priority=20>, 'SPIDER_LOADER_CLASS': <SettingsAttribute value='scrapy.spiderloader.SpiderLoader' priority=0>, 'COMPRESSION_ENABLED': <SettingsAttribute value=True priority=0>, 'DOWNLOAD_TIMEOUT': <SettingsAttribute value=180 priority=0>, 'MAIL_PASS': <SettingsAttribute value=None priority=0>, 'MEMUSAGE_LIMIT_MB': <SettingsAttribute value=0 priority=0>, 'EXTENSIONS': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'DEPTH_PRIORITY': <SettingsAttribute value=0 priority=0>, 'TELNETCONSOLE_HOST': <SettingsAttribute value='127.0.0.1' priority=0>, 'MEMDEBUG_NOTIFY': <SettingsAttribute value=[] priority=0>, 'HTTPPROXY_AUTH_ENCODING': <SettingsAttribute value='latin-1' priority=0>, 'DOWNLOAD_WARNSIZE': <SettingsAttribute value=33554432 priority=0>, 'SPIDER_MODULES': <SettingsAttribute value=['acrawler.spiders'] priority=20>, 'RETRY_TIMES': <SettingsAttribute value=2 priority=0>, 'TELNETCONSOLE_PORT': <SettingsAttribute value=[6023, 6073] priority=0>, 'TELNETCONSOLE_ENABLED': <SettingsAttribute value=False priority=20>, 'DOWNLOADER_MIDDLEWARES': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'HTTPCACHE_DBM_MODULE': <SettingsAttribute value='anydbm' priority=0>, 'ROBOTSTXT_OBEY': <SettingsAttribute value=True priority=20>, 'DEPTH_LIMIT': <SettingsAttribute value=0 priority=0>, 'REACTOR_THREADPOOL_MAXSIZE': <SettingsAttribute value=10 priority=0>, 'FEED_EXPORT_FIELDS': <SettingsAttribute value=None priority=0>, 'CLOSESPIDER_PAGECOUNT': <SettingsAttribute value=0 priority=0>, 'LOG_SHORT_NAMES': <SettingsAttribute value=False priority=0>, 'AUTOTHROTTLE_MAX_DELAY': <SettingsAttribute value=60 priority=20>, 'URLLENGTH_LIMIT': <SettingsAttribute value=2083 priority=0>, 'FEED_EXPORTERS': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'LOG_ENCODING': <SettingsAttribute value='utf-8' priority=0>, 'FEED_EXPORTERS_BASE': <SettingsAttribute value=<BaseSettings {'xml': <SettingsAttribute value='scrapy.exporters.XmlItemExporter' priority=0>, 'jsonlines': <SettingsAttribute value='scrapy.exporters.JsonLinesItemExporter' priority=0>, 'jl': <SettingsAttribute value='scrapy.exporters.JsonLinesItemExporter' priority=0>, 'json': <SettingsAttribute value='scrapy.exporters.JsonItemExporter' priority=0>, 'csv': <SettingsAttribute value='scrapy.exporters.CsvItemExporter' priority=0>, 'pickle': <SettingsAttribute value='scrapy.exporters.PickleItemExporter' priority=0>, 'marshal': <SettingsAttribute value='scrapy.exporters.MarshalItemExporter' priority=0>}> priority=0>, 'FEED_FORMAT': <SettingsAttribute value='jsonlines' priority=0>, 'DOWNLOAD_DELAY': <SettingsAttribute value=0 priority=0>, 'HTTPCACHE_GZIP': <SettingsAttribute value=False priority=0>, 'DOWNLOADER_MIDDLEWARES_BASE': <SettingsAttribute value=<BaseSettings {'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware': <SettingsAttribute value=400 priority=0>, 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware': <SettingsAttribute value=550 priority=0>, 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware': <SettingsAttribute value=590 priority=0>, 'scrapy.downloadermiddlewares.chunked.ChunkedTransferMiddleware': <SettingsAttribute value=830 priority=0>, 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware': <SettingsAttribute value=100 priority=0>, 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware': <SettingsAttribute value=350 priority=0>, 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware': <SettingsAttribute value=600 priority=0>, 'scrapy.downloadermiddlewares.ajaxcrawl.AjaxCrawlMiddleware': <SettingsAttribute value=560 priority=0>, 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware': <SettingsAttribute value=750 priority=0>, 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware': <SettingsAttribute value=900 priority=0>, 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware': <SettingsAttribute value=300 priority=0>, 'scrapy.downloadermiddlewares.retry.RetryMiddleware': <SettingsAttribute value=500 priority=0>, 'scrapy.downloadermiddlewares.stats.DownloaderStats': <SettingsAttribute value=850 priority=0>, 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware': <SettingsAttribute value=700 priority=0>, 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware': <SettingsAttribute value=580 priority=0>}> priority=0>, 'DNSCACHE_ENABLED': <SettingsAttribute value=True priority=0>, 'CONCURRENT_REQUESTS_PER_IP': <SettingsAttribute value=0 priority=0>, 'EDITOR': <SettingsAttribute value='nano' priority=0>, 'MAIL_HOST': <SettingsAttribute value='localhost' priority=0>, 'CONCURRENT_REQUESTS': <SettingsAttribute value=100 priority=20>, 'AUTOTHROTTLE_START_DELAY': <SettingsAttribute value=1 priority=20>, 'CLOSESPIDER_ERRORCOUNT': <SettingsAttribute value=0 priority=0>, 'STATS_CLASS': <SettingsAttribute value='scrapy.statscollectors.MemoryStatsCollector' priority=0>, 'FEED_STORAGES_BASE': <SettingsAttribute value=<BaseSettings {'': <SettingsAttribute value='scrapy.extensions.feedexport.FileFeedStorage' priority=0>, 's3': <SettingsAttribute value='scrapy.extensions.feedexport.S3FeedStorage' priority=0>, 'ftp': <SettingsAttribute value='scrapy.extensions.feedexport.FTPFeedStorage' priority=0>, 'file': <SettingsAttribute value='scrapy.extensions.feedexport.FileFeedStorage' priority=0>, 'stdout': <SettingsAttribute value='scrapy.extensions.feedexport.StdoutFeedStorage' priority=0>}> priority=0>, 'REDIRECT_ENABLED': <SettingsAttribute value=True priority=0>, 'AUTOTHROTTLE_ENABLED': <SettingsAttribute value=True priority=20>, 'COMMANDS_MODULE': <SettingsAttribute value='' priority=0>, 'AUTOTHROTTLE_DEBUG': <SettingsAttribute value=False priority=0>, 'NEWSPIDER_MODULE': <SettingsAttribute value='acrawler.spiders' priority=20>, 'LOG_UNSERIALIZABLE_REQUESTS': <SettingsAttribute value=False priority=0>, 'DOWNLOAD_MAXSIZE': <SettingsAttribute value=1073741824 priority=0>, 'MAIL_PORT': <SettingsAttribute value=25 priority=0>, 'REFERER_ENABLED': <SettingsAttribute value=True priority=0>, 'HTTPCACHE_POLICY': <SettingsAttribute value='scrapy.extensions.httpcache.DummyPolicy' priority=0>, 'STATS_DUMP': <SettingsAttribute value=True priority=0>, 'MEMUSAGE_NOTIFY_MAIL': <SettingsAttribute value=[] priority=0>, 'DOWNLOAD_HANDLERS': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'LOG_DATEFORMAT': <SettingsAttribute value='%Y-%m-%d %H:%M:%S' priority=0>, 'LOG_LEVEL': <SettingsAttribute value='DEBUG' priority=0>, 'DOWNLOADER_HTTPCLIENTFACTORY': <SettingsAttribute value='scrapy.core.downloader.webclient.ScrapyHTTPClientFactory' priority=0>, 'REDIRECT_MAX_TIMES': <SettingsAttribute value=20 priority=0>, 'REDIRECT_PRIORITY_ADJUST': <SettingsAttribute value=2 priority=0>, 'DUPEFILTER_CLASS': <SettingsAttribute value='scrapy.dupefilters.BaseDupeFilter' priority=10>, 'RETRY_ENABLED': <SettingsAttribute value=True priority=0>, 'SPIDER_CONTRACTS': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'HTTPCACHE_ENABLED': <SettingsAttribute value=True priority=20>, 'LOG_ENABLED': <SettingsAttribute value=True priority=0>, 'MAIL_USER': <SettingsAttribute value=None priority=0>, 'HTTPCACHE_ALWAYS_STORE': <SettingsAttribute value=False priority=0>, 'LOGSTATS_INTERVAL': <SettingsAttribute value=0 priority=10>, 'DEFAULT_ITEM_CLASS': <SettingsAttribute value='scrapy.item.Item' priority=0>, 'DNS_TIMEOUT': <SettingsAttribute value=60 priority=0>, 'DEPTH_STATS': <SettingsAttribute value=True priority=0>, 'DOWNLOADER_CLIENTCONTEXTFACTORY': <SettingsAttribute value='scrapy.core.downloader.contextfactory.ScrapyClientContextFactory' priority=0>, 'MEMUSAGE_CHECK_INTERVAL_SECONDS': <SettingsAttribute value=60.0 priority=0>, 'EXTENSIONS_BASE': <SettingsAttribute value=<BaseSettings {'scrapy.extensions.corestats.CoreStats': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.feedexport.FeedExporter': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.memdebug.MemoryDebugger': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.memusage.MemoryUsage': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.logstats.LogStats': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.telnet.TelnetConsole': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.closespider.CloseSpider': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.spiderstate.SpiderState': <SettingsAttribute value=0 priority=0>, 'scrapy.extensions.throttle.AutoThrottle': <SettingsAttribute value=0 priority=0>}> priority=0>, 'FEED_STORAGES': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'BOT_NAME': <SettingsAttribute value='acrawler' priority=20>, 'SPIDER_CONTRACTS_BASE': <SettingsAttribute value=<BaseSettings {'scrapy.contracts.default.ScrapesContract': <SettingsAttribute value=3 priority=0>, 'scrapy.contracts.default.UrlContract': <SettingsAttribute value=1 priority=0>, 'scrapy.contracts.default.ReturnsContract': <SettingsAttribute value=2 priority=0>}> priority=0>, 'METAREFRESH_MAXDELAY': <SettingsAttribute value=100 priority=0>, 'CONCURRENT_REQUESTS_PER_DOMAIN': <SettingsAttribute value=8 priority=0>, 'HTTPCACHE_IGNORE_HTTP_CODES': <SettingsAttribute value=[] priority=0>, 'KEEP_ALIVE': <SettingsAttribute value=True priority=10>, 'ITEM_PROCESSOR': <SettingsAttribute value='scrapy.pipelines.ItemPipelineManager' priority=0>, 'MEMUSAGE_WARNING_MB': <SettingsAttribute value=0 priority=0>, 'FEED_STORE_EMPTY': <SettingsAttribute value=False priority=0>, 'COOKIES_DEBUG': <SettingsAttribute value=False priority=0>, 'FEED_URI': <SettingsAttribute value=None priority=0>, 'SPIDER_MIDDLEWARES': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'DOWNLOADER': <SettingsAttribute value='scrapy.core.downloader.Downloader' priority=0>, 'AUTOTHROTTLE_TARGET_CONCURRENCY': <SettingsAttribute value=1.0 priority=20>, 'USER_AGENT': <SettingsAttribute value='acrawler' priority=20>, 'AJAXCRAWL_ENABLED': <SettingsAttribute value=False priority=0>, 'COOKIES_ENABLED': <SettingsAttribute value=False priority=20>, 'DNSCACHE_SIZE': <SettingsAttribute value=10000 priority=0>, 'LOG_FORMAT': <SettingsAttribute value='%(asctime)s [%(name)s] %(levelname)s: %(message)s' priority=0>, 'ITEM_PIPELINES': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'LOG_FORMATTER': <SettingsAttribute value='scrapy.logformatter.LogFormatter' priority=0>, 'HTTPCACHE_IGNORE_RESPONSE_CACHE_CONTROLS': <SettingsAttribute value=[] priority=0>, 'METAREFRESH_ENABLED': <SettingsAttribute value=True priority=0>, 'HTTPCACHE_IGNORE_MISSING': <SettingsAttribute value=False priority=0>, 'HTTPCACHE_IGNORE_SCHEMES': <SettingsAttribute value=['file'] priority=0>, 'SCHEDULER_MEMORY_QUEUE': <SettingsAttribute value='scrapy.squeues.LifoMemoryQueue' priority=0>, 'SCHEDULER_DISK_QUEUE': <SettingsAttribute value='scrapy.squeues.PickleLifoDiskQueue' priority=0>, 'RANDOMIZE_DOWNLOAD_DELAY': <SettingsAttribute value=True priority=0>, 'SETTINGS_MODULE': <SettingsAttribute value='acrawler.settings' priority=20>, 'TEMPLATES_DIR': <SettingsAttribute value='/Users/kmike/svn/scrapy/scrapy/templates' priority=0>, 'LOG_STDOUT': <SettingsAttribute value=False priority=0>, 'CONCURRENT_ITEMS': <SettingsAttribute value=100 priority=0>, 'DOWNLOADER_STATS': <SettingsAttribute value=True priority=0>, 'LOG_FILE': <SettingsAttribute value=None priority=0>, 'HTTPCACHE_STORAGE': <SettingsAttribute value='scrapy.extensions.httpcache.FilesystemCacheStorage' priority=20>, 'MEMDEBUG_ENABLED': <SettingsAttribute value=False priority=0>, 'FEED_URI_PARAMS': <SettingsAttribute value=None priority=0>, 'DEFAULT_REQUEST_HEADERS': <SettingsAttribute value=<BaseSettings {'Accept-Language': <SettingsAttribute value='en' priority=0>, 'Accept': <SettingsAttribute value='text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8' priority=0>}> priority=0>, 'CLOSESPIDER_TIMEOUT': <SettingsAttribute value=0 priority=0>, 'SCHEDULER': <SettingsAttribute value='scrapy.core.scheduler.Scheduler' priority=0>, 'SPIDER_MIDDLEWARES_BASE': <SettingsAttribute value=<BaseSettings {'scrapy.spidermiddlewares.referer.RefererMiddleware': <SettingsAttribute value=700 priority=0>, 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware': <SettingsAttribute value=50 priority=0>, 'scrapy.spidermiddlewares.depth.DepthMiddleware': <SettingsAttribute value=900 priority=0>, 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware': <SettingsAttribute value=800 priority=0>, 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware': <SettingsAttribute value=500 priority=0>}> priority=0>, 'ITEM_PIPELINES_BASE': <SettingsAttribute value=<BaseSettings {}> priority=0>, 'STATSMAILER_RCPTS': <SettingsAttribute value=[] priority=0>, 'MEMUSAGE_ENABLED': <SettingsAttribute value=False priority=0>}
[s] spider <DefaultSpider 'default' at 0x10ebdcf90>
[s] Useful shortcuts:
[s] shelp() Shell help (print this help)
[s] fetch(req_or_url) Fetch request (or URL) and update local objects
[s] view(response) View response in a browser