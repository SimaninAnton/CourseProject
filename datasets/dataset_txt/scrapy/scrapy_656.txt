quietcoding commented on Mar 27, 2017 â€¢
edited
Hi,
I was attempting to scrape data from a website and export it to a csv file.
However, the issue arose when I attempted to use a function inside another function when a callback function was being used.
Example:
Class Spider(CrawlSpider):
// initial code...
rules = (Rule(LinkExtractor(callback='funcA')))
def funcA(self, response):
funcB()
funcB(self, response):
// do stuff
The issue arose when I attempted to log the csv data inside funcB which funcA called. I didn't get any errors or problems, but it would not write unless the csv writer was directly inside funcA. What's more weird was being able to print(statements) inside funcB but not get a csv writer or even item pipeline to work from funcB. Once I cut out funcB completely and just threw it all into funcA, it worked fine. Can anyone help me investigate this weird problem?