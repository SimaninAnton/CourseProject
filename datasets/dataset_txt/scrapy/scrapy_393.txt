aleroot commented on Apr 17, 2018 â€¢
edited
When I have some downloadmiddlewares and I ran scrapy check I got the error:
Unhandled error in Deferred:
the only way to solve is to comment out the DOWNLOADER_MIDDLEWARES section inside settings.py !
I usually have these downloader middlewares :
DOWNLOADER_MIDDLEWARES = {
    'scrapy.downloadermiddlewares.retry.RetryMiddleware': 90,
    'scrapy_proxies.RandomProxy': 100,
    'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware': 110,
}
I was able to workaround the issue running scrapy check with the following commnad line args:
scrapy check -s DOWNLOADER_MIDDLEWARES={}