sdavara commented on May 26, 2018 â€¢
edited
Hello,
I've written below test case to test my spider
import unittest
import base64
import json
from scrapy.crawler import Crawler
from scrapy.utils.project import get_project_settings
from myproject.spiders.spider1file import SpiderClass1
def create_crawler(spider_class, place):
spider = spider_class(base64.b64encode(json.dumps(place)))
settings = get_project_settings()
crawler = Crawler(spider, settings)
crawler.configure()
crawler.start()
return spider
spider1 = create_crawler(
spider_class=SpiderClass1,
business={"business": "welcome store"}
)
class TestSpider(unittest.TestCase):
def test_searchurl(self):
self.assertEqual(len(spider.search_requests.url), 20)
if name == 'main':
unittest.main()
When, I try to run it with below command:
python -m unittest myproject.test.Test_spider
I get following error:
File "myproject/test/Test_spider.py", line 19, in setup_crawler
crawler.configure()
AttributeError: 'Crawler' object has no attribute 'configure'
Is there anyone facing same issue?