Contributor
wRAR commented on Nov 21, 2019 â€¢
edited by Gallaecio
This is related to #2545 and #4114.
Currently we cannot test the proxy noconnect mode because we use mitmproxy as a test proxy and it doesn't seem to support this mode in the current version. Because of that, the tests for this mode are currently disabled.
As described in a comment near the old test functions, now marked as expected failures:
The noconnect mode isn't supported by the current mitmproxy, it returns
"Invalid request scheme: https" as it doesn't seem to support full URLs in GET at all,
and it's not clear what behavior is intended by Scrapy and by mitmproxy here.
mitmproxy/mitmproxy#848 may be related.
The Scrapy noconnect mode was required, at least in the past, to work with Crawlera,
and scrapy-plugins/scrapy-crawlera#44 seems to be related.