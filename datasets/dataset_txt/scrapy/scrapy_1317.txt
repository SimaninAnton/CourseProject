ntolstikov commented on Dec 11, 2014
Hi! I want to solve this issue: connect to MQ inside a spider.
Im trying to call ClientCreator, but i dont know where to get "reactor" variable inside a CrawlSpider...
d = ClientCreator(reactor, AMQClient, delegate=delegate, vhost='/', spec=spec).connectTCP('localhost', 5672)
d.addCallback(self.gotConnection, 'guest', 'guest')
Why i am connecting to MQ inside a spider and dont use Pipeline? I have a loop running spider that reads some jobs from MQ. Pipelines provides a storage, but i need to read and proccess MQ jobs. I cant read jobs and that run spider, cause i need to proccess mq jobs while spider is already logged in on website.
Does somebody have any suggessions how to connect to MQ inside a spider not to store parsed items but to read jobs?