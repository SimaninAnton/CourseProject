mbilalf commented on Feb 12, 2013
Bad HTML causes from_response to throw an exception.
  File "/usr/lib64/python2.6/site-packages/twisted/internet/defer.py", line 576, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "crawler.py", line 41, in parse
    callback=self.parse_page)
  File "/usr/lib/python2.6/site-packages/scrapy/http/request/form.py", line 36, in from_response
    form = _get_form(response, formname, formnumber)
  File "/usr/lib/python2.6/site-packages/scrapy/http/request/form.py", line 53, in _get_form
    raise ValueError("No `<form>` element found in %s" % response)
==========HTML=========
<html>
    <head>
        <link rel="stylesheet" href="stylesheets/style.css">
            <title>Search</title>
    </head>
    <body>
    </body>
</html>
<form name="formSearch" method="post" action="Search.aspx" id="formSearch">
<input type="hidden" name="__EVENTTARGET" value="" />
</form>