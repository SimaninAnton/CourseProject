TheOnlyArtz commented on Oct 8, 2018
I got this code:
# -*- coding: utf-8 -*-
import scrapy


class NetflixSpider(scrapy.Spider):
    name = 'netflix'
    allowed_domains = ['netflix.com']
    login_url = "https://www.netflix.com/il-en/login"
    start_urls = ['https://www.netflix.com/login']
    handle_httpstatus_list = [302, 200]

    def parse(self, response):
        self.log("I just visited " + response.url)
        self.log(response.status)
        data = {
            "email": "mail@gmail.com",
            "password": "password"
        }

        # self.log(self.login_url)
        yield scrapy.FormRequest(url="https://www.netflix.com/il-en/login", formdata=data, callback=self.parse_sent)

    def parse_sent(self, response):
        yield {
            "email": response.css("input[name=email]::attr(value)").extract_first()
        }
And the parse_sent outputs {'email': ''} why is that?