hellojammy commented on Oct 17, 2015
My code :
class SpiderLtuSpider(CrawlSpider):
    name = "spider_ltu"
    start_urls = []

    def __init__(self):
        self.start_urls.append("http://chuansong.me/account/lengtoo?start=0")
        self.rules = [ Rule(sle(allow=("http://chuansong.me/n/\d*.*", ), restrict_xpaths=('//a[@class="question_link"]'), ), callback='parse_article', ),]
I want to get the link, the text of which matches the regular expression(e.g.'Text*'). The first and the third one blow are what I want, and the second one should be excluded.
<a class="question_link" href="/n/1818306" target="_blank">Test_Ok hello</a> 
<a class="question_link" href="/n/1818306" target="_blank">AAA</a>
<a class="question_link" href="/n/1818306" target="_blank">Test ok</a>
And I want to match the rules by the XPath restrict_xpaths. Would you please correct the code ? Thank you!