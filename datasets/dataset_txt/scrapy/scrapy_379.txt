Contributor
rpkilby commented on May 4, 2018
It looks like this flag stopped functioning in #99. crawler.stats are always passed to the middleware, and are always collected.
Additionally, it looks like this middleware would error if stats weren't provided, as the initial depth value would otherwise never be set.
scrapy/scrapy/spidermiddlewares/depth.py
Lines 53 to 56 in c4f096d
 if self.stats and 'depth' not in response.meta: 
     response.meta['depth'] = 0 
     if self.verbose_stats: 
         self.stats.inc_value('request_depth_count/0', spider=spider) 