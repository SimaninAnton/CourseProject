Contributor
chekunkov commented on May 14, 2015
Code to reproduce issue https://github.com/chekunkov/dirbot/tree/exception-in-pipeline
What happens if you use Scrapy 0.24.6 (also works with rev 5eb098a)
2015-05-14 07:13:51+0000 [dmoz] ERROR: Error processing {'description': [u'- Scripts, examples and news about Python programming for the Windows platform.\r'],
     'name': [u'Social Bug'],
     'url': [u'http://win32com.goermezer.de/']}
    Traceback (most recent call last):
      File "/vagrant/workspace/repositories/scrapy/scrapy/middleware.py", line 62, in _process_chain
        return process_chain(self.methods[methodname], obj, *args)
      File "/vagrant/workspace/repositories/scrapy/scrapy/utils/defer.py", line 65, in process_chain
        d.callback(input)
      File "/home/vagrant/.env/dirbot/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 383, in callback
        self._startRunCallbacks(result)
      File "/home/vagrant/.env/dirbot/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 491, in _startRunCallbacks
        self._runCallbacks()
    --- <exception caught here> ---
      File "/home/vagrant/.env/dirbot/local/lib/python2.7/site-packages/twisted/internet/defer.py", line 578, in _runCallbacks
        current.result = callback(current.result, *args, **kw)
      File "/vagrant/workspace/scrapinghub/repo/dirbot-chekunkov/dirbot/pipelines.py", line 12, in process_item
        raise Exception
    exceptions.Exception:

2015-05-14 07:13:51+0000 [dmoz] INFO: Closing spider (finished)
And this what happens if you use code from master branch:
2015-05-14 07:14:08+0000 [scrapy] ERROR: Error processing {'description': [u'- Features Python books, resources, news and articles.\r'],
 'name': [u"O'Reilly Python Center"],
 'url': [u'http://oreilly.com/python/']}
2015-05-14 07:14:08+0000 [scrapy] ERROR: Error processing {'description': [u'- Resources for reporting bugs, accessing the Python source tree with CVS and taking part in the development of Python.\r'],
 'name': [u"Python Developer's Guide"],
 'url': [u'https://www.python.org/dev/']}
2015-05-14 07:14:08+0000 [scrapy] ERROR: Error processing {'description': [u'- Scripts, examples and news about Python programming for the Windows platform.\r'],
 'name': [u'Social Bug'],
 'url': [u'http://win32com.goermezer.de/']}
2015-05-14 07:14:08+0000 [scrapy] INFO: Closing spider (finished)
Probably this is caused by #1060 and might be related to #1229