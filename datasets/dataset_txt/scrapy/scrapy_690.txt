Member
kmike commented on Feb 22, 2017 ‚Ä¢
edited
What do you think about adding response.follow_all shortcut, which returns a list of requests? This is inspired by this note in docs:
response.follow(response.css('li.next a')) is not valid because response.css returns a list-like object with selectors for all results, not a single selector. A for loop like in the example above, or response.follow(response.css('li.next a')[0]) is fine.
So instead of
for href in response.css('li.next a::attr(href)'):
    yield response.follow(href, callback=self.parse)
users would be able to write (in Python 3)
yield from response.follow_all(response.css('li.next a::attr(href)'), self.parse)
We can also add 'css' and 'xpath' support to it, as keyword arguments; it would shorten the code to this:
yield from response.follow_all(css='li.next a::attr(href)', callback=self.parse)
(this is a follow-up to #1940 and #2540)
üëç 2