zaazbb commented on Aug 19, 2017
my code:
import scrapy
from scrapy.loader import ItemLoader

class Product(scrapy.Item):
    name = scrapy.Field()
    test = scrapy.Field()

loader = ItemLoader(Product())
loader.add_value('name', '1111111111')
loader.add_value('name', '222222222')
loader.add_value('test', 'aaaaaaaaa')
item = loader.load_item()
print(item)

loader = ItemLoader(item)
loader.add_value('name', '333333333')
item = loader.load_item()
print(item)
output:
{'name': ['1111111111', '222222222'], 'test': ['aaaaaaaaa']}
{'name': ['333333333'], 'test': ['aaaaaaaaa']}
I expect '333333333' append to the key 'name', but it replace the value.
My spider need get lots of urls to download from different pages, so, i need append values to the same key, in different page paser.
What can i do, to do that??
thank you for your replay.