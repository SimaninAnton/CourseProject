madhurtewani commented on Mar 27, 2018 â€¢
edited
I'm trying to scrape data from https://www.abcxyz.com/search/category-speaker/.
I'm able to scrape data from some elements of the page using both selector.xpath and response.css.
But not able to scrap data from some other elements of the same page using both selector.xpath and response.css.
My script is as follows and I have put comment for the lines that are working and not working.
import scrapy
from scrapy import Selector

class AbcxyzSpider(scrapy.Spider):
 name = 'abcxyzspider'
 ROBOTSTXT_OBEY = False
 rotate_user_agent = True
 rotate_proxies = True
 start_urls = ['https://www.abcxyz.com/search/category-speaker/']

 def parse(self, response):
  print response
  sel = Selector(response)
  print sel.xpath('//span[@class="order-count"]/text()').extract_first() #working
  print sel.xpath('//span[@class="products__item-price--final"]/span/text()').extract_first() #not_working

  print response.css('span.order-count::text').extract_first() #working
  print response.css('span.products__item-price--final > span::text').extract_first() #not_working
Please help.