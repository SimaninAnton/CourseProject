amir-f commented on Apr 27, 2012
Here is a page I have got:
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
</head>
<body>
<p>12 is 12.0</p>
<p>5.2 is not 5</p>
</body>
</html>
I want to extract the numbers. Here is what I run and get:
My Scrapy is 0.14.2
> scrapy shell http://people.tamu.edu/~afayazi/cr/main.html

>>> hxs.select('//p/text()').re(r'\d+(\.\d+)?')
[u'', u'.0', u'.2', u'']
I am expecting:
[u'12', u'12.0', u'5.2', u'5']
Am I missing something?