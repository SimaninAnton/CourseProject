Contributor
StasDeep commented on Aug 11, 2018
Description
If you want to scrapy check a spider that has inherited methods, these methods' contracts will be ignored.
Reproduce
class BaseSpider(Spider):

    def returns_request(self, response):
        """ method which returns request
        @url https://docs.scrapy.org/en/latest/
        @returns requests 1
        """
        return Request('http://scrapy.org', callback=self.returns_item)


class DemoSpider(BaseSpider):
    name = 'demo_spider'
And then run scrapy check.
You'll get the following output:
----------------------------------------------------------------------
Ran 0 contracts in 0.000s

OK
Reason
ContractsManager.tested_methods_from_spidercls uses vars(spidercls).items() to get methods.
Solution
Use inspect.getmembers(spidercls) instead.