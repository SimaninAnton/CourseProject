Contributor
nuklea commented on Mar 3, 2013
My spider:
class MySpider(CrawlSpider):
    allowed_domains = {'hostname.com'}
and scrapy fetch smth raised:
Traceback (most recent call last):
  File "/home/nuklea/.virtualenvs/default/bin/scrapy", line 4, in <module>
    execute()
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/cmdline.py", line 131, in execute
    _run_print_help(parser, _run_command, cmd, args, opts)
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/cmdline.py", line 76, in _run_print_help
    func(*a, **kw)
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/cmdline.py", line 138, in _run_command
    cmd.run(args, opts)
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/commands/fetch.py", line 55, in run
    default_spider=BaseSpider('default'))
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/utils/spider.py", line 38, in create_spider_for_request
    snames = spidermanager.find_by_request(request)
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/spidermanager.py", line 48, in find_by_request
    if cls.handles_request(request)]
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/spider.py", line 61, in handles_request
    return url_is_from_spider(request.url, cls)
  File "/home/nuklea/.virtualenvs/default/lib/python2.7/site-packages/scrapy/utils/url.py", line 28, in url_is_from_spider
    getattr(spider, 'allowed_domains', []))
TypeError: can only concatenate list (not "set") to list