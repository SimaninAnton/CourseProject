GilJ commented on Feb 18, 2016
We have written some custom downloader middleware to which we want to pass a custom setting; the layout is basically the following:
from scrapy.utils.project import get_project_settings

class CustomMiddleware(object):
    def __init__(self):
        settings = get_project_settings()
        custom_setting = settings.get('CUSTOM_SETTING')
    [...]
And we launch our crawler with
scrapy crawl CrawlerName -s CUSTOM_SETTING=1
However, the custom setting is not set in our downloader middleware. It is available in our item pipeline.
Are we accessing the settings wrong, or should we pass another flag? I did not find anything in the documentation.