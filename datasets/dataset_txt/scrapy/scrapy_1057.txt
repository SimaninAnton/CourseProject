busla commented on Jan 8, 2016
Scrapy version: 1.04
My spider (from the XMLFeedSpider example in the docs) doesn´t seem to read the defined itertag since it contains the iso-8859-1 letter "Þ"
http://www.w3schools.com/charsets/ref_html_8859.asp
I´ve tried my code on a different url with english xml tags and it works fine.
# -*- coding: utf-8 -*-

import scrapy

from scrapy.spiders import XMLFeedSpider
from althingi_scraper.items import PartyItem

class PartySpider(XMLFeedSpider):
    name = 'party'
    allowed_domains = ['http://www.althingi.is']
    #session = '145'  

    start_urls = [
        #'http://www.althingi.is/altext/xml/thingflokkar/?lthing=%s' % session,        
        'http://www.althingi.is/altext/xml/thingflokkar/'
    ]   

    itertag = 'þingflokkar'

    def parse_node(self, response, node):        
        item = PartyItem()
        item['party_id'] = node.xpath('@id').extract()
        item['name'] = node.xpath('heiti').extract()
        #item['short_abbr'] = node.xpath('stuttskammstöfun').extract()
        #item['long_abbr'] = node.xpath('löngskammstöfun').extract()

        return item
Any thoughts?