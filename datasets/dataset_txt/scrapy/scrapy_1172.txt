Yegorov commented on Jul 18, 2015
Why at the end of the spider does not work callback?
from scrapy.crawler import CrawlerProcess
from scrapy.crawler import Crawler
from scrapy.utils.project import get_project_settings
from scrapy import signals

def t():
  print "\n\n\nTEST\n\n\n"

def p(text):
  print text

def test(my):
    def tt():
        print my
    return tt

spider = MySpider()
crawler = Crawler(spider, settings)

crawler.signals.connect(test("\n\n\nTEST\n\n\n"), signal=signals.spider_closed) # not working
crawler.signals.connect(lambda : p("\n\n\nTEST\n\n\n"), signal=signals.spider_closed) # not working
crawler.signals.connect(t, signal=signals.spider_closed) # only way