Contributor
redapple commented on Nov 25, 2013
Some web servers behave differently when they are receive or don't receive specific headers.
For example FeedBurner (http://feeds.feedburner.com/someblog) sends out XML RSS feeds only is you do not set the "Referer" header.
The idea would be to use the headers dict with some keys with a None value, and skip these headers when sending the HTTP request.
Currently, for the "Referer" example:
headers={"Referer": None} sends "Referer: None"
headers={"Referer": ""} sends "Referer: " (which works for the FeedBurner case, but is not satisfactory)
disable RefererMiddleware but that feels a bit heavy
(for this FeedBurner thing, apparently adding ?format=xml also does the trick)