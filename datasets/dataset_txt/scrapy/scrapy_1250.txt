Contributor
jesuslosada commented on Apr 9, 2015
Error when running scrapy deploy:
Traceback (most recent call last):
  File "/home/jesus/venv/test/bin/scrapy", line 9, in <module>
    load_entry_point('Scrapy==0.25.1', 'console_scripts', 'scrapy')()
  File "/home/jesus/venv/test/local/lib/python2.7/site-packages/scrapy/cmdline.py", line 143, in execute
    _run_print_help(parser, _run_command, cmd, args, opts)
  File "/home/jesus/venv/test/local/lib/python2.7/site-packages/scrapy/cmdline.py", line 89, in _run_print_help
    func(*a, **kw)
  File "/home/jesus/venv/test/local/lib/python2.7/site-packages/scrapy/cmdline.py", line 150, in _run_command
    cmd.run(args, opts)
  File "/home/jesus/venv/test/local/lib/python2.7/site-packages/scrapy/commands/deploy.py", line 106, in run
    if not _upload_egg(target, egg, project, version):
  File "/home/jesus/venv/test/local/lib/python2.7/site-packages/scrapy/commands/deploy.py", line 195, in _upload_egg
    return _http_post(req)
  File "/home/jesus/venv/test/local/lib/python2.7/site-packages/scrapy/commands/deploy.py", line 211, in _http_post
    f = request.urlopen(request)
  File "/usr/lib/python2.7/urllib2.py", line 225, in __getattr__
    raise AttributeError, attr
AttributeError: urlopen
The code that was merged with PR #1121 seems to be broken. There are several name collisions in deploy.py between method parameters named "request" and this import:
from six.moves.urllib import request