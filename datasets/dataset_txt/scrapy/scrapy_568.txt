jekoie commented on Aug 3, 2017
import scrapy
from scrapy.spiders import CrawlSpider, Rule
from scrapy.linkextractors import LinkExtractor


class FangSpider(CrawlSpider):
    name = 'fang'
    start_urls = ['http://sz.fang.lianjia.com/loupan/']

    rules = [Rule(LinkExtractor(allow=(r'/loupan/pg\d+/') ), callback='parse_item', follow=True) ]

    def parse_start_url(self, response):
        print 'start', response.url


    def parse_item(self, response):
        print 'parse', response.url
In parse_item() function, the spdier could't find similar /loupang/pg3 link addr?