sbarratt commented on Jul 27, 2016
Scrapy Code:
mailsender = MailSender(debug=True)
mailsender.send(to='test@scrapy.org', subject='subject', body='body', _callback=self._catch_mail_sent)
In file scrapy/mail.py:
msg['From'] = self.mailfrom
msg['To'] = COMMASPACE.join(to) # Problem Line
msg['Date'] = formatdate(localtime=True)
msg['Subject'] = subject
assumes to is a list. It sets the msg MIMEMultipart to msg['to'] = ['t', 'e', 's', 't', '@', 's', 'c', 'r', 'a', 'p', 'y','o','r','g'] instead of test@scrapy.org.