vella-nicholas commented on Nov 14, 2019
I wish to exit a scraping process without calling reactor.stop(). The reason is that I am deploying a spider in a cloud function. If an instance is reused I am getting ReactorNotRestartable since I am stopping the reactor. If I do not stop the reactor, the call times out.
I wish to exit without stopping the reactor. Any help on this please?
def crawl(url):
    configure_logging({'LOG_FORMAT': '%(levelname)s: %(message)s'})
    runner = CrawlerRunner(get_project_settings())

    d = runner.crawl(MySpider, url=url)
    d.addBoth(lambda _: just_stop())
    reactor.run()


def just_stop():
    print("I Reached here")
    return 'OK'