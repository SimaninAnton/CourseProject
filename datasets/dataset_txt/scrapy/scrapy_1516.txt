AJamesPhillips commented on Aug 21, 2013
Scrapy's retry middleware does not retry when twisted internet raises a ConnectionDone exception. I can't get the tests to pass but I believe I've fixed this issue with this: AJamesPhillips@1604505
The "exception" passed to RetryMiddleware.process_exception is actually wrapped and comes from the twisted deferred errback using code similar to: https://github.com/scrapy/scrapy/blob/master/scrapy/xlib/tx/_newclient.py#L540