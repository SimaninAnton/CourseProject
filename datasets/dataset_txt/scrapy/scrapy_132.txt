hadesfv commented on Jun 16, 2019 â€¢
edited
pipepine.py code
`import csv,datetime
class AaexampleSpider(object):
 def __init__(self,file_name):
  now = datetime.datetime.now()
  self.current_date = now.strftime("%d%b")
  self.file_name = file_name #file_name
  self.infile = open("{}_{}.csv".format(self.current_date,self.file_name),"w")
  self.dict_writer = csv.DictWriter(self.infile,fieldnames=["Hello"])
  self.dict_writer.writeheader()
 def process_item(self, item, spider):
  self.dict_writer.writerow(item)
def close_spider(self, spider):
 self.infile.close()`
How can I pass file_name from the parse to the init of the pipeline, Here is the spider code
import scrapy

class ExampleSpider(scrapy.Spider):
 name = 'example'
 allowed_domains = ['example.com']
 start_urls = ['http://example.com/']
 def parse(self, response):
  file_name = response.xpath('//div/h1/text()').extract_first()
  #code