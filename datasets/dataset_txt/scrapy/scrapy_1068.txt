gmeans commented on Dec 10, 2015
I've had a spider running pretty consistently for over a year now and just recently had the following error pop up:
UserWarning: cookielib bug!
    Traceback (most recent call last):
      File "/usr/lib/python2.7/cookielib.py", line 1582, in make_cookies
        parse_ns_headers(ns_hdrs), request)
      File "/usr/lib/python2.7/cookielib.py", line 485, in parse_ns_headers
        v = http2time(_strip_quotes(v))  # None if invalid
      File "/usr/lib/python2.7/cookielib.py", line 266, in http2time
        return _str2time(day, mon, yr, hr, min, sec, tz)
      File "/usr/lib/python2.7/cookielib.py", line 176, in _str2time
        t = _timegm((yr, mon, day, hr, min, sec, tz))
      File "/usr/lib/python2.7/cookielib.py", line 76, in _timegm
        return timegm(tt)
      File "/usr/lib/python2.7/calendar.py", line 613, in timegm
        days = datetime.date(year, month, 1).toordinal() - _EPOCH_ORD + day - 1
    ValueError: year is out of range
     [cookielib.py:1584]
The problem is that this error crashes the spider process completely. The spider is running within scrapyd.
Has anyone seen this before? I'm running Scrapy 0.24.4 on this instance due to an SSL issue that prevented me from upgrading.