runpython commented on Mar 15, 2018 •
edited
I have a problem that I have never been able to solve, and I am very annoyed
There are no relevant contents in the https://docs.scrapy.org/en/latest/
That's the way it is.
I'm going to scrapy this site http://q.10jqka.com.cn/
For example, I want to take the stock code under the stock market
The XPath parameter is similar to this
toxpath=response.xpath('//div[@id="maincont"]/table[@Class="m-table m-pager-table"]/tbody/tr').extract()
for listxpath in toxpath:
shno=response.listxpath('./td[1]/text()').extract()
shcode=response.listxpath('./td[2]/a/text()').extract()
shname=response.listxpath('./td[3]/a/text()').extract()
shprice=response.listxpath('./td[4]/text()').extract()
But I was in trouble when I was paging
The site's paging is a dynamic JavaScript
a code like this
<a class="changePage" page="2" href="javascript:void(0);">下一页</a>
So I can't scrapy the relevant content. How do I do it?
I hope to be able to help you, thank you.