fuchen2624 commented on 20 Jan 2018 â€¢
edited
My operating system is CentOS6
I installed Certbot with certbot-auto
I ran this command: 'sudo ./certbot-auto --authenticator webroot --installer nginx'
By default , on my operating system ,there is installed python3.4,it produced this output:
Creating virtual environment...
Error: Command '['/opt/eff.org/certbot/venv/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1
I was search from google ,It's said there has some bug about python3.4, then I installed a python3.6 on my operating system in '/usr/local/bin' ,and link python3 to python3.6. then I ran the command 'certbot-auto' again, it produced this output :
Creating virtual environment...
Installing Python packages...
Had a problem while installing Python packages.
pip prints the following errors:
Collecting argparse==1.4.0 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 11))
Downloading http://mirrors.aliyun.com/pypi/packages/f2/94/3af39d34be01a24a6e65433d19e107099374224905f1e0cc6bbe1fd22a2f/argparse-1.4.0-py2.py3-none-any.whl
Collecting pycparser==2.14 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 17))
Downloading http://mirrors.aliyun.com/pypi/packages/6d/31/666614af3db0acf377876d48688c5d334b6e493b96d21aa7d332169bee50/pycparser-2.14.tar.gz (223kB)
Collecting asn1crypto==0.22.0 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 21))
Downloading http://mirrors.aliyun.com/pypi/packages/97/ba/7e8117d8efcee589f4d96dd2b2eb1d997f96d27d214cf2b7134ad8acf6ab/asn1crypto-0.22.0-py2.py3-none-any.whl (97kB)
Collecting cffi==1.10.0 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 24))
Downloading http://mirrors.aliyun.com/pypi/packages/99/2f/2304b68ee2eea8395fb98702077e667849b98b9037956fafbef65fd53e0b/cffi-1.10.0-cp36-cp36m-manylinux1_x86_64.whl (406kB)
Collecting ConfigArgParse==0.12.0 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 61))
Downloading http://mirrors.aliyun.com/pypi/packages/17/8d/4a41f11b0971017c7001f118be8003da8f7b96b010c66cd792b76658d1e1/ConfigArgParse-0.12.0.tar.gz (41kB)
Collecting configobj==5.0.6 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 63))
Downloading http://mirrors.aliyun.com/pypi/packages/64/61/079eb60459c44929e684fa7d9e2fdca403f67d64dd9dbac27296be2e0fab/configobj-5.0.6.tar.gz
Collecting cryptography==2.0.2 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 65))
Downloading http://mirrors.aliyun.com/pypi/packages/d9/1c/299fc042685c288ace5d8c0a98474ff8d2e0b95e747eb89be3f93571ef3a/cryptography-2.0.2-cp36-cp36m-manylinux1_x86_64.whl (2.2MB)
Collecting enum34==1.1.2 (from -r /tmp/tmp.fTn8IZl1cS/letsencrypt-auto-requirements.txt (line 96))
Downloading http://mirrors.aliyun.com/pypi/packages/6f/e9/08fd439384b7e3d613e75a6c8236b8e64d90c47d23413493b38d4229a9a5/enum34-1.1.2.tar.gz (46kB)
Complete output from command python setup.py egg_info:
Traceback (most recent call last):
File "", line 1, in
File "/opt/eff.org/certbot/venv/lib/python3.6/site-packages/setuptools/init.py", line 5, in
import distutils.core
File "/usr/local/lib/python3.6/distutils/core.py", line 16, in
from distutils.dist import Distribution
File "/usr/local/lib/python3.6/distutils/dist.py", line 9, in
import re
File "/usr/local/lib/python3.6/re.py", line 142, in
class RegexFlag(enum.IntFlag):
AttributeError: module 'enum' has no attribute 'IntFlag'
Command "python setup.py egg_info" failed with error code 1 in /tmp/pip-build-0m_n85yu/enum34/
Certbot has problem setting up the virtual environment.
We were not be able to guess the right solution from your pip
output.
Consult https://certbot.eff.org/docs/install.html#problems-with-python-virtual-environment
for possible solutions.
You may also find some support resources at https://certbot.eff.org/support/ .
I am a java developer , I am new for python , I am so tired about this issue , I have no idea , help me please
1