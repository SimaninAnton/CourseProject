frozen-sky commented on 13 Jan 2017
If the certbot renew command is executed, certbot scans the available configurations and decide which certificates needs to be renewed. (in renew_all_lineages()).
Once a renewal_candidate if found, obtain_cert(), is executed. obtain_cert() will execute a installer.restart() every time it obtains a new certificate.
If you have a plugin/usage, where restarts are not so graceful or take a long time (for ex. java applications), this can have the undesired effect of unnecessary restarts when multiple certs are renewed in one batch.
The expected behavior is to restart only once after all renewals are processed.
tested on 0.9.3
linux/64-bit/debian jessie
(patch pending, test against 0.11.0.dev.0 pending)