dpocock commented on 18 May 2016
On a CentOS7 box, I had Listen directives in /etc/httpd/conf.d/ssl.conf binding to a specific IP and port 443:
Listen 195.8.117.80:443 https
Listen [2001:67c:1388:1001::6]:443 https
and other services running on other IP addresses bound to port 443.
Running letsencrypt-auto I was getting this in the httpd error_log:
(98)Address already in use: AH00072: make_sock: could not bind to address [::]:443
(98)Address already in use: AH00072: make_sock: could not bind to address 0.0.0.0:443
I stopped the other services temporarily but letsencrypt-auto still failed.
I commented the Listen lines and then the letsencrypt-auto command worked.
After running it, I noticed it had created new Listen directives at the bottom of /etc/httpd/conf/httpd.conf:
<IfModule mod_ssl.c>
Listen [2001:67c:1388:1001::6]:443
Listen 195.8.117.80:443
</IfModule>
so I didn't uncomment the Listen directives in /etc/httpd/conf.d/ssl.conf
1