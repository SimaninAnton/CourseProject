morxa commented on 27 Apr 2019 â€¢
edited
Running certbot-auto --version prints an unprintable ASCII character [?1034h.
This leads to problems when piping that output into mail, because mailx interprets the input as binary data and thus sends emails that have no text body but only an attachment. You can test this with:
$ certbot-auto --version | mail -s "certbot-test" you@example.com
My operating system is (include version):
CentOS 6.10
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
$ certbot-auto --version | xxd
0000000: 6365 7274 626f 7420 302e 3333 2e31 201b  certbot 0.33.1 .
0000010: 5b3f 3130 3334 680a                      [?1034h.
Certbot's behavior differed from what I expected because:
The second line should not be there, that's a non-printable character (escape sequence?). This blog post seems to provide some context and may hint to a fix.