Majkl578 commented on 12 Mar 2017 â€¢
edited
My operating system is (include version):
Debian 8
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot 0.12.0
Cloned from GitHub, now using certbot-auto.
I ran this command and it produced this output:
certbot-auto certonly --webroot -w <path> --expand --force-renewal --csr "$1" --cert-path "$2" --chain-path "$3"
Using CSR in $1 to generate the certificate.
This correctly generates the certificate iself and places it at path $2.
It fails to create proper chain certificate at path $3, it only contains the certificate itself without intermediate. Chain certificate is instead created in current working directory in 0000_chain.pem file.
Certbot's behavior differed from what I expected because:
Given that --chain-path was suppled, 0000_chain.pem file should not be created and proper chain certificate should be created at $3.