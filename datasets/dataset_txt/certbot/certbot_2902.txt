DatanoiseTV commented on 24 Nov 2015
This one is a feature request or actually request for comments.
I'd like to see flags for the auto-configuration of HTTP Strict Transport Security & HTTP Public Key Pinning for Apache and nginx in the future versions of the letsencrypt client.
Furthermore, I think it would make sense to introduce an option to permanently redirect the user from an HTTP vHost to the HTTPS vHost (ideally with an HSTS header) to ensure that the vHost is being accessed via HTTPS.
As an example, the following flags could be used for this purpose:
--use-hsts - Use HSTS in the vHost
--hsts-age=n- Set the HSTS age to n
--hsts-include-subdomains- Applies also on subdomains
--use-hpkp - Use HTTP Public Key Pinning
--hpkp-report-uri=URI- Set HPKP Report URI
--hpkp-override-age=n - Override the age of the pin
--hpkp-include-subdomains- Apply HPKP on subdomains
2