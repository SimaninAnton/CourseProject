sesse commented on 10 Nov 2015
Hi,
I'm trying to write an installer plugin. The IInstaller interface has lots of different functions that I seemingly need to override, but the documentation is very unclear about the larger picture. In normal use, I can only see prepare, deploy_cert, save and restart be called; however, there are lots of others, including get_all_names (which is hard for me to find without opening and parsing the actual certificates) and then lots of rollback/recovery stuff which somehow may or may not integrate with a “reverter” module. I think some of the rollback stuff is called if I throw an exception from any of the others, but exactly when a checkpoint is set (I can be asked to rollback N checkpoints, so it would be good to know when I am expected to take a checkpoint) or how all of this is used is unclear.
It looks like somehow the installer interface might also be used for authentication via DVSNI. If that's a correct guess (so it means installers overlap with authenticators wrt. purpose), perhaps it should be split out from the much simpler concept of just deploying an existing certificate authenticated by another module?
Thanks!