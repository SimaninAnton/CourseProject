jovobe commented on 4 Aug 2016
In my setup the web folder is a subfolder of the website root. All requests send to example.domain.com are passed to a script. To access a static file only files in the web folder are served to users. Here is a little example:
root of website: /var/www/example accessible over http://example.domain.com, but /var/www/example/test.txt is not accessible, because "test.txt" is passed to the framework.
root of static files: /var/www/example/static is accessible over http://example.domain.com/static and /var/www/example/static/test.txt (http://example.domain.com/static/test.txt) will be served to clients.
For this reason I suggest an option for certonly plugin to take a get-path argument so I can set /var/www/example/static as webroot and the acme-challange will go to http://example.domain.com/static/.well-known/acme-challenge...
For example like: certbot-auto certonly --webroot -w /var/www/example/static -d example.domain.com -p static where "-p static" says, that the acme-GET call should go to "example.domain.com/static/..."