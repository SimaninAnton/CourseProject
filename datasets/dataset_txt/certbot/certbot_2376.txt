Member
rolandshoemaker commented on 23 Feb 2016
If you happen to have a very old version of OpenSSL (looking at you Travis) and you don't set the CSR Version an empty integer (0 length byte slice) will be inserted into the version field which causes Boulder to choke as this is an invalid DER encoding. On newer versions if the version isn't set OpenSSL will sneakily just insert a 0 value and continue, meaning we hadn't stumbled across this before.
The version should be set using req.set_version(2) (2 = X509v3... because) in make_csr. Fixing this will allow us to unblock moving Boulder to Golang 1.6 (which we should build a Boulder instance from and run a test-farm thingies against just to check!)
1