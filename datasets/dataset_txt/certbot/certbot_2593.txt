tfrangio commented on 9 Jan 2016
I have been studying the other undefined symbol issues and I can not find anyone with my exact issue. I am on CentOS6.7. What is driving me crazy is I have Letsencrypt working on a different CentOS6.7 installation so I know it can work.
When I run :
/Timstmp/Letsencrypt-Source/letsencrypt/letsencrypt-auto --config /Timstmp/Letsencrypt-Source/ssl-certs/cli.ini --debug certonly
I get this error:
File "/root/.local/share/letsencrypt/lib/python2.6/site-packages/cryptography/hazmat/bindings/openssl/binding.py", line 14, in from cryptography.hazmat.bindings._openssl import ffi, lib ImportError: /root/.local/share/letsencrypt/lib/python2.6/site-packages/cryptography/hazmat/bindings/_openssl.so: undefined symbol: EC_GROUP_new_curve_GF2m
FYI the "cli.ini" file contains these lines:
# the default is 2048 (more is better)
rsa-key-size = 4096

# plugin
authenticator = webroot

# webroot
webroot-path = /home/baystate/public_html

# domains
domains = baystate.academy,www.baystate.academy

# flags
# renew is good for automation
renew-by-default
My first thought was it must be openssl but that does not seem to be a problem.
Here are my openssl version -a results:
(letsencrypt)root@server01 [/Timstmp/Letsencrypt-Source2/letsencrypt]# openssl version -a
OpenSSL 1.0.1e-fips 11 Feb 2013
built on: Thu Jan 7 19:19:21 UTC 2016
platform: linux-x86_64
options: bn(64,64) md2(int) rc4(16x,int) des(idx,cisc,16,int) idea(int) blowfish(idx)
compiler: gcc -fPIC -DOPENSSL_PIC -DZLIB -DOPENSSL_THREADS -D_REENTRANT >-DDSO_DLFCN -DHAVE_DLFCN_H -DKRB5_MIT -m64 -DL_ENDIAN -DTERMIO -Wall -O2 -g -pipe >-Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 >-mtune=generic -Wa,--noexecstack -DPURIFY -DOPENSSL_IA32_SSE2 >-DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m >-DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DAES_ASM -DVPAES_ASM >-DBSAES_ASM -DWHIRLPOOL_ASM -DGHASH_ASM
OPENSSLDIR: "/etc/pki/tls"
engines: dynamic
(letsencrypt)root@server01 [/Timstmp/Letsencrypt-Source2/letsencrypt]#
Please let me know if you have seen this and if you have any suggestions?