Contributor
delan commented on 13 Nov 2016
This is normally how I keep all of my services up to date:
chmod g+rx archive live
usermod -aG [Certbot group] [service user] (-G on OpenBSD)
ln -s live/…/… some/other/path.pem where necessary
Many services ask you to provide the server’s certificate in two files: fullchain.pem ($(cat cert.pem chain.pem)) and privkey.pem. Dare I say most services? OpenLDAP is the only one, off the top of my head, that asks you to provide three files.
I’ve found at least two services (ZNC and ejabberd) that ask you to provide this information in just one file, and in the same order ($(cat privkey.pem cert.pem chain.pem)).
To keep these services up to date, my cron job generates a live/…/full.pem by combining the other three files, and I’ve replaced their single PEM files with a symbolic link.
When I have some more free time, I’m open to writing a patch to make Certbot generate such a file, but for now, I’ll open this issue to find out whether or not it’s a desirable feature.