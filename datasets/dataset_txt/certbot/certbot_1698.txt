Contributor
pfigel commented on 27 Oct 2016
When the user invokes certbot with -d, the Common Name field is set to the first domain passed via that argument. webroot-map, which is essentially a combination of -d and -w, does not seem to follow this behavior and sets the Common Name to a (seemingly) random domain from the map. It would make sense for this to be consistent with -d, or at least to document this behaviour somewhere.
Sample config.ini to replicate:
webroot-map = {"example.com,1.example.com,2.example.com":"/var/www/html", "3.example.com":"/var/www/html", "4.example.com":"/var/www/html"}
Expected CN: example.com
Actual CN: 4.example.com
Originally reported here (includes a workaround).
2