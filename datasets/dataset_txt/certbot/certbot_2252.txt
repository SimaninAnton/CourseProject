ZaneCEO commented on 2 Apr 2016
I succesfully set up a certificate for https://turbolab.it/ (CentOS 6.7 with Apache 2.2) like this:
git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt
cd /opt/letsencrypt
./letsencrypt-auto certonly --webroot -w /full/site/path/ -d turbolab.it -d www.turbolab.it
I provided my email + agreed to TOS from the graphic (blue) UI.
Now I'm trying to stage the cert renewal but I'm facing issue. When I try to renew with ./letsencrypt-auto renew --dry-run I get:
[root@skycracker letsencrypt]# ./letsencrypt-auto renew --dry-run
Checking for new version...
Creating virtual environment...
Installing Python packages...
Installation succeeded.
Requesting root privileges to run letsencrypt...
   /root/.local/share/letsencrypt/bin/letsencrypt renew --dry-run
/root/.local/share/letsencrypt/lib/python2.6/site-packages/cryptography/__init__.py:26: DeprecationWarning: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of cryptography will drop support for Python 2.6
  DeprecationWarning
Processing /etc/letsencrypt/renewal/turbolab.it.conf
2016-04-02 13:49:45,115:WARNING:letsencrypt.client:Registering without email!
2016-04-02 13:49:45,910:WARNING:letsencrypt.cli:Attempting to renew cert from /etc/letsencrypt/renewal/turbolab.it.conf produced an unexpected error: Missing command line flag or config entry for this setting:
Please read the Terms of Service at https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf. You must agree in order to register with the ACME server at https://acme-staging.api.letsencrypt.org/directory

(You can set this with the --agree-tos flag). Skipping.
** DRY RUN: simulating 'letsencrypt renew' close to cert expiry
**          (The test certificates below have not been saved.)

All renewal attempts failed. The following certs could not be renewed:
  /etc/letsencrypt/live/turbolab.it/fullchain.pem (failure)
** DRY RUN: simulating 'letsencrypt renew' close to cert expiry
**          (The test certificates above have not been saved.)
1 renew failure(s), 0 parse failure(s)
The DeprecationWarning makes me very uncomfortable, but I understood shouldn't be an issue.
The failure is the real issue here. I understood that the renew parameter should fire a renew with the same options used at install-time, so why the failure?
Thanks!
Update: I can confirm that /etc/letsencrypt/renewal/turbolab.it.conf holds the correct setting email = info@ MY SITE