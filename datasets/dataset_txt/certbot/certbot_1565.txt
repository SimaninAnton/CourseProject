losvedir commented on 14 Dec 2016
I'm running certbot 0.9.3 installed via homebrew on macOS Sierra 10.12.1.
I'm trying to run sudo certbot certonly --manual in order to generate my certificate to install on my heroku app.
The first time I ran it, the blue-background app crashed after I put in my email address (a mailing list at my work). I re-ran it using my real email address (thinking maybe that mattered somehow), and it advanced to the next step. But then when Agree to the Terms of Service it crashes. I've tried a few times now, and it's the same:
An unexpected error occurred:
The server experienced an internal error :: Unable to update registration
Please see the logfiles in /var/log/letsencrypt for more details.
I don't know what, if anything, in my logs is sensitive so I won't include the whole thing unless someone asks for it.
But at the end, it looks like here is where it's failing:
2016-12-14 14:35:43,317:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/reg/7252540 ....
2016-12-14 14:35:47,386:DEBUG:root:Received <Response [500]>. Headers: {'Content-Length': '107', 'Boulder-Request-Id': '...', 'Expires': 'Wed, 14 Dec 2016 14:35:47 GMT', 'Server': 'nginx', 'Connection': 'close', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Boulder-Requester': '7252540', 'Date': 'Wed, 14 Dec 2016 14:35:47 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': '...'}. Content: '{\n  "type": "urn:acme:error:serverInternal",\n  "detail": "Unable to update registration",\n  "status": 500\n}'