Contributor
TheNavigat commented on 16 May 2018 •
edited
Create a sendmail configurator.
The following is a very crude list of notes I have made while researching sendmail. The list will be updates as findings keep surfacing.
Everything here is nothing more than mere observations. Please doubt everything. Double check everything you rely on. I make a lot of mistakes so please don’t blindly rely on the information written here.
sendmail.conf is a parameter file. It looks like it defines very simple key and value parameters, nothing beyond foo=”bar”. The default configuration file has all the keys in capital letters, snake-case (for example: THIS_IS_A_KEY) and all the values as quoted strings using double quotes. Didn’t check if this is a requirement.
sendmail.cf is operating-system specific, automatically generated. It’s not made to be human readable.
sendmail.mc is another real configuration file meant to be touched by humans. It generates sendmail.cf
sendmail.cf remains the principal sendmail configuration file. Used for the Mail Transmission Agent (MTA).
submit.cf is used for the Mail Submission Program (MSP). The MSP is used to submit mail messages. Unlike the MTA, it does not run as an SMTP daemon.
I couldn’t find a good enough documentation so I resorted to downloading the source code from https://www.proofpoint.com/us/open-source-email-solution. The source code contains amazing README files. cf/README looks like the main file we'll need for documentation.
Looks like the only file we actually need to edit/parse is sendmail.mc
Sendmail.mc
dnl is delete through newline.
sourcecode/cf/README: Sendmail uses the M4 macro processor to "compile'' the configuration files. The most important thing to know is that M4 is stream-based, that is, it doesn't understand about lines. For this reason, in some places you may see the word "dnl'', which stands for "delete through newline''; essentially, it deletes all characters starting at the "dnl'' up to and including the next newline character. In most cases sendmail uses this only to avoid lots of unnecessary blank lines in the output.