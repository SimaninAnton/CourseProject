datiscum commented on 22 Jul 2018
My operating system is ( Ubuntu 18.04 LTS ):
I installed Certbot with ( OS package manager ): certbot 0.23.0-1
I ran this command and it produced this output:
letsencrypt renew
Certbot's behavior differed from what I expected because:
Cert not due for renewal, but simulating renewal for dry run
Could not choose appropriate plugin: The apache plugin is not working; there may be problems with your existing configuration.
The error was: PluginError('There has been an error in parsing the file /etc/apache2/sites-enabled/XXXXX.conf on line 248: Syntax error',)
<ElseIf "(( %{REQUEST_METHOD} = ) && ( =~ () )
|| ( %{HTTP_REFERER} =~ ())
|| ( (%{HTTP_REFERER} =~ ) && ( =~ ( ) ))
|| ( (%{QUERY_STRING} =~ () = ) && ( =~ ))
|| ( (%{HTTP_REFERER} =~ ) && ( =~ ))
|| ( (-z %{HTTP_REFERER} || %{HTTP_REFERER} = ) && =~ )
|| ( (-z %{HTTP_REFERER} || %{HTTP_REFERER} = ) && =~ ) )
|| (( %{REQUEST_METHOD} = ) && ( =~ ))">
In the penultimate line at the end, I remove the")" the parser is happy, which is wrong.