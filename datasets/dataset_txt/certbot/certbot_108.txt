petjal commented on 12 Jul 2019
In retrospect I guess of course it makes sense that certbot/letsencrypt cannot be used to create certificates for servers accessible only from within a private network with no public DNS records.
Maybe that's obvious to most folks, but without it being clearly stated early in the docs or scripts as a fundamental limitation or requirement with no work-around, I flailed around today trying to make it work and of course failed.
The error messages I was seeing were fairly obvious and straightforward, like:
make sure that your domain name was
entered correctly and the DNS A/AAAA record(s) for that domain
contain(s) the right IP address. Additionally, please check that
your computer has a publicly routable IP address and that no
firewalls are preventing the server from communicating with the
client
but I wasn't sure whether some other incantation of command line options might work for my situation.
I've already created a local CA for this purpose, and that works fine, but I was playing around with certbot/letsencrypt today in hopes that maybe letsencrypt would eliminate the need to add my local root CA to all our various kinds of clients.
Regardless, thanks for a great service to the community!