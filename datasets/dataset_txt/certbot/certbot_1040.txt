GnaXi commented on 27 Jul 2017
My operating system is (include version):
Debian Stretch
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
OS package manager
I ran this command and it produced this output:
sudo certbot -apache -d domain.tld
Certbot's behavior differed from what I expected because:
The Apache plugin doesn't seem to work.
Here is a Certbot log showing the issue (if available):
After entering the command I get the error:
The requested pache plugin does not appear to be installed
Logs:
2017-07-27 08:14:22,829:DEBUG:certbot.main:Root logging level set at 20
2017-07-27 08:14:22,830:INFO:certbot.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log
2017-07-27 08:14:22,830:DEBUG:certbot.main:certbot version: 0.10.2
2017-07-27 08:14:22,830:DEBUG:certbot.main:Arguments: ['-apache', '-d', 'domain.tld', '-d', 'www.domain.tld']
2017-07-27 08:14:22,830:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)
2017-07-27 08:14:22,831:DEBUG:certbot.plugins.selection:Requested authenticator pache and installer None
2017-07-27 08:14:23,210:DEBUG:certbot.plugins.selection:Single candidate plugin: * apache
Description: Apache Web Server plugin - Beta
Interfaces: IAuthenticator, IInstaller, IPlugin
Entry point: apache = certbot_apache.configurator:ApacheConfigurator
Initialized: <certbot_apache.configurator.ApacheConfigurator object at 0x7fbb43ed4fd0>
Prep: True
2017-07-27 08:14:23,211:DEBUG:certbot.plugins.selection:No candidate plugin
2017-07-27 08:14:23,211:DEBUG:certbot.plugins.selection:Selected authenticator None and installer <certbot_apache.configurator.ApacheConfigurator object at 0x7fbb43ed4fd0>
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
DocumentRoot "/var/www/domain.tld"
ServerName www.domain.tld
ServerAlias domain.tld
<Directory "/var/www/domain.tld">
allow from all
Options None
Require all granted