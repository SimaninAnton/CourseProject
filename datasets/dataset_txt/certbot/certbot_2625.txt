Contributor
jsha commented on 2 Jan 2016
In Nginx there are two ways to turn on SSL for a server:
server {
  listen 443 ssl;
}
server {
  listen 443;
  ssl on;
}
Our Nginx plugin doesn't understand the latter. In parser.py's get_vhosts, the VirtualHost object will be created with ssl = False, leading later code to attempt to "enable" SSL on that vhost, creating a fatal conflict for the ssl_certificate directive. One possible easy fix: Look for ssl_certificate to determine whether a vhost has ssl enabled, instead of looking at the listen or ssl directives.