Contributor
mgedmin commented on 4 Dec 2015
I had an existing SSL configuration for my vhost, then tried out letsencrypt, and checked the differences (etckeeper FTW). This is the diff I saw:
diff --git a/apache2/sites-available/ranka.gedmin.as.conf b/apache2/sites-available/ranka.gedmin.as.conf
index 414a2c6..a8b3ffb 100644
--- a/apache2/sites-available/ranka.gedmin.as.conf
+++ b/apache2/sites-available/ranka.gedmin.as.conf
@@ -27,9 +27,8 @@
   RewriteCond %{HTTP_HOST} !=ranka.gedmin.as
   RewriteRule ^/(.*)$ https://ranka.gedmin.as/$1 [R=302,L]

-  SSLCertificateFile /etc/ssl/certs/ranka.gedmin.as.crt
-  SSLCertificateKeyFile /etc/ssl/private/ranka.gedmin.as.pem
-  SSLCertificateChainFile /etc/ssl/certs/startssl-class1-intermediate-sha2.crt
+  SSLCertificateFile /etc/letsencrypt/live/ranka.gedmin.as/cert.pem
+  SSLCertificateKeyFile /etc/letsencrypt/live/ranka.gedmin.as/privkey.pem

   # Changelog
   WSGIScriptAlias /changelog /usr/lib/pov-server-page/changelog2html
@@ -49,4 +48,5 @@
     Require valid-user
   </Location>

+  SSLCertificateChainFile /etc/letsencrypt/live/ranka.gedmin.as/chain.pem
 </VirtualHost>
Why was SSLCertificateChainFile moved to the bottom of the config, but the two other SSL directives kept in place?