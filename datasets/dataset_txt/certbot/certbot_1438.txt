kierun commented on 1 Feb 2017 â€¢
edited
I run the following from cron every month, and got this error:
/opt/letsencrypt/letsencrypt-auto certonly --quiet --standalone --renew-by-default -d example.org -d www.example.org  
Creating virtual environment...
Installing Python packages...     
Installation succeeded.               
An unexpected error occurred:             
DistributionNotFound: The 'ndg-httpsclient' distribution was not found and is required by requests                               
Please see the logfile 'certbot.log' for more details.
Clearly, "example" is not my domain, I used the correct one. The certbot.log does not offer any more details:
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/bin/letsencrypt", line 11, in <module>
    sys.exit(main())
  File "/opt/letsencrypt/certbot/main.py", line 858, in main
    plugins = plugins_disco.PluginsRegistry.find_all()
  File "/opt/letsencrypt/certbot/plugins/disco.py", line 183, in find_all
    plugin_ep = PluginEntryPoint(entry_point)
  File "/opt/letsencrypt/certbot/plugins/disco.py", line 34, in __init__
    self.plugin_cls = entry_point.load()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2201, in load
    self.require(*args, **kwargs)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2218, in require
    items = working_set.resolve(reqs, env, installer)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 830, in resolve
    raise DistributionNotFound(req, requirers)
DistributionNotFound: The 'ndg-httpsclient' distribution was not found and is required by requests
What am I missing?
System is Ubuntu 14.04.5 LTS (Trusty Tahr) if that matters and certbot is the lastest master as of today.