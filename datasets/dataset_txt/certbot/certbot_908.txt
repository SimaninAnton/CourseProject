nigel-aves commented on 15 Nov 2017
My operating system is (include version):
CentOS Linux 7.4.1708
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
yum install certbot-apache
( python2-certbot-apache-0.19.0-1.el7.noarch)
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
Parsing account key...
Parsing CSR...
Registering account...
Traceback (most recent call last):
File "/usr/libexec/webmin/webmin/acme_tiny.py", line 235, in
main(sys.argv[1:])
File "/usr/libexec/webmin/webmin/acme_tiny.py", line 231, in main
signed_crt = get_crt(args.account_key, args.csr, args.acme_dir, args.dns_hook, args.cleanup_hook, log=LOGGER, CA=args.ca)
File "/usr/libexec/webmin/webmin/acme_tiny.py", line 106, in get_crt
raise ValueError("Error registering: {0} {1}".format(code, result))
ValueError: Error registering: 400 {
"type": "urn:acme:error:malformed",
"detail": "Provided agreement URL [https://letsencrypt.org/documents/LE-SA-v1.1.1-August-1-2016.pdf] does not match current agreement URL [https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf]",
"status": 400
}
Not sure what I should do. But I find it strange that the document is dated today (LE-SA-v1.2-November-15-2017.pdf).
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring: