wilddev65 commented on 11 Jul 2017
My operating system is (include version):
MacOS 10.12.5, CentOS 7.3-1611
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
CentOS EPEL repository using Yum
Certbot version 0.14.1
Certbot's behavior differed from what I expected because:
Certificate was issued with no Subject Name
I was able to install the certificate and have it currently running on my Apache server on CentOS. I am unable to generate a certificate with a Subject Name, only one's that have DNS SANs. For my Windows clients this doesn't seem to be an issue, however, MacOS Sierra gives net::ERR_CERT_INVALID and when examining the certificate the error is This certificate is not valid (empty subject name).
From reading through discussions it was stated that the first domain name on the cli with -d is used for the Subject Name, but this did not seem to work for me. Both a single domain name and multiple names resulted in them just being used in the SAN. I examined the CSR that certbot generated with openssl to verify that the SN was not in the CSR.