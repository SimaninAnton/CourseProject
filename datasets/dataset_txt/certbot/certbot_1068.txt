Contributor
ynasser commented on 10 Jul 2017
We have a horribly organized certbot/tests/testdata/ directory, and it's not clear which of our testing certificates go with which keys, and this has caused some confusion. Ideally, this would be documented somewhere around here: https://certbot.eff.org/docs/contributing.html#testing.
Here's a small sample of what's involved in part of this (e.g. checking that a private key goes with a certificate):
$ openssl x509 -noout -modulus -in cert.pem | openssl md5
(stdin)= c1cc74880b0f3366db7c9fc48a359dff
$ openssl rsa -noout -modulus -in rsa256_key.pem | openssl md5
(stdin)= f7f1dda5f208c1718c3c18189114ddd6
Since the hashes don't match, they don't go together (but those two are used together in a lot of the unit tests).
Relevant preliminary reading on the differences between fullchain, cert, and chain files for whoever takes this on: https://certbot.eff.org/docs/using.html#where-are-my-certificates