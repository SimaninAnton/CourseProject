cloos commented on 4 Dec 2015
Hi,
I think the letsencrypt client shouldnâ€™t add includeSubDomains to the Strict-Transport-Security header by default.
If you let the letsencrypt client modify the configuration for a webserver which hosts example.com, this would make it only possible to reach subdomain hosts (foo.example.com) with https. If you forgot only one webserver which serves a subdomain by http only, you can't reach this one any more.
And as browsers actually don't have an option to clear the HSTS cache, It won't help you to remove the includeSubDomains later from the webserver config.
includeSubDomains is something, that an admin should only add if he truly knows, that all subdomains are reachable by https. So I think this should never be added by an automatic tool, like the letsencrypt client.
RFC 6797 section 11.1 [1] also describes some implications of includeSubDomains
Chris
[1] https://tools.ietf.org/html/rfc6797#section-11.4