jenlampton commented on 10 Jan 2017 â€¢
edited
After looking over a few other issues it sounds like the problem I'm facing is that Certbot does not check the main httpd.conf (or apache2.conf) for any possible VirtualHost directives contained within. I understand that on Debian/Ubuntu there shouldn't be any in there, but on CentOS it is common for people to add their virualhost directives directly into the main file -- especially if there are only a few on the server.
I am running CentOS 6 + Apache on several Linodes and wanted to use letsencrypt. I tried to use the Certbot to install the certificates, but it was unable to locate any of the sites on the server.
I'd like to propose the code be altered to first check the main configuration file for any virtual host directives, which I hope is a simple task. (Or better yet, perhaps there is a way to ask Apache directly what it's sites are, instead of scanning the files at all.)