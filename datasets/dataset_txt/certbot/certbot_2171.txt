Member
bmw commented on 20 Apr 2016 â€¢
edited
Unfortunately, the way that GitHub handles symlinks isn't ideal for *-auto. For example, here's a symlink to a directory. Symlinks to files are treated the same way. The raw contents of the symlink is simply the target's path, not the contents.
With this in mind I propose we leave letsencrypt-auto-source largely unmodified. Moving this directory or making it a symlink to certbot-auto-source will break letsencrypt-auto. I also think keeping both letsencrypt-auto and certbot-auto in the letsencrypt-auto-source directory is unnecessary as they will be the same file. This means both certbot-auto and letsencrypt-auto will be downloading letsencrypt-auto-source/letsencrypt-auto for updates, but this is an implementation detail and not a big deal in my opinion.
The other question we have to consider is about *-autos in the root of our repo. letsencrypt-auto must remain in our repo in some form. All of our installation instructions use it and have done so since the beginning of public beta.
Do we want a certbot-auto in the root of our repo? I think we do as having letsencrypt-auto be the only -auto script in our repo when certbot-auto is the preferred form is a bit awkward. We could make one of the scripts a symlink to the other. The problem is this breaks anyone doing wget https://raw.githubusercontent.com/letsencrypt/letsencrypt/master/letsencrypt-auto (or with certbot-auto). While I haven't seen anyone do this, we can avoid this potential problem by having full copies of both certbot-auto and letsencrypt-auto in the root directory. I think I prefer this approach over using symlinks.
Thoughts?