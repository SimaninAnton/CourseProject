nodakai commented on 20 Jan 2018 â€¢
edited
My operating system is (include version):
Amazon Linux 2 LTS Candidate AMI 2017.12.0.20171212.2 x86_64 HVM GP2 ami-b45030c8
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
$ sudo ./certbot-auto certonly --webroot -w www -d example.com
Sorry, I don't know how to bootstrap Certbot on your operating system!

You will need to install OS dependencies, configure virtualenv, and run pip install manually.
Please see https://letsencrypt.readthedocs.org/en/latest/contributing.html#prerequisites
for more info.
Certbot's behavior differed from what I expected because:
Amazon Linux 2 should be supported when RHEL/CentOS 7 are.
I changed this line
https://github.com/certbot/certbot/blob/master/certbot-auto#L782
elif [ -f /etc/redhat-release ]; then
to this
elif [ -f /etc/redhat-release ] || grep 'cpe:.*:amazon_linux:2' /etc/os-release > /dev/null 2>&1; then
and could successfully install certbot, because we have this file
$ cat /etc/os-release
NAME="Amazon Linux"
VERSION="2.0 (2017.12)"
ID="amzn"
ID_LIKE="centos rhel fedora"
VERSION_ID="2.0"
PRETTY_NAME="Amazon Linux 2.0 (2017.12) LTS Release Candidate"
ANSI_COLOR="0;33"
CPE_NAME="cpe:2.3:o:amazon:amazon_linux:2.0"
HOME_URL="https://amazonlinux.com/"
13
4
1