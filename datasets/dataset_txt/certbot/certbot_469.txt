Member
hlieberman commented on 16 Jul 2018
Unlike other plugins using the lexicon backend, the dns-ovh plugin attempts to hit the actual OVH API during the testing phase. When this is attempted inside Debian build environments, the tests all fail as internet access is not available.
test_add_txt_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_add_txt_record_error_adding_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_add_txt_record_error_finding_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_add_txt_record_fail_to_authenticate (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_add_txt_record_fail_to_authenticate_with_unknown_error (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_add_txt_record_fail_to_find_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_add_txt_record_try_twice_to_find_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_del_txt_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_del_txt_record_error_deleting_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_del_txt_record_error_finding_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_del_txt_record_fail_to_authenticate (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_del_txt_record_fail_to_authenticate_with_unknown_error (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
test_del_txt_record_fail_to_find_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='eu.api.ovh.com', port=443): Max retries exceeded with url: /1.0/auth/time (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f8c1e181ac8>: Failed to establish a new connection: [Errno 111] Connection refused',)))