bdelamatre commented 24 days ago
If you're having trouble using Certbot and aren't sure you've found a bug or
request for a new feature, please first try asking for help at
https://community.letsencrypt.org/. There is a much larger community there of
people familiar with the project who will be able to more quickly answer your
questions.
My operating system is (include version):
CentOS 7.7
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
Epel (version 1.0.0 installed)
I ran this command and it produced this output:
certbot --text --agree-tos --non-interactive certonly --rsa-key-size 4096 -a webroot --cert-name 'grafana.3pth.com' --webroot-path /usr/share/nginx/html -d 'mydomain.com'
Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org
An unexpected error occurred:
The client lacks sufficient authorization :: Account creation on ACMEv1 is disabled. Please upgrade your ACME client to a version that supports ACMEv2
/ RFC 8555. See https://community.letsencrypt.org/t/end-of-life-plan-for-acmev1/88430 for details.
Certbot's behavior differed from what I expected because:
Expected a certificate to be issued.
Not really sure what I am supposed to do in this scenario even after reading the documentation in the error message. I am using the latest version of Certbot as far as I can tell, I am using the latest Centos 7.x release, I installed the package from Epel per the documentation (https://certbot.eff.org/lets-encrypt/centosrhel7-apache.html) and as far as I can tell I shouldn't need to specify which Acme version I am using.
Am I missing something?
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring: