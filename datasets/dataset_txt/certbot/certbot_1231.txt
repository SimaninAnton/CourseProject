ian-kelling commented on 26 Apr 2017 â€¢
edited
My operating system is (include version):
Debian stretch, updated as of 4/2017
debian packages:
nginx-full 1.10.3-1
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
git 372d201
I ran this command and it produced this output:
replacing example.com with a valid domain.
I had an existing le cert.
I setup an nginx config:
server {
    server_name example.com;
    root /var/www/example.com/html;
    listen 80 http2;
    listen [::]:80 http2;
}
then ran
# ./certbot-auto -n --hsts --staple-ocsp --uir --must-staple  --email $email --staple-ocsp --no-self-upgrade --agree-tos --nginx -d example.com
Went to https://www.ssllabs.com/, ran test, got this result
"This server supports weak Diffie-Hellman (DH) key exchange parameters. Grade capped to B."
Certbot's behavior differed from what I expected because:
Running the same command with --apache instead of --nginx, it was A+. It should also be A or A+ for nginx.