Member
pde commented on 3 Nov 2016 â€¢
edited
Because argparse.ArgumentDefaultsHelpFormatter really doesn't understand the default behaviour of the program, or the semantics of different values.
A few examples:
  --disable-hook-validation
                        Ordinarily the commands specified for --pre-hook
                        /--post-hook/--renew-hook will be checked for
                        validity, to see if the programs being run are in the
                        $PATH, so that mistakes can be caught early, even when
                        the hooks aren't being run just yet. The validation is
                        rather simplistic and fails if you use more advanced
                        shell constructs, so you can use this switch to
                        disable it. (default: True)
As far as the user is concerned, the real default is False (but argparse doesn't understand its own store_false semantics.)
  --dialog              Run using interactive dialog menus (default: False)
This is a flag that shadows the default behaviour of the code (though it's now deprecated).
  -d DOMAIN, --domains DOMAIN, --domain DOMAIN
                        Domain names to apply. For multiple domains you can
                        use multiple -d flags or enter a comma separated list
                        of domains as a parameter. (default: [])

  --expand              If an existing cert covers some subset of the
                        requested names, always expand and replace it with the
                        additional names. (default: False)
The real default in these cases is "Ask" :)
  -c CONFIG_FILE, --config CONFIG_FILE
                        config file path (default: None)
The real default here is loaded from certbot/constants.py, and is /etc/letsencrypt/cli.ini.