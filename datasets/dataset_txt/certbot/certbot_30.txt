nhey commented on 26 Nov 2019
I request integration with journald or at least the ability to log to stdout.
Currently it is only possible to specify a logs directory, which means I have to patch the logging module in order to write to stdout.
Would something simple like a stdout commandline flag be accepted upstream?
From log.py:
def setup_log_file_handler(config, logfile, fmt):
...
++   if config.log_to_stdout:
++     handler = logging.StreamHandler(sys.stdout)
...
++  else:
      util.set_up_core_dir(config.logs_dir, 0o700, config.strict_permissions)
      log_file_path = os.path.join(config.logs_dir, logfile)
      try:
          handler = logging.handlers.RotatingFileHandler(
              log_file_path, maxBytes=2 ** 20,
              backupCount=config.max_log_backups)
      except IOError as error:
          raise errors.Error(util.PERM_ERR_FMT.format(error))
      handler.doRollover()
    handler.setLevel(logging.DEBUG)
    handler_formatter = logging.Formatter(fmt=fmt)
    handler.setFormatter(handler_formatter)
    return handler, log_file_path