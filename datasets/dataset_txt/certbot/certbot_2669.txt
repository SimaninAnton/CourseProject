Tronde commented on 23 Dec 2015
Good evening guys,
I like to run the letsencrypt-auto client with the webroot plugin using an existing CSR file. Therefore I use the following command:
/opt/letsencrypt/letsencrypt-auto certonly --webroot --webroot-path /var/www/example.com/public/ --server https://acme-staging.api.letsencrypt.org/directory --csr example.com.csr
I got the following error code on stdout:
The webroot plugin is not working; there may be problems with your existing configuration.
The error was: PluginError('--webroot-path must be set',)
The log shows the following:
2015-12-22 21:57:20,462:DEBUG:letsencrypt.cli:Root logging level set at 30
2015-12-22 21:57:20,462:INFO:letsencrypt.cli:Saving debug log to /var/log/letsencrypt/letsencrypt.log
2015-12-22 21:57:20,462:DEBUG:letsencrypt.cli:letsencrypt version: 0.1.1
2015-12-22 21:57:20,462:DEBUG:letsencrypt.cli:Arguments: ['--webroot', '--webroot-path', '/var/www/example.com/public/', '--server', 'https://acme-staging.api.letsencrypt.org/directory', '--csr', 'example.com.csr']
2015-12-22 21:57:20,463:DEBUG:letsencrypt.cli:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)
2015-12-22 21:57:20,467:DEBUG:letsencrypt.cli:Requested authenticator webroot and installer None
2015-12-22 21:57:20,473:DEBUG:letsencrypt.plugins.disco:Other error:(PluginEntryPoint#webroot): --webroot-path must be set
Traceback (most recent call last):
  File "/home/user/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py", line 103, in prepare
    self._initialized.prepare()
  File "/home/user/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/plugins/webroot.py", line 53, in prepare
    self.option_name("path")))
PluginError: --webroot-path must be set
2015-12-22 21:57:20,474:DEBUG:letsencrypt.display.ops:No candidate plugin
2015-12-22 21:57:20,474:DEBUG:letsencrypt.cli:Selected authenticator None and installer None
Without the --csr example.com.csr option the command completes without any errors.
Is here something wrong, or is it not possible to use the webroot plugin with a given csr file?
I am running Ubuntu 14.04.3 LTS with Python 2.7.6. If you need more information for troubleshooting, please tell me.
Best regards,
Tronde