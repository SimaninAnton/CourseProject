justfortherec commented on 30 Oct 2015
39c83d1 adds the -t flag to apache2ctl -t -D DUMP_RUN_CFG in order to avoid erroneous detection of misconfiguration.
letsencrypt does not complain about misconfiguration anymore but fails when trying to parse output of apache2ctl:
The apache plugin is not working; there may be problems with your existing configuration.
The error was: PluginError('Unable to parse runtime variables',)
No wonder, the output is basically empty:
# apache2ctl -t -D DUMP_RUN_CFG
Syntax OK
Adding the -t flag seems but a part of the solution.
There are two discussions of this issue on the community board:
https://community.letsencrypt.org/t/how-is-my-apache-misconfigured-exactly/2326
https://community.letsencrypt.org/t/problems-using-letsencrypt-client-in-beta/1925