Member
bmw commented on 2 May 2018 â€¢
edited
The way this code works is we first try to bind using IPv6 and then IPv4. On most UNIX-like systems, IPv4 traffic is mapped to IPv6 by default so listening on IPv6 gets traffic from both protocols and we fail to bind using IPv4. When this happens, the following message is logged:
Failed to bind to :80 using IPv4
This often confuses people trying to debug why they failed a challenge. They immediately think the problem is Certbot failed to bind to the port which it sometimes is, but it also could be a firewall, proxy, or misconfigured DNS preventing the traffic from getting to Certbot.
A couple options for fixing this could be that we expand on this log message or also log a DEBUG level message when we successfully bind to the port.