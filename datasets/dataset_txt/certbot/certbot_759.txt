xgaia commented on 31 Jan 2018 â€¢
edited
Hello, I tried to renew my certificate with certbot-auto, but it failed. It seems to not create the acme files.
My operating system is (include version):
Raspbian GNU/Linux 8 (jessie)
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
command:
certbot-auto renew 
output:
Saving debug log to /var/log/letsencrypt/letsencrypt.log

-------------------------------------------------------------------------------
Processing /etc/letsencrypt/renewal/<mydomain>.conf
-------------------------------------------------------------------------------
Cert is due for renewal, auto-renewing...
Plugins selected: Authenticator apache, Installer apache
Renewing an existing certificate
Performing the following challenges:
http-01 challenge for <mydomain>
Waiting for verification...
Cleaning up challenges
Attempting to renew cert (<mydomain>) from /etc/letsencrypt/renewal/<mydomain>.conf produced an unexpected error: Failed authorization procedure. <mydomain> (http-01): urn:acme:error:connection :: The server could not connect to the client to verify the domain :: Fetching http://<mydomain>/.well-known/acme-challenge/zebrJ7qQ5k9lixT0Cwg-9wEaPSY-mL4usZkHeZIT8_k: Timeout. Skipping.
All renewal attempts failed. The following certs could not be renewed:
  /etc/letsencrypt/live/<mydomain>/fullchain.pem (failure)

-------------------------------------------------------------------------------

All renewal attempts failed. The following certs could not be renewed:
  /etc/letsencrypt/live/<mydomain>/fullchain.pem (failure)
-------------------------------------------------------------------------------
1 renew failure(s), 0 parse failure(s)

IMPORTANT NOTES:
 - The following errors were reported by the server:

   Domain: <mydomain>
   Type:   connection
   Detail: Fetching
   http://<mydomain>/.well-known/acme-challenge/zebrJ7qQ5k9lixT0Cwg-9wEaPSY-mL4usZkHeZIT8_k:
   Timeout

   To fix these errors, please make sure that your domain name was
   entered correctly and the DNS A/AAAA record(s) for that domain
   contain(s) the right IP address. Additionally, please check that
   your computer has a publicly routable IP address and that no
   firewalls are preventing the server from communicating with the
   client. If you're using the webroot plugin, you should also verify
   that you are serving files from the webroot path you provided.
Certbot's behavior differed from what I expected because:
certbot don't create the files into .well-known/acme-challenge. It only create the directory .well-known