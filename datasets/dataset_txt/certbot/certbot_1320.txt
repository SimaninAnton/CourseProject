Member
bmw commented on 19 Mar 2017
When running tests with our docker-compose development setup, you see output like:
lint installed: Error [Errno 2] No such file or directory while executing command git config --get-regexp remote\..*\.url,cannot determine version of editable source in /opt/certbot/src (git command not found in path),Error [Errno 2] No such file or directory while executing command git rev-parse,Error [Errno 2] No such file or directory while executing command git rev-parse,Error [Errno 2] No such file or directory while executing command git rev-parse,Error [Errno 2] No such file or directory while executing command git rev-parse,Error [Errno 2] No such file or directory while executing command git rev-parse,acme==0.13.0.dev0...
This confuses new developers (and me until I figured out what was going on). This is pip noticing that the files installed in editable mode are part of a git directory and trying to use it to track changes. We have .git in our .dockerignore, but because we mount the cloned Certbot repo on the host inside the docker container, .git is available inside of Docker.
Perhaps we should install git in Docker-dev. Is the difference in git version between the host and container a possible problem if we do this? At the very least, we should document this behavior to avoid confusion.