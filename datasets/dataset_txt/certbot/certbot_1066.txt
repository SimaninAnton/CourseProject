phoenixgao commented on 11 Jul 2017
My operating system is (include version):
Ubuntu 16.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
certbot-auto certonly --nginx
Error: invalid literal for int() with base 10: ''
This is because in the nginx configurator code:
https://github.com/certbot/certbot/blob/master/certbot-nginx/certbot_nginx/configurator.py#L649
it uses regex version_regex = re.compile(r"nginx/([0-9\.]*)", re.IGNORECASE) but the version number of openresty nginx is like nginx version: openresty/1.11.2.2
Certbot's behavior differed from what I expected because:
nginx plugin should support openresty or prompt it doesn't support
2