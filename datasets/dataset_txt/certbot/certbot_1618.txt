donmccurdy commented on 28 Nov 2016 •
edited
Hi,
I created my certificate with something along these lines:
./certbot-auto certonly -n -d www.domain1.com -d www.domain2.com --webroot --webroot-path /home/donmccurdy/public --expand
Later, to renew my certificate manually, and tried this:
./certbot-auto renew
Output:
➜  ~ ./certbot-auto renew 
Requesting root privileges to run certbot...
  /home/donmccurdy/.local/share/letsencrypt/bin/letsencrypt renew
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Currently, the renew verb is only capable of renewing all installed certificates that are due to
be renewed; individual domains cannot be specified with this action. If you would like to renew
specific certificates, use the certonly command. The renew verb may provide other options for
selecting certificates to renew in the future.
I couldn't parse that error, and the log wasn't any more specific, so for the last few months I've been manually creating a new certificate instead of renewing the existing one. I finally tracked the problem down, thanks to this thread. An entry had appeared in cli.ini (a file I never edited myself, that I'm aware of) hardcoding those domains, and the renew command apparently refers to that file.
Because domains were not specified in the command I issued, could this error message be more explicit about why it is failing? Or perhaps call some attention to the setting it inherits from cli.ini?
Cheers