centminmod commented on 29 Aug 2015
In the client's Manual Authenticator mode the the directory the client is looking for the ACME challenge is prefixed with a dot
i.e. .well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys
Make sure your web server displays the following content at
https://newdomain2.com/.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys before continuing:
However, certain Nginx configurations best practices are to block file and directory access to dot prefixed folders and files
location ~ /\.          { access_log off; log_not_found off; deny all; }
So Manual mode instructions for ./venv/bin/letsencrypt -d newdomain2.com auth
Make sure your web server displays the following content at
https://newdomain2.com/.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys before continuing:

?*>|l0t6u$

           Content-Type header MUST be set to application/jose+json.

If you don't have HTTP server configured, you can run the following
command on the target server (as root):

mkdir -p /tmp/letsencrypt/public_html/.well-known/acme-challenge
cd /tmp/letsencrypt/public_html
echo -n '{"header": {"alg": "RS256", "jwk": {"e": "AQAB", "kty": "RSA", "n": "rqrPQZTTBwGyjTi4ob6vwXLo3kGhrRhNx-lkGnOFFAhlMWDE7TtuAttmp45xxKsfZUTyWSH_HZBml53YOmTwXmLMHjVvZp7yXXgH7p3e1Do4yf31M83Lm1ymCSGQe4OQFXu0raVpXA6iguDRt1wPpD9uPG20vuvjgvoDz9ohrigCbVZLuuJiBm4gPqARr4FD7LaufBabvoDDiATtiwfLtsLNVwjYY79W7ZWxqU7mZibT1--Uo2-fsRh2pMxYT4SWXBya4943W5t8HzP-CNVZTsLrUMG9laHPtZv_6A67NfrC-3RpSUTOK9_fbmTFzpYQFAnKWE4YxvwC2xE5GqO4kQ"}}, "payload": "eyJ0bHMiOiB0cnVlLCAidG9rZW4iOiAiRVRfc3k2eTFLdUl5MWRrLXZuOEtmR3lXX1QyME1IUTJkZGNMRmdNa255cyIsICJ0eXBlIjogInNpbXBsZUh0dHAifQ", "signature": "KrCfJMYiJAPCzeFutsIRGw5t4X5B3ZpFeqPPGV9E44eKIYqJGK5NBAeyTvBRZgrhnj0ifQeFJ8gbs-vWX-4HgVr4XgmAkLdN1_ZN6pCkARwDc4XZXC3AcIoCNpGIVy4f9qZRbkOgaHbfJzsT7fJcqyTQs2gNeXiuKi4miJgwQANpkoHCAFT-cggkqDRB_vRdw5glUFlJArHY90_tV8VX5OV4SNlsQGPqVcwUME1KI0vka6dD1KTYDSxUrQmo1eFlS1SFKRU2lmxGB_BU7lJ_ymmzgjrBDSFLRtOTYFKoizHX03FmpOhm3_h-_0JuStsN879bUq2NSzGLt94G1IDuvQ"}' > .well-known/acme-challenge/ET_sy6y1KuIy1dk    -vn8KfGyW_T20MHQ2ddcLFgMknys
# run only once per server:
openssl req -new -newkey rsa:4096 -subj "/" -days 1 -nodes -x509 -keyout ../key.pem -out ../cert.pem
$(command -v python2 || command -v python2.7 || command -v python2.6) -c \
"import BaseHTTPServer, SimpleHTTPServer, ssl; \
SimpleHTTPServer.SimpleHTTPRequestHandler.extensions_map = {'': 'application/jose+json'}; \
s = BaseHTTPServer.HTTPServer(('', 443), SimpleHTTPServer.SimpleHTTPRequestHandler); \
s.socket = ssl.wrap_socket(s.socket, keyfile='../key.pem', certfile='../cert.pem'); \
s.serve_forever()" 
Press ENTER to continue
If I change them for my custom Nginx paths to
cd /home/nginx/domains/newdomain2.com/public
mkdir -p .well-known/acme-challenge
echo -n '{"header": {"alg": "RS256", "jwk": {"e": "AQAB", "kty": "RSA", "n": "rqrPQZTTBwGyjTi4ob6vwXLo3kGhrRhNx-lkGnOFFAhlMWDE7TtuAttmp45xxKsfZUTyWSH_HZBml53YOmTwXmLMHjVvZp7yXXgH7p3e1Do4yf31M83Lm1ymCSGQe4OQFXu0raVpXA6iguDRt1wPpD9uPG20vuvjgvoDz9ohrigCbVZLuuJiBm4gPqARr4FD7LaufBabvoDDiATtiwfLtsLNVwjYY79W7ZWxqU7mZibT1--Uo2-fsRh2pMxYT4SWXBya4943W5t8HzP-CNVZTsLrUMG9laHPtZv_6A67NfrC-3RpSUTOK9_fbmTFzpYQFAnKWE4YxvwC2xE5GqO4kQ"}}, "payload": "eyJ0bHMiOiB0cnVlLCAidG9rZW4iOiAiRVRfc3k2eTFLdUl5MWRrLXZuOEtmR3lXX1QyME1IUTJkZGNMRmdNa255cyIsICJ0eXBlIjogInNpbXBsZUh0dHAifQ", "signature": "KrCfJMYiJAPCzeFutsIRGw5t4X5B3ZpFeqPPGV9E44eKIYqJGK5NBAeyTvBRZgrhnj0ifQeFJ8gbs-vWX-4HgVr4XgmAkLdN1_ZN6pCkARwDc4XZXC3AcIoCNpGIVy4f9qZRbkOgaHbfJzsT7fJcqyTQs2gNeXiuKi4miJgwQANpkoHCAFT-cggkqDRB_vRdw5glUFlJArHY90_tV8VX5OV4SNlsQGPqVcwUME1KI0vka6dD1KTYDSxUrQmo1eFlS1SFKRU2lmxGB_BU7lJ_ymmzgjrBDSFLRtOTYFKoizHX03FmpOhm3_h-_0JuStsN879bUq2NSzGLt94G1IDuvQ"}' > .well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys
then try accessing .well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys, I will get 403 Forbidden / access denied due to my Nginx configuration blocking dot prefixed files/folders
curl -Ik https://newdomain2.com/.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys
HTTP/1.1 403 Forbidden
Date: Fri, 28 Aug 2015 22:06:57 GMT
Content-Type: text/html; charset=utf-8
Content-Length: 162
Connection: keep-alive
Server: nginx centminmod    
So maybe you need to remove that dot prefix for /.well-known or rename it to something else as there are plenty of Nginx configurations out there that block those dot prefixed files and folders and may cause problems for manual authenticator mode setups.
removing dot prefix can access fine (newdomain2.com has a self-signed SSL cert with HPKP already setup on port 443)
curl -Ik https://newdomain2.com/well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys 
HTTP/1.1 200 OK
Date: Fri, 28 Aug 2015 22:18:30 GMT
Content-Type: application/octet-stream
Content-Length: 911
Last-Modified: Fri, 28 Aug 2015 22:06:39 GMT
Connection: keep-alive
ETag: "55e0db6f-38f"
Server: nginx centminmod
Alternate-Protocol: 443:npn-spdy/3
Public-Key-Pins: pin-sha256="gIm5JM8lPc+uiz995GgIR/9lmo8dkDZ4X3VQJAUvN0s="; pin-sha256="ALeqbO2k1tzkLG3Z0DaQW2QgC8MG9tQZD2sNHVW08GM="; max-age=604800
Accept-Ranges: bytes
1