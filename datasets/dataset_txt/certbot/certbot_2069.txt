Norcoen commented on 24 May 2016 â€¢
edited
Machine: Ubuntu 14.04 64bit LXC Container on proxmox
Used this tutorial: https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-14-04
and this:
https://webnugget.de/setting-up-gitlab-with-free-ssl-certs-from-lets-encrypt-on-ubuntu-14-04/
After usage of letsencrypt-auto I get the following error in certbot.log:
root@gitlab:/etc/letsencrypt# /opt/letsencrypt/letsencrypt-auto certonly -c /root/letsencrypt-config/gitlab.ini
Checking for new version...
Creating virtual environment...
Installing Python packages...
Installation succeeded.
Requesting root privileges to run certbot...
   /root/.local/share/letsencrypt/bin/letsencrypt certonly -c /root/letsencrypt-config/gitlab.ini
An unexpected error occurred:
TypeError: __new__() takes exactly 8 arguments (1 given)
Please see the logfile 'certbot.log' for more details.
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/bin/letsencrypt", line 11, in <module>
    sys.exit(main())
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py", line 646, in main
    plugins = plugins_disco.PluginsRegistry.find_all()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/plugins/disco.py", line 174, in find_all
    plugin_ep = PluginEntryPoint(entry_point)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/plugins/disco.py", line 33, in __init__
    self.plugin_cls = entry_point.load()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2202, in load
    return self.resolve()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2208, in resolve
    module = __import__(self.module_name, fromlist=['__name__'], level=0)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/plugins/standalone.py", line 19, in <module>
    from certbot.plugins import util
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/plugins/util.py", line 5, in <module>
    import psutil
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/psutil/__init__.py", line 1416, in <module>
    _last_cpu_times = cpu_times()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/psutil/__init__.py", line 1411, in cpu_times
    return _psplatform.cpu_times()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/psutil/_pslinux.py", line 254, in cpu_times
    return scputimes(*fields)
TypeError: __new__() takes exactly 8 arguments (1 given)
certbot.log (END)