brylie commented on 13 May 2018
Certbot sees IPv6 configuration as duplicate, and cannot complete setup.
My operating system is (include version):
Ubuntu 16.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
python-certbot-nginx
I ran this command and it produced this output:
sudo certbot --nginx
nginx: [emerg] duplicate listen options for [::]:80 in /etc/nginx/sites-enabled/digitalocean:102
Certbot's behavior differed from what I expected because:
Certbot should recognize that IPv6 IP address also listens on port 80.
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
server {
        listen 80 default_server;
        listen [::]:80 default_server ipv6only=on;
        ....