hackuun commented on 7 Feb 2018
My operating system is (include version):
Ubuntu 16.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
sudo apt-get install python-certbot-nginx
I ran this command and it produced this output:
nginx: [emerg] duplicate listen options for [::]:443 in /etc/nginx/sites-enabled/example.online:29
Certbot's behavior differed from what I expected because:
It should be no errors
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
server {
  listen 80;
  listen [::]:80;

  server_name example.online;

  root /home/example/deploy;
  index index.html;

  location / {
    try_files $uri $uri/ =404;
  }
}

server {
  listen 80;
  listen [::]:80;
  server_name www.example.online;
  return 301 $scheme://example.online$request_uri;
}
14