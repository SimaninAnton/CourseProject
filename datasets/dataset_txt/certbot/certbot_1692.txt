gestefane commented on 29 Oct 2016
Hello!
My scenario:
Host A: LAN: 10.0.10.10
Host B: LAN: 10.0.10.6
Router: LAN: 10.0.10.1 / WAN: a.b.c.d
ISP --> router (10.0.10.10:80) --> 10.0.10.10
ISP --> router (10.0.10.6:443) --> 10.0.10.6
Certificates:
Host A: certificate not need (mydomain.com:80 or http://mydomain.com)
Host B: certificate need (hostb.mydomain:443 or https://hostb.mydomain.com)
Host B is a Ubuntu 14 with apache2. Host A is a OpenSuse with apache2.
In host B I try use certbot like this:
./certbot-auto certonly --webroot -w /var/www/html -d mydomain.com -d hostb.mydomain.com
Receive error:
Failed authorization procedure. hostb.mydomain.com (http-01): urn:acme:error:connection :: The server could not connect to the client to verify the domain :: Could not connect to 10.0.10.6.well-known
IMPORTANT NOTES:
The following errors were reported by the server:
Domain: hostb.mydomain.com
Type: connection
Detail: Could not connect to 10.0.10.6.well-known
To fix these errors, please make sure that your domain name was
entered correctly and the DNS A record(s) for that domain
contain(s) the right IP address. Additionally, please check that
your computer has a publicly routable IP address and that no
firewalls are preventing the server from communicating with the
client. If you're using the webroot plugin, you should also verify
that you are serving files from the webroot path you provided.
My A DNS records is running fine and I add a CNAME entry on my DNS host list point to hostb.mydomain.com
Thank you.