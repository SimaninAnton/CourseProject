paulproteus commented on 8 Mar 2016
Steps to reproduce:
Run a Debian jessie machine
Run these commands to install letsencrypt from backports: sudo apt install python-letsencrypt/jessie-backports python-acme/jessie-backports python-cryptography/jessie-backports python-pyasn1/jessie-backports python-cffi/jessie-backports letsencrypt/jessie-backports
Create a user account called letsencrypt
Switch to that user account by running sudo mkdir -p /var/log/letsencrypt ; sudo chown letsencrypt /var/log/letsencrypt ; sudo mkdir -p /var/lib/letsencrypt ; sudo chown letsencrypt /var/lib/letsencrypt ; sudo mkdir -p /etc/letsencrypt ; sudo chown letsencrypt /etc/letsencrypt ; sudo su - letsencrypt -s /bin/bash
Configure my nginx to serve /.well-known rooted at /tmp/letsencrypt-root
Use the webroot authenticator to attempt to get a cert: letsencrypt certonly --webroot --webroot-path /tmp/letsencrypt-webroot -d sandcats.io
Expected behavior:
I get a certificate.
Actual behavior:
The tool prints this out:
An unexpected error occurred.
The server experienced an internal error :: Error creating new cert
Please see the logfiles in /var/log/letsencrypt for more details.
The log files will be attached momentarily.
Other notes:
I got the same error message when I attempted to get a test cert: letsencrypt --test certonly --webroot --webroot-path /tmp/letsencrypt-webroot -d sandcats.io
Versions of things:
Selected version '0.4.0-1~bpo8+1' (Debian Backports:jessie-backports [all]) for 'python-letsencrypt'
Selected version '0.4.0-1~bpo8+1' (Debian Backports:jessie-backports [all]) for 'python-acme'
Selected version '1.1.1-1~bpo8+1' (Debian Backports:jessie-backports [amd64]) for 'python-cryptography'
Selected version '0.1.9-1~bpo8+1' (Debian Backports:jessie-backports [all]) for 'python-pyasn1'
Selected version '1.4.2-2~bpo8+1' (Debian Backports:jessie-backports [all]) for 'python-cffi'
Selected version '0.4.0-1~bpo8+1' (Debian Backports:jessie-backports [all]) for 'letsencrypt'