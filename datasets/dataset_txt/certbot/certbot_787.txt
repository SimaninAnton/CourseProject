surfskidude commented on 24 Jan 2018 â€¢
edited by SwartzCr
I ran the following commands:
wget https://dl.eff.org/certbot-auto
chmod a+x certbot-auto
./certbot-auto
System information (Debian online VPS):
uname -a
Linux node1 2.6.32-042stab127.2 #1 SMP Thu Jan 4 16:41:44 MSK 2018 x86_64 GNU/Linux
more /proc/meminfo
MemTotal: 65536 kB
MemFree: 38248 kB
Cached: 6716 kB
Buffers: 0 kB
Active: 3920 kB
Inactive: 4884 kB
Active(anon): 328 kB
Inactive(anon): 1760 kB
Active(file): 3592 kB
Inactive(file): 3124 kB
Unevictable: 0 kB
Mlocked: 0 kB
SwapTotal: 65536 kB
SwapFree: 44976 kB
Dirty: 0 kB
Writeback: 0 kB
AnonPages: 2088 kB
Shmem: 14968 kB
Slab: 3508 kB
SReclaimable: 684 kB
SUnreclaim: 2824 kB
The complete log:
root@node1:~# ./certbot-auto
Bootstrapping dependencies for Debian-based OSes... (you can skip this with --no-bootstrap)
Hit http://security.debian.org jessie/updates InRelease
Ign http://ftp.debian.org jessie InRelease
Hit http://security.debian.org jessie/updates/main amd64 Packages
Hit http://ftp.debian.org jessie-updates InRelease
Hit http://security.debian.org jessie/updates/contrib amd64 Packages
Hit http://security.debian.org jessie/updates/non-free amd64 Packages
Hit http://ftp.debian.org jessie Release.gpg
Hit http://security.debian.org jessie/updates/contrib Translation-en
Hit http://security.debian.org jessie/updates/main Translation-en
Hit http://security.debian.org jessie/updates/non-free Translation-en
Get:1 http://ftp.debian.org jessie-updates/main amd64 Packages/DiffIndex [9868 B]
Hit http://ftp.debian.org jessie-updates/contrib amd64 Packages
Get:2 http://ftp.debian.org jessie-updates/non-free amd64 Packages/DiffIndex [736 B]
Hit http://ftp.debian.org jessie-updates/contrib Translation-en
Get:3 http://ftp.debian.org jessie-updates/main Translation-en/DiffIndex [3688 B]
Get:4 http://ftp.debian.org jessie-updates/non-free Translation-en/DiffIndex [736 B]
Hit http://ftp.debian.org jessie Release
Hit http://ftp.debian.org jessie/main amd64 Packages
Hit http://ftp.debian.org jessie/contrib amd64 Packages
Hit http://ftp.debian.org jessie/non-free amd64 Packages
Hit http://ftp.debian.org jessie/contrib Translation-en
Hit http://ftp.debian.org jessie/main Translation-en
Hit http://ftp.debian.org jessie/non-free Translation-en
Fetched 15.0 kB in 3s (4717 B/s)
Reading package lists... Done
Reading package lists... Done
Building dependency tree
Reading state information... Done
augeas-lenses is already the newest version.
libaugeas0 is already the newest version.
ca-certificates is already the newest version.
gcc is already the newest version.
libffi-dev is already the newest version.
libssl-dev is already the newest version.
openssl is already the newest version.
python is already the newest version.
python-dev is already the newest version.
python-virtualenv is already the newest version.
virtualenv is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 62 not upgraded.
Creating virtual environment...
Installing Python packages...
Had a problem while installing Python packages.

pip prints the following errors:
=====================================================
Collecting argparse==1.4.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 11))
  Downloading argparse-1.4.0-py2.py3-none-any.whl
Collecting pycparser==2.14 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 17))
  Downloading pycparser-2.14.tar.gz (223kB)
Collecting asn1crypto==0.22.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 21))
  Downloading asn1crypto-0.22.0-py2.py3-none-any.whl (97kB)
Collecting cffi==1.10.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 24))
  Downloading cffi-1.10.0-cp27-cp27mu-manylinux1_x86_64.whl (392kB)
Collecting ConfigArgParse==0.12.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 61))
  Downloading ConfigArgParse-0.12.0.tar.gz (41kB)
Collecting configobj==5.0.6 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 63))
  Downloading configobj-5.0.6.tar.gz
Collecting cryptography==2.0.2 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 65))
  Downloading cryptography-2.0.2-cp27-cp27mu-manylinux1_x86_64.whl (2.2MB)
Collecting enum34==1.1.2 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 96))
  Downloading enum34-1.1.2.tar.gz (46kB)
Collecting funcsigs==1.0.2 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 99))
  Downloading funcsigs-1.0.2-py2.py3-none-any.whl
Collecting idna==2.5 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 102))
  Downloading idna-2.5-py2.py3-none-any.whl (55kB)
Collecting ipaddress==1.0.16 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 105))
  Downloading ipaddress-1.0.16-py27-none-any.whl
Collecting josepy==1.0.1 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 108))
  Downloading josepy-1.0.1-py2.py3-none-any.whl (53kB)
Collecting linecache2==1.0.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 111))
  Downloading linecache2-1.0.0-py2.py3-none-any.whl
Collecting mock==1.3.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 115))
  Downloading mock-1.3.0-py2.py3-none-any.whl (56kB)
Collecting ordereddict==1.1 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 118))
  Downloading ordereddict-1.1.tar.gz
Collecting packaging==16.8 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 120))
  Downloading packaging-16.8-py2.py3-none-any.whl
Collecting parsedatetime==2.1 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 123))
  Downloading parsedatetime-2.1-py2-none-any.whl
Collecting pbr==1.8.1 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 126))
  Downloading pbr-1.8.1-py2.py3-none-any.whl (89kB)
Collecting pyOpenSSL==16.2.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 129))
  Downloading pyOpenSSL-16.2.0-py2.py3-none-any.whl (43kB)
Collecting pyparsing==2.1.8 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 132))
  Downloading pyparsing-2.1.8-py2.py3-none-any.whl (54kB)
Collecting pyRFC3339==1.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 141))
  Downloading pyRFC3339-1.0-py2.py3-none-any.whl
Collecting python-augeas==0.5.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 144))
  Downloading python-augeas-0.5.0.tar.gz (90kB)
Collecting pytz==2015.7 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 146))
  Downloading pytz-2015.7-py2.py3-none-any.whl (476kB)
Collecting requests==2.12.1 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 160))
  Downloading requests-2.12.1-py2.py3-none-any.whl (574kB)
Collecting six==1.10.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 163))
  Downloading six-1.10.0-py2.py3-none-any.whl
Collecting traceback2==1.4.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 166))
  Downloading traceback2-1.4.0-py2.py3-none-any.whl
Collecting unittest2==1.1.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 169))
  Downloading unittest2-1.1.0-py2.py3-none-any.whl (96kB)
Collecting zope.component==4.2.2 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 172))
  Downloading zope.component-4.2.2.tar.gz (546kB)
Collecting zope.event==4.1.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 174))
  Downloading zope.event-4.1.0.tar.gz (476kB)
Collecting zope.interface==4.1.3 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 176))
  Downloading zope.interface-4.1.3.tar.gz (141kB)
Collecting letsencrypt==0.7.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 202))
  Downloading letsencrypt-0.7.0-py2-none-any.whl
Collecting certbot==0.21.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 206))
  Downloading certbot-0.21.0-py2.py3-none-any.whl (281kB)
Collecting acme==0.21.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 209))
  Downloading acme-0.21.0-py2.py3-none-any.whl (68kB)
Collecting certbot-apache==0.21.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 212))
  Downloading certbot_apache-0.21.0-py2.py3-none-any.whl (215kB)
Collecting certbot-nginx==0.21.0 (from -r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 215))
  Downloading certbot_nginx-0.21.0-py2.py3-none-any.whl (73kB)
Requirement already satisfied: setuptools>=1.0 in /opt/eff.org/certbot/venv/lib/python2.7/site-packages (from josepy==1.0.1->-r /tmp/tmp.z7Qqqgm5jZ/letsencrypt-auto-requirements.txt (line 108))
Installing collected packages: argparse, pycparser, asn1crypto, cffi, ConfigArgParse, six, configobj, ipaddress, idna, enum34, cryptography, funcsigs, pyOpenSSL, josepy, linecache2, pbr, mock, ordereddict, pyparsing, packaging, parsedatetime, pytz, pyRFC3339, python-augeas, requests, traceback2, unittest2, zope.interface, zope.event, zope.component, acme, certbot, letsencrypt, certbot-apache, certbot-nginx
  Found existing installation: argparse 1.2.1
    Not uninstalling argparse at /usr/lib/python2.7, outside environment /opt/eff.org/certbot/venv
  Running setup.py install for pycparser: started
    Running setup.py install for pycparser: finished with status 'error'
    Complete output from command /opt/eff.org/certbot/venv/bin/python2.7 -u -c "import setuptools, tokenize;__file__='/tmp/pip-build-N0MbGB/pycparser/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('
', '
');f.close();exec(compile(code, __file__, 'exec'))" install --record /tmp/pip-esFLDN-record/install-record.txt --single-version-externally-managed --compile --install-headers /opt/eff.org/certbot/venv/include/site/python2.7/pycparser:
    running install
    running build
    running build_py
    creating build
    creating build/lib.linux-x86_64-2.7
    creating build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/__init__.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/yacctab.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/plyparser.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/c_lexer.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/c_generator.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/_ast_gen.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/ast_transforms.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/c_parser.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/lextab.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/c_ast.py -> build/lib.linux-x86_64-2.7/pycparser
    copying pycparser/_build_tables.py -> build/lib.linux-x86_64-2.7/pycparser
    creating build/lib.linux-x86_64-2.7/pycparser/ply
    copying pycparser/ply/__init__.py -> build/lib.linux-x86_64-2.7/pycparser/ply
    copying pycparser/ply/cpp.py -> build/lib.linux-x86_64-2.7/pycparser/ply
    copying pycparser/ply/yacc.py -> build/lib.linux-x86_64-2.7/pycparser/ply
    copying pycparser/ply/ctokens.py -> build/lib.linux-x86_64-2.7/pycparser/ply
    copying pycparser/ply/lex.py -> build/lib.linux-x86_64-2.7/pycparser/ply
    copying pycparser/_c_ast.cfg -> build/lib.linux-x86_64-2.7/pycparser
    running install_lib
    creating /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/_c_ast.cfg -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    creating /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply
    copying build/lib.linux-x86_64-2.7/pycparser/ply/lex.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply
    copying build/lib.linux-x86_64-2.7/pycparser/ply/ctokens.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply
    copying build/lib.linux-x86_64-2.7/pycparser/ply/yacc.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply
    copying build/lib.linux-x86_64-2.7/pycparser/ply/cpp.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply
    copying build/lib.linux-x86_64-2.7/pycparser/ply/__init__.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply
    copying build/lib.linux-x86_64-2.7/pycparser/_build_tables.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/c_ast.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/lextab.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/c_parser.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/ast_transforms.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/_ast_gen.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/c_generator.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/c_lexer.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/plyparser.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/yacctab.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    copying build/lib.linux-x86_64-2.7/pycparser/__init__.py -> /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply/lex.py to lex.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply/ctokens.py to ctokens.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply/yacc.py to yacc.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply/cpp.py to cpp.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ply/__init__.py to __init__.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/_build_tables.py to _build_tables.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/c_ast.py to c_ast.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/lextab.py to lextab.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/c_parser.py to c_parser.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/ast_transforms.py to ast_transforms.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/_ast_gen.py to _ast_gen.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/c_generator.py to c_generator.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/c_lexer.py to c_lexer.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/plyparser.py to plyparser.pyc
    byte-compiling /opt/eff.org/certbot/venv/lib/python2.7/site-packages/pycparser/yacctab.py to yacctab.pyc

    ----------------------------------------
Command "/opt/eff.org/certbot/venv/bin/python2.7 -u -c "import setuptools, tokenize;__file__='/tmp/pip-build-N0MbGB/pycparser/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('
', '
');f.close();exec(compile(code, __file__, 'exec'))" install --record /tmp/pip-esFLDN-record/install-record.txt --single-version-externally-managed --compile --install-headers /opt/eff.org/certbot/venv/include/site/python2.7/pycparser" failed with error code -9 in /tmp/pip-build-N0MbGB/pycparser/
=====================================================

Certbot has problem setting up the virtual environment.

We were not be able to guess the right solution from your pip
output.

Consult https://certbot.eff.org/docs/install.html#problems-with-python-virtual-environment
for possible solutions.
You may also find some support resources at https://certbot.eff.org/support/ .