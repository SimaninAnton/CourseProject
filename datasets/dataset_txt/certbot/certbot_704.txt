ageis commented on 1 Mar 2018 â€¢
edited
OS
Ubuntu xenial 16.04
Certbot version
certbot version 0.21.1 via pip/PyPi
I ran this command and it produced this output:
certbot certonly --force-renewal --noninteractive --agree-tos --standalone --rsa-key-size 4096 --email 'kevin@libraryfreedomproject.org' --expand -d libraryfreedomproject.org -d mail.libraryfreedomproject.org -d analytics.libraryfreedomproject.org -d irc.libraryfreedomproject.org -d redmine.libraryfreedomproject.org
Certbot's behavior differed from what I expected because:
IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/mail.libraryfreedomproject.org/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/mail.libraryfreedomproject.org/privkey.pem
   Your cert will expire on 2018-05-29. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot
   again. To non-interactively renew *all* of your certificates, run
   "certbot renew"
I expected the first domain in the list to be the primary common name: libraryfreedomproject.org. Instead, it was the second one. (there was already an existing separate cert for mail.libraryfreedomproject.org, which may be the root of the problem).