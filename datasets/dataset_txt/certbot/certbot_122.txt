Member
bmw commented on 25 Jun 2019 â€¢
edited
As described at pyca/cryptography#4923, cryptography is dropping support for OpenSSL 1.0.1. The major distros affected by this are CentOS 6, Debian 8, and Ubuntu 14.04.
For CentOS 6 and Debian 8, they are supported by certbot-auto and the OSes don't reach their full end-of-life until next year. Most certbot-auto users are unaffected by this as cryptography ships precompiled wheels with their own copy of OpenSSL for 64 bit x86 systems. Users on other architectures have to compile cryptography against their local copy of OpenSSL at install time.
I pulled some stats from PyPI and not many users are affected. I think giving them a simple heads up would be nice though so I propose upgrading the version of cryptography in certbot-auto to 2.8 when it is released. This will print messages like this on every run:
CryptographyDeprecationWarning: OpenSSL version 1.0.1 is no longer supported by the OpenSSL project, please upgrade. The next version of cryptography will drop support for it.
The correct solution to remove this warning is to upgrade their system, but they can also silence the warning through the PYTHONWARNINGS environment variable or by downgrading certbot-auto and then using --no-self-upgrade.
Ubuntu 14.04 is only receiving updates through Ubuntu's ESM program and I think we should drop support for the platform. #7183 and certbot/website#427 track this work.
EDIT: As pointed out by @alvinhochun, a similar message is already being printed, however, this upgrade will make the error message say support will be dropped in the next version of cryptography rather than an unspecified future version.
1