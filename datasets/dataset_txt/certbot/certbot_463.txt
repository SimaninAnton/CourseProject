Member
pde commented on 18 Jul 2018
Having an HSTS header makes a certificate error unrecoverable on the user end, which is obviously very bad. The --auto-hsts option should try to avoid contributing to such situations if at all possible.
It's reasonably common for certificate renewal to be failing for some silly reason, but if that's happening the auto hsts code should notice and disable the HSTS header to mitigate the damage.
Ideally there should be a constraint N + HSTS-max-age-in-days < 30, if that's possible.