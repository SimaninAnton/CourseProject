caapsoft commented on 23 Aug 2019 â€¢
edited
My operating system is (include version):
Ubuntu 18.04
NGINX Version:
Tengine from https://tengine.taobao.org/
nginx -v
Tengine version: Tengine/2.2.2 (nginx/1.8.1)
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
certbot --nginx --register-unsafely-without-email
Error:
"The nginx plugin is not working; there may be problems with your existing configuration.
The error was: PluginError('Unable to find Nginx version',)"
Workaround
Add a line on file " /usr/lib/python3/dist-packages/certbot_nginx/configurator.py" after line 899:
version_regex = re.compile(r"(Tengine|nginx)/([0-9\.]*)", re.IGNORECASE)
Results
The workaround works, but now, the command certbot --nginx --register-unsafely-without-email show this message:
NGINX derivative Tengine is not officially supported by certbot