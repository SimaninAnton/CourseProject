lucasRolff commented on 6 Jan 2016
Currently when you use the webroot plugin, it tries to chown the ache-challenge folder to the parent permissions (e.g. $user:nobody) - which is awesome, the thing is the challenge files are still owned by root, meaning servers that runs with symlink protection (basically disallowing users from reading other users files) it results in not being able to validate the challenge because the challenge files are owned by root.
What would make sense is to either allow setting the uid/gid of which the challenge files should be owned (might be I want the files to be owned as www-data:www-data) - or even better even just copy the block as here https://github.com/letsencrypt/letsencrypt/blob/master/letsencrypt/plugins/webroot.py#L73 - put it in the _perform_single function to do the same for the validation_file.
This would be a big plus, specially for hosting providers, currently we have to start a sub-process that chowns everything in the challenge folder to make letsencrypt work on a shared hosting environment that does prevent reading files from other users.