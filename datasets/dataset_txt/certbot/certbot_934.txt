lordspace commented on 17 Oct 2017
My operating system is (include version):
ubuntu 16
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt
cd /opt/letsencrypt
chmod 0755 /opt/letsencrypt/certbot-auto
I ran this command and it produced this output:
root@app:/opt/letsencrypt# /opt/letsencrypt/certbot-auto renew  –-post-hook='nginx -s reload'
usage:
  certbot-auto [SUBCOMMAND] [options] [-d DOMAIN] [-d DOMAIN] ...

Certbot can obtain and install HTTPS/TLS/SSL certificates.  By default,
it will attempt to use a webserver both for obtaining and installing the
certificate.
certbot: error: unrecognized arguments: –-post-hook=nginx -s reload
Certbot's behavior differed from what I expected because:
According to docs there's a --post-hook but the binary complains that it doesn't have that kind of argument.
here's the doc I used.
/opt/letsencrypt/certbot-auto --help renew
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
/opt/letsencrypt/certbot-auto certonly --webroot --webroot-path /var/www/vhosts/example.com/htdocs --no-eff-email --noninteractive --verbose --rsa-key-size 4096 --email admin+clients+example@example.com --verbose --text --agree-tos -d example.com -d www.example.com 2>&1 | tee -a ssl.log
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
n/a