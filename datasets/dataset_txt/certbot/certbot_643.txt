UjoJano commented on 23 Mar 2018
Hello. I tried to create a certificate with a mail-in-a-box script and with certboot. But it does not work to create certificates and I have invalid cert on the server. Can you help me with this?
Server: Ubuntu 14.04, Nginx
Mailinabox error:
mail-in-a-box/mailinabox#1368
Certbot error (after run on other server for test):
2018-03-23 13:14:20,261:DEBUG:certbot.plugins.selection:Requested authenticator webroot and installer None
2018-03-23 13:14:20,261:DEBUG:certbot.plugins.selection:Single candidate plugin: * webroot
Description: Place files in webroot directory
Interfaces: IAuthenticator, IPlugin
Entry point: webroot = certbot.plugins.webroot:Authenticator
Initialized: <certbot.plugins.webroot.Authenticator object at 0x7f0e2550df60>
Prep: True
2018-03-23 13:14:20,262:DEBUG:certbot.plugins.selection:Selected authenticator <certbot.plugins.webroot.Authenticator object at 0x7f0e2550df60> and installer None
2018-03-23 13:14:20,262:INFO:certbot.plugins.selection:Plugins selected: Authenticator webroot, Installer None
2018-03-23 13:14:34,429:DEBUG:certbot.log:Exiting abnormally:
Traceback (most recent call last):
File "/usr/bin/certbot", line 11, in
load_entry_point('certbot==0.22.2', 'console_scripts', 'certbot')()
File "/usr/lib/python3/dist-packages/certbot/main.py", line 1266, in main
return config.func(config, plugins)
File "/usr/lib/python3/dist-packages/certbot/main.py", line 1141, in certonly
le_client = _init_le_client(config, auth, installer)
File "/usr/lib/python3/dist-packages/certbot/main.py", line 635, in _init_le_client
acc, acme = _determine_account(config)
File "/usr/lib/python3/dist-packages/certbot/main.py", line 514, in _determine_account
config, account_storage, tos_cb=_tos_cb)
File "/usr/lib/python3/dist-packages/certbot/client.py", line 164, in register
acme = acme_from_config_key(config, key)
File "/usr/lib/python3/dist-packages/certbot/client.py", line 45, in acme_from_config_key
user_agent=determine_user_agent(config))
TypeError: init() got an unexpected keyword argument 'account'
2018-03-23 13:14:34,430:ERROR:certbot.log:An unexpected error occurred: