bluecmd commented on 19 Nov 2015
Currently I'm using the following cli.ini:
rsa-key-size = 4096

server = https://acme-v01.api.letsencrypt.org/directory
email = e@mail
domains = fqdn
text = True
agree-dev-preview = True
agree-tos = True
authenticator = apache
installer = apache
verbose = True
This makes everything automatic, except the following:
-------------------------------------------------------------------------------
You have an existing certificate that contains exactly the same domains you
requested (ref: /etc/letsencrypt/renewal/fqdn.conf)

Do you want to renew and replace this certificate with a newly-issued one?
-------------------------------------------------------------------------------
(R)eplace/(C)ancel: R
...
We were unable to find a vhost with a ServerName or Address of fqdn.
Which virtual host would you like to choose?
-------------------------------------------------------------------------------
1: 000-default.conf               |                       |       |
2: default-ssl.conf               |                       | HTTPS | Enabled
-------------------------------------------------------------------------------
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2
...
Please choose whether HTTPS access is required or optional.
-------------------------------------------------------------------------------
1: Easy - Allow both HTTP and HTTPS access to these sites
2: Secure - Make all requests redirect to secure HTTPS access
-------------------------------------------------------------------------------
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2
In order for me to run this in a cron job I would like this to be documented how I can pre-seed the answers. I found --replace, but documentation could be a lot clearer on how to make this all automatic.