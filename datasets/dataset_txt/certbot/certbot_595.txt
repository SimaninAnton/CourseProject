Contributor
jsoref commented on 19 Apr 2018
My operating system is (include version):
debian 9.3 stretch
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
certbot-auto certonly --cert-name foo.example.com -d bar.example.com
Saving debug log to /var/log/letsencrypt/letsencrypt.log

How would you like to authenticate with the ACME CA?
-------------------------------------------------------------------------------
1: Apache Web Server plugin - Beta (apache)
2: Spin up a temporary webserver (standalone)
3: Place files in webroot directory (webroot)
-------------------------------------------------------------------------------
Select the appropriate number [1-3] then [enter] (press 'c' to cancel): 1
Plugins selected: Authenticator apache, Installer None

-------------------------------------------------------------------------------
You are updating certificate foo.example.com to include new domain(s):
+

You are also removing previously included domain(s):
- bar.example.com

Did you intend to make this change?
-------------------------------------------------------------------------------
(U)pdate cert/(C)ancel: u
Certbot's behavior differed from what I expected because:
The line under "new domain(s)" is bizarre.
I would not expect it to show the + sign, I think it would be better to show (None) instead of +.
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
There is nothing in the log file that seems to relate to this part of the process (it's before the actual discussion w/ boulder).
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring: