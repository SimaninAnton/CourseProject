Contributor
jdkasten commented on 17 Jan 2015
In a failed state (which I am defining as a failed apache state where there doesn't exist a temporary or half-completed checkpoint) the rollback cannot be currently accessed. This is caused by checking/loading mod_ssl on startup causing a call to the apache process to fail. The Augeas recovery_routine (which does run) only "recovers" from half-baked or temporary checkpoints.
I believe we should make a separate recovery interface that merely has the specific recovery functions. This class wouldn't require a full ApacheConfigurator initialization, which would be much faster on startup, and it would never be affected by a failed Installer initialization.
This would also allow more opportunities for developers to use the "save mechanism/recovery" code even if they aren't implementing a subclass of AugeasConfigurator for their Installers.
Thoughts?