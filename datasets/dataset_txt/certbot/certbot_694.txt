Contributor
noci2012 commented on 4 Mar 2018 â€¢
edited
If you're having trouble using Certbot and aren't sure you've found a bug or
request for a new feature, please first try asking for help at
https://community.letsencrypt.org/. There is a much larger community there of
people familiar with the project who will be able to more quickly answer your
questions.
My operating system is (include version):
Gentoo-Linux 17.0
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot v0.21.1 is installed with emerge
pip install --user for dns-rfc2163
https://pypi.python.org/pypi/certbot-dns-rfc2136/0.21.1
I ran this command and it produced this output:
certbot certonly --dry-run --agree-tos --preferred-challenges dns --dns-rfc2136 --dns-rfc2136-credentials /etc/letsencrypt/example.ini -d example.comf
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator dns-rfc2136, Installer None
Obtaining a new certificate
Performing the following challenges:
dns-01 challenge for example.com
Cleaning up challenges
Encountered exception during recovery
Encountered error when making query: Text input is malformed.
Traceback (most recent call last):
File "/root/.local/lib64/python3.5/site-packages/certbot_dns_rfc2136/dns_rfc2136.py", line 207, in _query_soa
response = dns.query.udp(request, self.server)
File "/root/.local/lib64/python3.5/site-packages/dns/query.py", line 242, in udp
if _addresses_equal(af, from_address, destination) or \
File "/root/.local/lib64/python3.5/site-packages/dns/query.py", line 169, in _addresses_equal
n2 = dns.inet.inet_pton(af, a2[0])
File "/root/.local/lib64/python3.5/site-packages/dns/inet.py", line 51, in inet_pton
return dns.ipv4.inet_aton(text)
File "/root/.local/lib64/python3.5/site-packages/dns/ipv4.py", line 48, in inet_aton
raise dns.exception.SyntaxError
dns.exception.SyntaxError: Text input is malformed.
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
Certbot's behavior differed from what I expected because:
well i didn't expect much, the problem is related to the credential.ini file somehow,
except that the contents must be secret as it is impossible to find some docmentation on credential files.
Changes in the file make more sensible errors appear about f.e. missing data if it is empty or contains a section header ('[xxx]')
Some Description is welcome...
1