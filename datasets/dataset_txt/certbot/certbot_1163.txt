Collaborator
zjs commented on 18 May 2017
(Based on IRC discussion with @nuxwin.)
Currently, there is not a good way for people re-packaging or wrapping Certbot to influence its user agent string. They may which to do this so that stats/metrics are available to boulder.
The --user-agent flag allows a caller to set the user agent, but that sets the string in its entirely, losing all of the information which is included by default.
For this use case, it is desirable to both the Certbot team and the party re-packaging Certbot that the custom user agent match Certbot user agent as closely as possible: this greatly simplifies the "parsing problem" and allows data for the re-packaged version to be collected along side or separately from vanilla certbot.
Supporting an additional --user-agent-comment flag seems like an easy way to address this.
This comment, if set, could be inserted into the main (product-level) comment, following the OS information.
This argument and --user-agent would be mutually exclusive.
cc @pde
1