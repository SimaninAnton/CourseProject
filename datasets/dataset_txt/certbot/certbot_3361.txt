Contributor
BKreisel commented on 24 Sep 2015
Running letsencrypt as a privileged user (on OSX at least) results in a stacktrace referencing inability to write to the /var/log/letsencrypt directory.
Would it not be better to merely inform the user that the binary must be run as root rather than allowing the program to crash? I'm willing to write the code for it, just wanted to gauge the reception first.
(venv)âžœ  letsencrypt git:(master) letsencrypt
Traceback (most recent call last):
  File "/Users/brandon/Projects/letsencrypt/venv/bin/letsencrypt", line 9, in <module>
    load_entry_point('letsencrypt==0.1', 'console_scripts', 'letsencrypt')()
  File "/Users/brandon/Projects/letsencrypt/letsencrypt/cli.py", line 885, in main
    _setup_logging(args)
  File "/Users/brandon/Projects/letsencrypt/letsencrypt/cli.py", line 801, in _setup_logging
     log_file_name, maxBytes=2 ** 20, backupCount=10)
  File     "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/logging/handlers.py", line   117, in __init__
    BaseRotatingHandler.__init__(self, filename, mode, encoding, delay)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/logging/handlers.py", line 64, in __init__
    logging.FileHandler.__init__(self, filename, mode, encoding, delay)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/logging/__init__.py", line   903, in __init__
    StreamHandler.__init__(self, self._open())
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/logging/__init__.py", line  926, in _open
    stream = open(self.baseFilename, self.mode) 
IOError: [Errno 13] Permission denied: '/var/log/letsencrypt/letsencrypt.log'