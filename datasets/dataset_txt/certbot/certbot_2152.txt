rubenvereecken commented on 29 Apr 2016
I feel quite silly as I see what's going wrong but can't correct it. The Python package installation phase fails because pip seems unable to locate urllib3, that old many-faced arch nemesis of Python package management.
I tried installing the dependency but all of this happens in a virtual environment that gets torn down after the script fails, so I can't touch it outside of the script. Inside I tried installing using pip install urllib3 but then again.. Pip needs urllib3 to properly work? And fails. Not sure what's going on anymore now.
Here goes the full log, along with some echos of mine:
Creating virtual environment...
Installing Python packages...
Python 2.7.6

~/.local/share/letsencrypt/bin/python
~/.local/share/letsencrypt/bin
Had a problem while installing Python packages:
Traceback (most recent call last):
  File "~/.local/share/letsencrypt/bin/pip", line 9, in <module>
    load_entry_point('pip==8.0.3', 'console_scripts', 'pip')()
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pkg_resources/__init__.py", line 549, in load_entry_point
    return get_distribution(dist).load_entry_point(group, name)
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2542, in load_entry_point
    return ep.load()
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2202, in load
    return self.resolve()
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2208, in resolve
    module = __import__(self.module_name, fromlist=['__name__'], level=0)
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/__init__.py", line 15, in <module>
    from pip.vcs import git, mercurial, subversion, bazaar  # noqa
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/vcs/mercurial.py", line 9, in <module>
    from pip.download import path_to_url
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/download.py", line 38, in <module>
    from pip._vendor import requests, six
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/_vendor/requests/__init__.py", line 58, in <module>
    from . import utils
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/_vendor/requests/utils.py", line 26, in <module>
    from .compat import parse_http_list as _parse_list_header
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/_vendor/requests/compat.py", line 7, in <module>
    from .packages import chardet
  File "~/.local/share/letsencrypt/lib/python2.7/site-packages/pip/_vendor/requests/packages/__init__.py", line 29, in <module>
    import urllib3
ImportError: No module named urllib3
Running Linux Mint 17.2, based on Ubuntu 14.04.