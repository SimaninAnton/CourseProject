progkix commented on 20 Jan 2019
If you're having trouble using Certbot and aren't sure you've found a bug or
request for a new feature, please first try asking for help at
https://community.letsencrypt.org/. There is a much larger community there of
people familiar with the project who will be able to more quickly answer your
questions.
My operating system is (include version):
Fedora 28 X64
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
OS package manager
I ran this command and it produced this output:
certbot renew
Traceback (most recent call last):
File "/bin/certbot", line 11, in
load_entry_point('certbot==0.29.1', 'console_scripts', 'certbot')()
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 487, in load_entry_point
return get_distribution(dist).load_entry_point(group, name)
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 2728, in load_entry_point
return ep.load()
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 2346, in load
return self.resolve()
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 2352, in resolve
module = import(self.module_name, fromlist=['name'], level=0)
File "/usr/lib/python3.6/site-packages/certbot/main.py", line 20, in
from certbot import account
File "/usr/lib/python3.6/site-packages/certbot/account.py", line 18, in
from acme import messages
File "/usr/lib/python3.6/site-packages/acme/messages.py", line 8, in
from acme import challenges
File "/usr/lib/python3.6/site-packages/acme/challenges.py", line 12, in
import requests
File "/usr/local/lib/python3.6/site-packages/requests/init.py", line 43, in
import urllib3
File "/usr/lib/python3.6/site-packages/urllib3/init.py", line 8, in
from .connectionpool import (
File "/usr/lib/python3.6/site-packages/urllib3/connectionpool.py", line 11, in
from .exceptions import (
File "/usr/lib/python3.6/site-packages/urllib3/exceptions.py", line 2, in
from .packages.six.moves.http_client import (
ModuleNotFoundError: No module named 'urllib3.packages.six'
certbot --domain books.sdps-bbs.com --apache
Traceback (most recent call last):
File "/usr/bin/certbot", line 11, in
load_entry_point('certbot==0.29.1', 'console_scripts', 'certbot')()
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 487, in load_entry_point
return get_distribution(dist).load_entry_point(group, name)
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 2728, in load_entry_point
return ep.load()
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 2346, in load
return self.resolve()
File "/usr/local/lib/python3.6/site-packages/pkg_resources/init.py", line 2352, in resolve
module = import(self.module_name, fromlist=['name'], level=0)
File "/usr/lib/python3.6/site-packages/certbot/main.py", line 20, in
from certbot import account
File "/usr/lib/python3.6/site-packages/certbot/account.py", line 18, in
from acme import messages
File "/usr/lib/python3.6/site-packages/acme/messages.py", line 8, in
from acme import challenges
File "/usr/lib/python3.6/site-packages/acme/challenges.py", line 12, in
import requests
File "/usr/local/lib/python3.6/site-packages/requests/init.py", line 43, in
import urllib3
File "/usr/lib/python3.6/site-packages/urllib3/init.py", line 8, in
from .connectionpool import (
File "/usr/lib/python3.6/site-packages/urllib3/connectionpool.py", line 11, in
from .exceptions import (
File "/usr/lib/python3.6/site-packages/urllib3/exceptions.py", line 2, in
from .packages.six.moves.http_client import (
ModuleNotFoundError: No module named 'urllib3.packages.six'
Certbot's behavior differed from what I expected because:
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring: