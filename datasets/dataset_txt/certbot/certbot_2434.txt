jwieder commented on 9 Feb 2016
yum installation of letsencrypt.noarch and python2-letsencrypt.noarch fails when using RHEL's EPEL repository. The issue is the result of python-werkzeug - which is a dependency of both letsencrypt packages, but is not provided by EPEL. Manually installing the python-werkzeug-0.9.1-2.el7.noarch.rpm from the CentOS 7 Extras repository fixes the issue; installing Werkzeug by compiling from source or using pip does not resolve the issue, as yum will still list it as a failed dependency unless it sees the rpm has been installed.
Here is a list of all installed repos on the server where this fails:
Repo-id : epel/x86_64
Repo-name : Extra Packages for Enterprise Linux 7 - x86_64
Repo-revision: 1454890725
Repo-tags : binary-x86_64
Repo-updated : Sun Feb 7 20:49:57 2016
Repo-pkgs : 9,397
Repo-size : 7.4 G
Repo-metalink: https://mirrors.fedoraproject.org/metalink?repo=epel-7&arch=x86_64
Updated : Sun Feb 7 20:49:57 2016
Repo-baseurl : http://s3-mirror-us-east-1.fedoraproject.org/pub/epel/7/x86_64/ (34 more)
Repo-expire : 21,600 second(s) (last: Tue Feb 9 04:06:34 2016)
Repo-filename: /etc/yum.repos.d/epel.repo
Repo-id : rhui-REGION-client-config-server-7/x86_64
Repo-name : Red Hat Update Infrastructure 2.0 Client Configuration Server 7
Repo-revision: 1439271503
Repo-updated : Tue Aug 11 01:38:23 2015
Repo-pkgs : 6
Repo-size : 299 k
Repo-mirrors : https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/mirror/rhui-client-config/rhel/server/7/x86_64/os
Repo-baseurl : https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/repos//rhui-client-config/rhel/server/7/x86_64/os/ (1 more)
Repo-expire : 21,600 second(s) (last: Tue Feb 9 04:06:34 2016)
Repo-filename: /etc/yum.repos.d/redhat-rhui-client-config.repo
Repo-id : rhui-REGION-rhel-server-optional/7Server/x86_64
Repo-name : Red Hat Enterprise Linux Server 7 Optional (RPMs)
Repo-revision: 1454007492
Repo-updated : Thu Jan 28 13:59:28 2016
Repo-pkgs : 8,213
Repo-size : 9.6 G
Repo-mirrors : https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/mirror/content/dist/rhel/rhui/server/7/7Server/x86_64/optional/os
Repo-baseurl : https://rhui2-cds02.us-east-1.aws.ce.redhat.com/pulp/repos//content/dist/rhel/rhui/server/7/7Server/x86_64/optional/os/ (1 more)
Repo-expire : 21,600 second(s) (last: Tue Feb 9 04:06:34 2016)
Repo-filename: /etc/yum.repos.d/redhat-rhui.repo
Repo-id : rhui-REGION-rhel-server-releases/7Server/x86_64
Repo-name : Red Hat Enterprise Linux Server 7 (RPMs)
Repo-revision: 1454005863
Repo-updated : Thu Jan 28 13:33:14 2016
Repo-pkgs : 10,152
Repo-size : 12 G
Repo-mirrors : https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/mirror/content/dist/rhel/rhui/server/7/7Server/x86_64/os
Repo-baseurl : https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/repos//content/dist/rhel/rhui/server/7/7Server/x86_64/os/ (1 more)
Repo-expire : 21,600 second(s) (last: Tue Feb 9 04:06:34 2016)
Repo-filename: /etc/yum.repos.d/redhat-rhui.repo
Repo-id : rhui-REGION-rhel-server-rh-common/7Server/x86_64
Repo-name : Red Hat Enterprise Linux Server 7 RH Common (RPMs)
Repo-revision: 1447968073
Repo-updated : Thu Nov 19 16:21:13 2015
Repo-pkgs : 168
Repo-size : 3.2 G
Repo-mirrors : https://rhui2-cds01.us-east-1.aws.ce.redhat.com/pulp/mirror/content/dist/rhel/rhui/server/7/7Server/x86_64/rh-common/os
Repo-baseurl : https://rhui2-cds02.us-east-1.aws.ce.redhat.com/pulp/repos//content/dist/rhel/rhui/server/7/7Server/x86_64/rh-common/os/ (1 more)
Repo-expire : 21,600 second(s) (last: Tue Feb 9 04:06:34 2016)
Repo-filename: /etc/yum.repos.d/redhat-rhui.repo