sandys commented on 3 Jan 2016
hi,
letsencrypt is awesome but because of the dependence on a running nginx for verification, it is very hard to bake it into a Dockerfile.
The problem is that my nginx configs have the paths of the cert files already built into them, but before my nginx errors out before the certs have been generated. what works brilliantly is if there is a way I can build dependence of nginx into another letsencrypt verifier - if only the port numbers didnt conflict.
What would be great is if letsencrypt would accept verification on a port other than 80 - this would mean we could run a standalone web server process (using even python), complete verification and generation of certificate and then nginx would start after the letsencrypt process would complete (this is similar to comment by on the acme-spec letsencrypt/acme-spec#33 (comment)). This will also mean updates will work well (because the letsencrypt process could restart itself and trigger restarts of all dependent processes).