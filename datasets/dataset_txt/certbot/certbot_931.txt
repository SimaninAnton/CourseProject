Member
bmw commented on 20 Oct 2017
My operating system is (include version):
Ubuntu 16.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
Dev instructions
I ran this command and it produced this output:
Starting with the default Nginx config on Ubuntu 16.04, I ran:
$ sudo certbot -d example.org,www.example.org --nginx --redirect
...
No matching insecure server blocks listening on port 80 found.
No matching insecure server blocks listening on port 80 found.
...
Certbot's behavior differed from what I expected because:
Nginx is listening on port 80 and continuing to serve insecure HTTP traffic for these domains.
Probably what we should do is if no matching server block is found is if Nginx is listening on port 80 at all, we should create new server block(s) for the purpose of redirecting the traffic.
cc @ohemorange