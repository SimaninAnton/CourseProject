bbayer commented on 15 Jun 2018
Certbot cannot detect Nginx plugin
My operating system is (include version):
Ubuntu 16.04.4 LTS (GNU/Linux 4.15.13-x86_64-linode106 x86_64)
nginx version: nginx/1.10.3 (Ubuntu)
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
sudo add-apt-repository ppa:certbot/certbot
sudo apt-get update
sudo apt-get install python-certbot-nginx
I ran this command and it produced this output:
$ certbot --nginx -d domain.com -d www.domain.com
Saving debug log to /var/log/letsencrypt/letsencrypt.log
The requested nginx plugin does not appear to be installed
$ dpkg -L python-certbot-nginx
/.
/usr
/usr/share
/usr/share/doc
/usr/share/doc/python-certbot-nginx
/usr/share/doc/python-certbot-nginx/changelog.Debian.gz
/usr/share/doc/python-certbot-nginx/copyright
Certbot's behavior differed from what I expected because:
I cannot get certificates since Certbot claims that there is no cerbot-nginx plugin installed.
Here is a Certbot log showing the issue (if available):
2018-06-14 20:41:35,350:DEBUG:certbot.main:certbot version: 0.17.0
2018-06-14 20:41:35,350:DEBUG:certbot.main:Arguments: ['--nginx', '-d', 'domain.com', '-d', 'www.domain.com']
2018-06-14 20:41:35,350:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)
2018-06-14 20:41:35,360:DEBUG:certbot.log:Root logging level set at 20
2018-06-14 20:41:35,361:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log
2018-06-14 20:41:35,361:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx
2018-06-14 20:41:35,361:DEBUG:certbot.plugins.selection:No candidate plugin
2018-06-14 20:41:35,361:DEBUG:certbot.plugins.selection:Selected authenticator None and installer None
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
None
1