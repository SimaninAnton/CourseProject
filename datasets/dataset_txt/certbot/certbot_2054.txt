seanthewebber commented on 30 May 2016
Upon updating from letsencrypt-auto to certbot-auto, trying to reinstate my certificates resulted in all but one of them being insecure. Upon further inspection:
sudo ./certbot-auto certonly --standalone -d example.com -d www.example.com -d example2.com -d www.example2.com
I realized that all of my domains have example.com (first -d parameter) listed as their common name. Thus, causing the certificates to be invalid. Further, deleting the ~/.local/share/letsencrypt/ and /etc/letsencrypt directories and running certbot-auto with a different domain name first does not correct the issue. I had to completely roll back the VPS in question (thank goodness for DigitalOcean backups) to remedy the issue.
This never seemed to be an issue with the former letsencrypt-auto... does it have to do with --csr or simply a bug?