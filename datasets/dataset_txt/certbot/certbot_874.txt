rvsky commented on 7 Dec 2017 â€¢
edited
Hi! I have ubuntu 16.04 with nginx. I added two domains (worked good), then I deleted it. Now I want to add the same domains again but with different configuration - I use command sudo certbot --nginx
and then I get error. Below is full log. Can you help me?
2017-12-07 15:31:27,501:DEBUG:certbot.main:certbot version: 0.19.0
2017-12-07 15:31:27,502:DEBUG:certbot.main:Arguments: ['--nginx']
2017-12-07 15:31:27,502:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)
2017-12-07 15:31:27,514:DEBUG:certbot.log:Root logging level set at 20
2017-12-07 15:31:27,514:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log
2017-12-07 15:31:27,515:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx
2017-12-07 15:31:27,537:ERROR:certbot.util:Error while running nginx -c /etc/nginx/nginx.conf -t.

nginx: [emerg] BIO_new_file("/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem','r') error:2006D080:BIO routines:BIO_new_file:no such file)
nginx: configuration file /etc/nginx/nginx.conf test failed

2017-12-07 15:31:27,537:DEBUG:certbot.plugins.disco:Misconfigured PluginEntryPoint#nginx: Error while running nginx -c /etc/nginx/nginx.conf -t.

nginx: [emerg] BIO_new_file("/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem','r') error:2006D080:BIO routines:BIO_new_file:no such file)
nginx: configuration file /etc/nginx/nginx.conf test failed
Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/certbot/plugins/disco.py", line 130, in prepare
    self._initialized.prepare()
  File "/usr/lib/python2.7/dist-packages/certbot_nginx/configurator.py", line 153, in prepare
    self.config_test()
  File "/usr/lib/python2.7/dist-packages/certbot_nginx/configurator.py", line 604, in config_test
    raise errors.MisconfigurationError(str(err))
MisconfigurationError: Error while running nginx -c /etc/nginx/nginx.conf -t.

nginx: [emerg] BIO_new_file("/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem','r') error:2006D080:BIO routines:BIO_new_file:no such file)
nginx: configuration file /etc/nginx/nginx.conf test failed

2017-12-07 15:31:27,538:DEBUG:certbot.plugins.selection:Single candidate plugin: * nginx
Description: Nginx Web Server plugin - Alpha
Interfaces: IAuthenticator, IInstaller, IPlugin
Entry point: nginx = certbot_nginx.configurator:NginxConfigurator
Initialized: <certbot_nginx.configurator.NginxConfigurator object at 0x7f12c58acd90>
Prep: Error while running nginx -c /etc/nginx/nginx.conf -t.

nginx: [emerg] BIO_new_file("/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/letsencrypt/live/xyz.xyz.pl/fullchain.pem','r') error:2006D080:BIO routines:BIO_new_file:no such file)
nginx: configuration file /etc/nginx/nginx.conf test failed

2017-12-07 15:31:27,539:DEBUG:certbot.plugins.selection:Selected authenticator None and installer None
1