quenenni commented on 26 Feb 2016
Hello,
Do you think you can add an -delete option to let's encrypt?
My context is this:
From a hosting control panel, users will be able to create an owncloud instance.
When deleting their owncloud instance, I should delete also the certificates files in /etc/letsencrypt folder (I'm not talking about revocation as I can let the certs expire).
Deleting them seems important as by not deleting myself the files in /etc/letsencrypt/{archives,live,renewal}, if I understand correctly, the renewal of the certs will renew all the certs, included the certs for (sub)domains that don't exist anymore.
I must say I'm not sure how the renewal system works, if it tests the domain validity or the host file presence before renewing it. But still, you can have a host file for a domain name that doesn't exist anymore (not very good, but it can happen) and you can have a catchall for subdomains that show a generic page or use the (sub)domain for another purpose.
The only post I found on that topic (https://community.letsencrypt.org/t/correct-way-to-completely-remove-issued-certificate-s-for-a-domain/7409/4) doesn't have an answer on this problem.
If I manage the deletion by myself, deleting all the files /etc/letsencrypt/ subdirs, what about if something changes in the way let's encrypt manage the files (names / placements / ..).
The script will be broken.
Maybe there is another way:
If, by using the revoke option, the renewal feature won't renew the revoked certs, I can live with that.
But in that case, if later, a user want to re-use the same (sub)domain, is it possible to reactivate the certs? (didn't see anything about that in the doc. The renew feature doesn't say anything about this case)
So, is it possible to add such a feature?
And by the way, let's encrypt is a wonderful project. Thanks to you all.
14