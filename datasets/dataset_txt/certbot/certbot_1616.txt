porunov commented on 28 Nov 2016 â€¢
edited
Hello, I have a problem with obtaining certificate with certbot.
Certbot: v 0.9.3
OS: CentOS 7
Commands which I run:
//To generate CSR:
# openssl req -new -key mydomain.com.key -sha256 -nodes \
-subj '/C=US/ST=MyState/L=MyCity/O=MyCOMPANY/OU=IT Department/CN=mydomain.com/emailAddress=admin@mydomain.com/subjectAltName=DNS.1=www.mydomain.com,DNS.2=admin.mydomain.com,DNS.3=www.admin.mydomain.com,DNS.4=mydomain.tk,DNS.5=www.mydomain.tk' \
-outform DER -out mydomain.com.der
//To get certificate:
# certbot certonly --webroot \
--csr mydomain.com.der \
-w "/root/ssl/Ordinary_Certificate/cert/com" -d www.mydomain.com -d mydomain.com -d admin.mydomain.com -d www.admin.mydomain.com \
-w "/root/ssl/Ordinary_Certificate/cert/tk" -d mydomain.tk -d www.mydomain.tk 

Inconsistent domain requests:
From the CSR: mydomain.com
From command line/config: admin.mydomain.com, mydomain.tk, www.mydomain.tk, mydomain.com, www.admin.mydomain.com, www.mydomain.com
What you expected to happen:
Get a certificate
What actually happened:
I get an error
P.S. I don't run it on an actual server. After I obtain needed files I will manually send them to the server (To prove my domain).
Sincerely,
Alexandr