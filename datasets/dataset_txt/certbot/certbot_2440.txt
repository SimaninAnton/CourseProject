atleta commented on 7 Feb 2016
Hi,
I'm getting this error on debian 7.7 after fixing a possible bug in cli.py by replacing line 892 with the following:
if self.visible_topics.get(topic, None):
The above was a quick fix, not entirely sure what the intent of the code was (just wanted to use the app), but it was breaking with the following exception trace before:
Traceback (most recent call last):
  File "/usr/local/lib/letsencrypt/env/bin/letsencrypt", line 11, in <module>
    sys.exit(main())
  File "/usr/local/lib/letsencrypt/env/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 1406, in main
    args = prepare_and_parse_args(plugins, cli_args)
  File "/usr/local/lib/letsencrypt/env/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 1122, in prepare_and_parse_args
    _plugins_parsing(helpful, plugins)
  File "/usr/local/lib/letsencrypt/env/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 1249, in _plugins_parsing
    help="public_html / webroot path. This can be specified multiple times to "
  File "/usr/local/lib/letsencrypt/env/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 892, in add
    if self.visible_topics[topic]:
KeyError: 'webroot'
I have manually installed letsencrypt, added the backported augeas lib. It works fine on a debian 8.0 system, but breaks on the 7.7, which I can't upgrade right now. Pretty frustrating.