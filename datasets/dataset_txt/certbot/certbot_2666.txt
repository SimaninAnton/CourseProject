rubin110 commented on 23 Dec 2015
# ./letsencrypt-auto --apache --text -vvvvv
-vvvvv
Updating letsencrypt and virtual environment dependencies...

...

What would you like to do?
-------------------------------------------------------------------------------
1: Attempt to reinstall this existing certificate 
2: Renew & replace the cert (limit ~5 per 7 days) 
3: Cancel this operation and do nothing
-------------------------------------------------------------------------------
Select the appropriate number [1-3] then [enter] (press 'c' to cancel): 1
2015-12-23 03:05:45,459:INFO:letsencrypt_apache.configurator:Deploying Certificate to VirtualHost /etc/apache2/sites-available/someobscuredomain.net-le-ssl.conf
2015-12-23 03:05:45,461:DEBUG:letsencrypt_apache.configurator:Apache version is 2.4.10
2015-12-23 03:05:45,743:ERROR:letsencrypt.le_util:Error while running apache2ctl -k graceful.
httpd not running, trying to start
Action '-k graceful' failed.
The Apache error log may have more information.

(98)Address already in use: AH00072: make_sock: could not bind to address 127.0.0.1:443
no listening sockets available, shutting down
AH00015: Unable to open logs

2015-12-23 03:05:45,751:DEBUG:letsencrypt.error_handler:Encountered exception:
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py", line 385, in deploy_certificate
    self.installer.restart()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py", line 1222, in restart
    self._reload()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py", line 1233, in _reload
    raise errors.MisconfigurationError(str(err))  
MisconfigurationError: Error while running apache2ctl -k graceful.
httpd not running, trying to start
Action '-k graceful' failed.
The Apache error log may have more information.   

(98)Address already in use: AH00072: make_sock: could not bind to address 127.0.0.1:443
no listening sockets available, shutting down
AH00015: Unable to open logs


2015-12-23 03:05:45,755:DEBUG:letsencrypt.error_handler:Calling registered functions
2015-12-23 03:05:45,755:CRITICAL:letsencrypt.client:Rolling back to previous server configuration...
2015-12-23 03:05:46,016:INFO:letsencrypt.reporter:Reporting to user: We were unable to install your certificate, however, we successfully restored your server to its prior configuration.
2015-12-23 03:05:46,020:DEBUG:letsencrypt.cli:Exiting abnormally:
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/bin/letsencrypt", line 11, in <module>
    sys.exit(main())
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 1396, in main
    return args.func(args, config, plugins)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 561, in run
    lineage.chain, lineage.fullchain)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py", line 385, in deploy_certificate
    self.installer.restart()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py", line 1222, in restart
    self._reload()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py", line 1233, in _reload
    raise errors.MisconfigurationError(str(err))  
MisconfigurationError: Error while running apache2ctl -k graceful.
httpd not running, trying to start
Action '-k graceful' failed.
The Apache error log may have more information.   

(98)Address already in use: AH00072: make_sock: could not bind to address 127.0.0.1:443
no listening sockets available, shutting down
AH00015: Unable to open logs


Error while running apache2ctl -k graceful.
httpd not running, trying to start
Action '-k graceful' failed.
The Apache error log may have more information.   

(98)Address already in use: AH00072: make_sock: could not bind to address 127.0.0.1:443
no listening sockets available, shutting down
AH00015: Unable to open logs


IMPORTANT NOTES:
 - We were unable to install your certificate, however, we
   successfully restored your server to its prior configuration.
When I went through and commented the following line out of /etc/apache2/ports.conf the problem went away.
Listen 127.0.0.1:8088
The line had nothing to do with 443 or SSL.
Notes, I was sitting next to Noah when this happened. It was like magic.