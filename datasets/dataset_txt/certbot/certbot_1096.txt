georgehank commented on 20 Jun 2017
My operating system is (include version):
Debian unstable
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot 0.11.1 from Debian unstable
I ran this command and it produced this output:
certbot renew with lots of --verbose... and it produces tons of output
Certbot's behavior differed from what I expected because:
I expected it to log when/where it invokes my manual-auth and manual-cleanup scripts. It didn't.
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
Here is nothing because the problem is that it DOESNT show what I want it to
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
Irrelevant since I'm doing "manual" (scripted) DNS auth... it ends up used by lighttpd, but that's irrelevant since the scripts don't depend on lighttpd.
I'm trying to find out (docs are mumm about this) when auth/cleanup scripts get called for a cert WITH MULTIPLE NAMES. Namely, jaerhard.com and www.jaerhard.com. And it looks (but the log doesn't actually have that info hence this PR) like it calls manual auth separately for both names, then does the online part for one of the names, then does the cleanup, and then tries the other names. Both names are in the zone file at one point (I have the script copy the zone file), so both auths should succeed. But one doesn't.
Again, I need enough info to even debug this.