flexponsive commented on 9 Apr 2019
My certbot by default makes the folder /etc/letsencrypt/renewal/ world readable. This is a security risk, because the files in that folder may contain confidential access tokens. These tokens are exposed to any user on the machine.
Example: I'm using certbot with a plugin for my DNS provider, Gandi, in order to benefit from wildcard certificates. This means the renewal configuration contains their LiveDNS access token, which is as good as having the admin password to my DNS account.
My operating system is (include version):
Ubuntu 18.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
Installed from ppa:certbot/certbot, I have version 0.31.0
I ran this command and it produced this output:
(not applicable)
Certbot's behavior differed from what I expected because:
I expect the /etc/letsencrypt/renewal/ to have the same default permissions as the keys folder, because the data are equally sensitive.
Workaround
Manually change the permissions for the folder. Certbot + renewal still work for me.