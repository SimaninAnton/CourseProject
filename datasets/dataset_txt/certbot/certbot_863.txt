JulienPalard commented on 13 Dec 2017
My operating system is (include version):
Debian GNU/Linux 9.3 (stretch)
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
Used apt install certbot
I ran this command and it produced this output:
# certbot certonly -n --agree-tos -d redacted.example.com -m admin@redacted.example.com --webroot --webroot-path /var/www/html/ --rsa-key-size 4096
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Obtaining a new certificate
Performing the following challenges:
http-01 challenge for redacted.example.com
Using the webroot path /var/www/html for all unmatched domains.
Waiting for verification...
Cleaning up challenges
Generating key (4096 bits): /etc/letsencrypt/keys/0007_key-certbot.pem
Creating CSR: /etc/letsencrypt/csr/0007_csr-certbot.pem

[...IMPORTANT NOTES...]
Certbot's behavior differed from what I expected because:
I explicitly asked for the webroot plugin to be used, stdout told me webroot was used BUT in the background, tls-sni-01 was in fact used.
Here is a Certbot log showing the issue (if available):
[...]
  "challenges": [
    {
      "type": "http-01",
      "status": "pending",
      "uri": "https://acme-v01.api.letsencrypt.org/acme/challenge/.../...",
      "token": "..."
    },
    {
      "type": "dns-01",
      "status": "pending",
      "uri": "https://acme-v01.api.letsencrypt.org/acme/challenge/.../...",
      "token": "..."
    },
    {
      "type": "tls-sni-01",
      "status": "valid",
      "uri": "https://acme-v01.api.letsencrypt.org/acme/challenge/.../...",
      "token": "...",
      "keyAuthorization": "...-...",
      "validationRecord": [
        {
          "hostname": "redacted.example.com",
          "port": "443",
          "addressesResolved": [
            "..."
          ],
          "addressUsed": "...",
          "addressesTried": []
        }
      ]
    }
  ],

[...]