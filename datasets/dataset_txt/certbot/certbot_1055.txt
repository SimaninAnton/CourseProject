allenwtl commented on 15 Jul 2017
My operating system is (include version):
CentOS release 6.8 (Final)
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
wget
https://certbot.eff.org/#centos6-nginx
I ran this command and it produced this output:
--this command
$ sudo ./path/to/certbot-auto --nginx
--output
Dependency Updated:
python-libs.x86_64 0:2.6.6-66.el6_8
Complete!
Creating virtual environment...
Installing Python packages...
Installation succeeded.
/root/.local/share/letsencrypt/lib/python2.6/site-packages/cryptography/init.py:26: DeprecationWarning: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of cryptography will drop support for Python 2.6
DeprecationWarning
Saving debug log to /var/log/letsencrypt/letsencrypt.log
The nginx plugin is not working; there may be problems with your existing configuration.
The error was: NoInstallationError()
Certbot's behavior differed from what I expected because:
i don't know
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
2017-07-15 14:25:35,514:DEBUG:certbot.main:certbot version: 0.16.0
2017-07-15 14:25:35,514:DEBUG:certbot.main:Arguments: ['--nginx']
2017-07-15 14:25:35,514:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)
2017-07-15 14:25:35,529:DEBUG:certbot.log:Root logging level set at 20
2017-07-15 14:25:35,529:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log
2017-07-15 14:25:35,529:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx
2017-07-15 14:25:35,534:DEBUG:certbot.plugins.disco:No installation (PluginEntryPoint#nginx):
Traceback (most recent call last):
File "/root/.local/share/letsencrypt/lib/python2.6/site-packages/certbot/plugins/disco.py", line 130, in prepare
self._initialized.prepare()
File "/root/.local/share/letsencrypt/lib/python2.6/site-packages/certbot_nginx/configurator.py", line 155, in prepare
raise errors.NoInstallationError
NoInstallationError
2017-07-15 14:25:35,535:DEBUG:certbot.plugins.selection:No candidate plugin
2017-07-15 14:25:35,535:DEBUG:certbot.plugins.selection:Selected authenticator None and installer None
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
nginx server
1