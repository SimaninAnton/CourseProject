scharfie commented on 4 Nov 2015
Hello,
Sorry if this is a duplicate, but the message I'm getting seemed a little different from the other tickets regarding failed authorization. I'm in the beta, trying to generate the cert for www.marmaladeskies.com (listed in the beta invite), and I get this:
Failed authorization procedure. www.marmaladeskies.com (dvsni): unauthorized :: The client lacks sufficient authorization :: Correct zName not found for TLS SNI challenge

IMPORTANT NOTES:
 - The following 'unauthorized' errors were reported by the server:

   Domains: www.marmaladeskies.com
   Error: The client lacks sufficient authorization

   To fix these errors, please make sure that your domain name was
   entered correctly and the DNS A record(s) for that domain
   contain(s) the right IP address.
And the log:
2015-11-04 12:17:24,635:DEBUG:letsencrypt.cli:Root logging level set at 30
2015-11-04 12:17:24,636:INFO:letsencrypt.cli:Saving debug log to /var/log/letsencrypt/letsencrypt.log
2015-11-04 12:17:24,636:DEBUG:letsencrypt.cli:letsencrypt version: 0.0.0.dev20151104
2015-11-04 12:17:24,636:DEBUG:letsencrypt.cli:Arguments: ['--agree-dev-preview', '-d', 'www.marmaladeskies.com', '--server', 'https://acme-v01.api.letsencrypt.org/directory']
2015-11-04 12:17:24,636:DEBUG:letsencrypt.cli:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)
2015-11-04 12:17:24,662:DEBUG:letsencrypt.cli:Requested authenticator None and installer None
2015-11-04 12:17:25,015:DEBUG:letsencrypt.plugins.disco:Other error:(PluginEntryPoint#apache): Unable to parse runtime variables
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py", line 103, in prepare
    self._initialized.prepare()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py", line 151, in prepare
    self.aug, self.conf("server-root"), self.conf("ctl"))
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py", line 39, in __init__
    self.update_runtime_variables(ctl)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py", line 104, in update_runtime_variables
    raise errors.PluginError("Unable to parse runtime variables")
PluginError: Unable to parse runtime variables
2015-11-04 12:17:25,017:DEBUG:letsencrypt.plugins.disco:Other error:(PluginEntryPoint#webroot): --webroot-path must be set
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py", line 103, in prepare
    self._initialized.prepare()
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/plugins/webroot.py", line 89, in prepare
    self.option_name("path")))
PluginError: --webroot-path must be set
2015-11-04 12:17:25,018:DEBUG:letsencrypt.display.ops:Single candidate plugin: * standalone
Description: Automatically use a temporary webserver
Interfaces: IAuthenticator, IPlugin
Entry point: standalone = letsencrypt.plugins.standalone:Authenticator
Initialized: <letsencrypt.plugins.standalone.Authenticator object at 0x2d98bd0>
Prep: True
2015-11-04 12:17:25,018:DEBUG:letsencrypt.cli:Selected authenticator <letsencrypt.plugins.standalone.Authenticator object at 0x2d98bd0> and installer None
2015-11-04 12:17:25,048:DEBUG:letsencrypt.cli:Picked account: <Account(27effb00ca0204ca4803fbe2bd944647)>
2015-11-04 12:17:25,048:DEBUG:root:Sending GET request to https://acme-v01.api.letsencrypt.org/directory. args: (), kwargs: {}
2015-11-04 12:17:25,057:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org
2015-11-04 12:17:25,172:DEBUG:requests.packages.urllib3.connectionpool:"GET /directory HTTP/1.1" 200 263
2015-11-04 12:17:25,175:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '263', 'Expires': 'Wed, 04 Nov 2015 12:15:12 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:12 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': 'spMqYyVEeVFO9cXOE4qGYvUCzATn0nwMLk37DcNIdFI'}. Content: '{"new-authz":"https://acme-v01.api.letsencrypt.org/acme/new-authz","new-cert":"https://acme-v01.api.letsencrypt.org/acme/new-cert","new-reg":"https://acme-v01.api.letsencrypt.org/acme/new-reg","revoke-cert":"https://acme-v01.api.letsencrypt.org/acme/revoke-cert"}'
2015-11-04 12:17:25,176:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '263', 'Expires': 'Wed, 04 Nov 2015 12:15:12 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:12 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': 'spMqYyVEeVFO9cXOE4qGYvUCzATn0nwMLk37DcNIdFI'}): '{"new-authz":"https://acme-v01.api.letsencrypt.org/acme/new-authz","new-cert":"https://acme-v01.api.letsencrypt.org/acme/new-cert","new-reg":"https://acme-v01.api.letsencrypt.org/acme/new-reg","revoke-cert":"https://acme-v01.api.letsencrypt.org/acme/revoke-cert"}'
2015-11-04 12:17:25,310:INFO:letsencrypt.crypto_util:Generating key (2048 bits): /etc/letsencrypt/keys/0007_key-letsencrypt.pem
2015-11-04 12:17:25,315:INFO:letsencrypt.crypto_util:Creating CSR: /etc/letsencrypt/csr/0007_csr-letsencrypt.pem
2015-11-04 12:17:25,315:DEBUG:letsencrypt.client:CSR: CSR(file='/etc/letsencrypt/csr/0007_csr-letsencrypt.pem', data='0\x82\x02\x990\x82\x01\x81\x02\x000!1\x1f0\x1d\x06\x03U\x04\x03\x0c\x16www.marmaladeskies.com0\x82\x01"0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x01\x05\x00\x03\x82\x01\x0f\x000\x82\x01\n\x02\x82\x01\x01\x00\xe1`9\xe1\xb9\xb7\x05o\x17\x8d\xe5Zt\x80\xb1\xc3\x13\xde\xd0r\xa7\xe2\xdb\x03u\xb8\x8f`td\xb0\xdbP$\x1e_t\xc4\xba\xd1r\xce7:z\xa0U\x83\xad\x19\x7f\x0f\xf3>\x8c\xc9\x9c\xa1k\xf1\xb6*\xfbd\xfb\xeb+\x0e\xd4\x82\xa3\xe7\xc7\x0f\xb1\xa6\xa1\xc8)I\xe3#\x11,\x15wC\x17v\x8c\xb6/\x16\xa2\x11&\x7f\xa2\xbf\xa8\x97c[&9\x88c\x05\xffE\xccM\xbb\xfa\xc4\xd0\x0b\xfb\xfa7Oi\xeb\xe3`\x03\xa2\xdd\xc8\xd4g\xe3\xa8\xc7\xac\x7f\xa4\xe5\xc5\x95R\xb0\xb4\xaa\x885\xfbh\x982\xa0I\x90\x19\xfa\x90\xf8\xec\xa0\x7f\xfe\x05\'\x08U\x841\x086\x84\x82%\xf6\xa9\xedZ\x0e/{\x84\x9e\xce\x03\xc0l\x01\xd1\x05,\xe2Cj[\x02*w\x13\xaf\xeeI\xe4?\xaesP4\xa4\xf9\x0c|Eka\x86\xf6[u\xbe\x97C8)\x866\xfe\x0e\x08\xb6\xbc\xa78\xef\xa0u\xbe\xe7E\x98\xa9\x86\x14\xd6j\t\xff\x80\x98P\xd9}\xc7p\x9d\x05*\xe5\x02\x03\x01\x00\x01\xa0402\x06\t*\x86H\x86\xf7\r\x01\t\x0e1%0#0!\x06\x03U\x1d\x11\x04\x1a0\x18\x82\x16www.marmaladeskies.com0\r\x06\t*\x86H\x86\xf7\r\x01\x01\x0b\x05\x00\x03\x82\x01\x01\x00\x06\x13g\xc4\xe5\x0c\xaa\xf0\xb8;(G\xa7\x17\xd1W\xe4\x1c\xf6\xe4\xa7Q\xff&\x18\xb1Y\xc6M\xb7\xf1\xd1\xff\\\xdc\xab\xd1\xabVj\x82\x93\xed\xf4\xf6\x17\x7fh\x80<\x90\xa2\x1a\x0e$\x02\x17\xb7\xdf\xaf\x15B\xa2\xc9\x03\xc0\xb3\xd3T\xc7\xba\x1c\xbe\xaa\x90\x80\xb2<P\xfe\x93\x8d\x7f\xc8\xa2mUXR\x14\x97\x166\xc9\xfe\xde-\xf9\xd0\x7f\x8d\x18R\x97m8<!\xf4\x96\x07\x9al\xec`v\x83O\x96\xed\xa0\xb5n\x11\xe7\xec\xbe\xab\x04*\xdb\xba\xa6\']l\xb3\xe2\x1d\xc6\xbb\x83Eb\xa7[uw\xd7\xc5u<I\x80x\xa3\x19\x0eA:\xdc\x17i\xee\x86_&TKq\x84I\xe93{\x04\xa7&\xcb|6\x98\x8diJs\x8e\xb2\xca\xd9\xd9\xeb\xa5\xec\xfcS\x89["@\x0bU\x1b\xf0\x10\x03t\x93\xf4z\xaa\r\x8ac \xfd\xd30\xc4=\xc8\x1d&0\xa4\xd6:N\x91\xaai\xe6 \xd5\xbf\xba\xf0\xb1\xb1$k#\xe9\xbf2a\r\x9b7\xfb\xbd\xeb\xb7+\xb5Q', form='der'), domains: ['www.marmaladeskies.com']
2015-11-04 12:17:25,316:DEBUG:root:Requesting fresh nonce
2015-11-04 12:17:25,316:DEBUG:root:Sending HEAD request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {}
2015-11-04 12:17:25,317:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org
2015-11-04 12:17:25,422:DEBUG:requests.packages.urllib3.connectionpool:"HEAD /acme/new-authz HTTP/1.1" 405 0
2015-11-04 12:17:25,426:DEBUG:root:Received <Response [405]>. Headers: {'Content-Length': '0', 'Pragma': 'no-cache', 'Expires': 'Wed, 04 Nov 2015 12:15:12 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Allow': 'POST', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:12 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'kKTk1G-vCQOFxJC_OPE7K1LIKDZ8IxjBIEGolONvi78'}. Content: ''
2015-11-04 12:17:25,427:DEBUG:acme.client:Storing nonce: '\x90\xa4\xe4\xd4o\xaf\t\x03\x85\xc4\x90\xbf8\xf1;+R\xc8(6|#\x18\xc1 A\xa8\x94\xe3o\x8b\xbf'
2015-11-04 12:17:25,427:DEBUG:acme.jose.json_util:Omitted empty fields: combinations=None, challenges=None, expires=None, status=None
2015-11-04 12:17:25,427:DEBUG:acme.client:Serialized JSON: {"identifier": {"type": "dns", "value": "www.marmaladeskies.com"}, "resource": "new-authz"}
2015-11-04 12:17:25,429:DEBUG:acme.jose.json_util:Omitted empty fields: kid=None, x5c=(), crit=(), jwk=None, typ=None, alg=None, jku=None, cty=None, x5tS256=None, x5u=None, x5t=None
2015-11-04 12:17:25,433:DEBUG:acme.jose.json_util:Omitted empty fields: kid=None, x5c=(), crit=(), typ=None, jku=None, cty=None, x5tS256=None, x5u=None, x5t=None, nonce=None
2015-11-04 12:17:25,433:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{"header": {"alg": "RS256", "jwk": {"e": "AQAB", "kty": "RSA", "n": "07fTUKJ1khivWNtZHq6wzqbgc9RrBKA7FHc2aOrvOHXNPAd31B_xvJXtpfw36C5XJM2OlYRvItwGBinKu0F0CnShtx3OEjsO3y_DQ5gy1iyjI4bxyKZPLuuBLDrIqVvVBrOj5CDLBz1DwtG5kWYkSFv_QoTZ95hsO92qJu_fplnnd5vU0l6XHU_Iou9Iw-qDFwByhwEcjZ1bjO8Tws70hFjNnhXeUl22nWEfiDlQSs8v1W3IpfUHZ49o-yat-gZM3ukrUFB5J3F1xMqMKTMzleExyRf4Iat7MSPr1Sf_zmlWKA4j1zBt0F4V6uSKY40ECS2IoK8W38WZf6OLC3lUzw"}}, "protected": "eyJub25jZSI6ICJrS1RrMUctdkNRT0Z4SkNfT1BFN0sxTElLRFo4SXhqQklFR29sT052aTc4In0", "payload": "eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cubWFybWFsYWRlc2tpZXMuY29tIn0sICJyZXNvdXJjZSI6ICJuZXctYXV0aHoifQ", "signature": "C8q4zE60QokLbIWqX7fM7AiN7J0UnVLnhWOWYw7QGhdLyWjE7O-utuWY9Ki1CG93ZWqf8jq8gxQtVQbU5aJ2yec9NLbPCTN6T4VF-s7K2o2ADv90Et7hn_6-6R8xQG3_Tl1_eQtmiW-5yrkGX66GRG_7C29IREPtCSSek9GwKBCIY-pN1YD7KLC5fayUz93o7BXFT0fOIAhW3oDNca62xOvorFdvaQohYxGiX-6yaFAWGC7czJy3er09UvuQ2uenBh-kjOj_2KsRS737Qi9--9uB5rDAdKIod1Ov4W-OGeBsYGPSWhdMITpU95X25ckFEgpYUM46VHRfJdaYT6T8Dw"}'}
2015-11-04 12:17:25,435:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org
2015-11-04 12:17:25,588:DEBUG:requests.packages.urllib3.connectionpool:"POST /acme/new-authz HTTP/1.1" 201 995
2015-11-04 12:17:25,592:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '995', 'Expires': 'Wed, 04 Nov 2015 12:15:12 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel="next"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:12 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': 'k180V2nXTW-23RMmaw-tOfx6GYBV28ToyQdFZZ6VcL4'}. Content: '{"identifier":{"type":"dns","value":"www.marmaladeskies.com"},"status":"pending","expires":"2015-11-11T12:15:12.767082874Z","challenges":[{"type":"simpleHttp","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92344","token":"JbPF3u0EJ67KfyYgcVJDwnKbRefKjfOvG8QnBgskekw","tls":true},{"type":"dvsni","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345","token":"hezys4TmJycvOUALYJcvsCjqEuDnher0j_1Kw8jUlGI"},{"type":"http-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92346","token":"rYg6oQ_KSfxINCGoNUUqcEvA68j_ejgL7L7Flwb1qJI"},{"type":"tls-sni-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92347","token":"0TIJCInBWHJgNWeBTrVHo7sq11e7Lwn7PFFDbwzs-jI"}],"combinations":[[0],[1],[2],[3]]}'
2015-11-04 12:17:25,592:DEBUG:acme.client:Storing nonce: '\x93_4Wi\xd7Mo\xb6\xdd\x13&k\x0f\xad9\xfcz\x19\x80U\xdb\xc4\xe8\xc9\x07Ee\x9e\x95p\xbe'
2015-11-04 12:17:25,593:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '995', 'Expires': 'Wed, 04 Nov 2015 12:15:12 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel="next"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:12 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': 'k180V2nXTW-23RMmaw-tOfx6GYBV28ToyQdFZZ6VcL4'}): '{"identifier":{"type":"dns","value":"www.marmaladeskies.com"},"status":"pending","expires":"2015-11-11T12:15:12.767082874Z","challenges":[{"type":"simpleHttp","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92344","token":"JbPF3u0EJ67KfyYgcVJDwnKbRefKjfOvG8QnBgskekw","tls":true},{"type":"dvsni","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345","token":"hezys4TmJycvOUALYJcvsCjqEuDnher0j_1Kw8jUlGI"},{"type":"http-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92346","token":"rYg6oQ_KSfxINCGoNUUqcEvA68j_ejgL7L7Flwb1qJI"},{"type":"tls-sni-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92347","token":"0TIJCInBWHJgNWeBTrVHo7sq11e7Lwn7PFFDbwzs-jI"}],"combinations":[[0],[1],[2],[3]]}'
2015-11-04 12:17:25,593:DEBUG:acme.challenges:simpleHttp was not recognized, full message: {u'status': u'pending', u'tls': True, u'token': u'JbPF3u0EJ67KfyYgcVJDwnKbRefKjfOvG8QnBgskekw', u'type': u'simpleHttp', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92344'}
2015-11-04 12:17:25,594:DEBUG:acme.challenges:tls-sni-01 was not recognized, full message: {u'status': u'pending', u'token': u'0TIJCInBWHJgNWeBTrVHo7sq11e7Lwn7PFFDbwzs-jI', u'type': u'tls-sni-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92347'}
2015-11-04 12:17:25,594:INFO:letsencrypt.auth_handler:Performing the following challenges:
2015-11-04 12:17:25,595:INFO:letsencrypt.auth_handler:dvsni challenge for www.marmaladeskies.com
2015-11-04 12:17:25,630:INFO:letsencrypt.auth_handler:Waiting for verification...
2015-11-04 12:17:25,631:DEBUG:acme.jose.json_util:Omitted empty fields: protected=''
2015-11-04 12:17:25,631:DEBUG:acme.jose.json_util:Omitted empty fields: kid=None, x5c=(), crit=(), typ=None, jku=None, cty=None, x5tS256=None, x5u=None, x5t=None
2015-11-04 12:17:25,631:DEBUG:acme.client:Serialized JSON: {"type": "dvsni", "validation": {"header": {"alg": "RS256", "jwk": {"e": "AQAB", "kty": "RSA", "n": "07fTUKJ1khivWNtZHq6wzqbgc9RrBKA7FHc2aOrvOHXNPAd31B_xvJXtpfw36C5XJM2OlYRvItwGBinKu0F0CnShtx3OEjsO3y_DQ5gy1iyjI4bxyKZPLuuBLDrIqVvVBrOj5CDLBz1DwtG5kWYkSFv_QoTZ95hsO92qJu_fplnnd5vU0l6XHU_Iou9Iw-qDFwByhwEcjZ1bjO8Tws70hFjNnhXeUl22nWEfiDlQSs8v1W3IpfUHZ49o-yat-gZM3ukrUFB5J3F1xMqMKTMzleExyRf4Iat7MSPr1Sf_zmlWKA4j1zBt0F4V6uSKY40ECS2IoK8W38WZf6OLC3lUzw"}}, "payload": "eyJ0b2tlbiI6ICJoZXp5czRUbUp5Y3ZPVUFMWUpjdnNDanFFdURuaGVyMGpfMUt3OGpVbEdJIiwgInR5cGUiOiAiZHZzbmkifQ", "signature": "o6NSBp6gUb5VewBMpbLaHIAFA50UUbM3XOABO1blt25zJ30jkk_sToEdMkF0oAjI1LAthJ80COK6A_i2NOm0gY4RJuW8TZBBObaOIP3iSgf72BOh3JNXtDFuc4wHa7GFC3djEB7f8sWRWSk4QNwq1oUciSOwlBoBFIp_ocznoL4plOytl-DnxLvnuZZTru4g0TODkiq1YZc0W7hLhn2GwoUEHx8WJiG4cR9yod4_MRT_vzkiY5cOlm_mcVSIH-iO6gvh_CoPpeY2SClHs_yPq119kOxXwwGI5gHb547H3esjQawHYggUrt42pR4al-Nm1WUCMMFWrrw8s7rl_z9Pzg"}, "resource": "challenge"}
2015-11-04 12:17:25,633:DEBUG:acme.jose.json_util:Omitted empty fields: kid=None, x5c=(), crit=(), jwk=None, typ=None, alg=None, jku=None, cty=None, x5tS256=None, x5u=None, x5t=None
2015-11-04 12:17:25,636:DEBUG:acme.jose.json_util:Omitted empty fields: kid=None, x5c=(), crit=(), typ=None, jku=None, cty=None, x5tS256=None, x5u=None, x5t=None, nonce=None
2015-11-04 12:17:25,637:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345. args: (), kwargs: {'data': '{"header": {"alg": "RS256", "jwk": {"e": "AQAB", "kty": "RSA", "n": "07fTUKJ1khivWNtZHq6wzqbgc9RrBKA7FHc2aOrvOHXNPAd31B_xvJXtpfw36C5XJM2OlYRvItwGBinKu0F0CnShtx3OEjsO3y_DQ5gy1iyjI4bxyKZPLuuBLDrIqVvVBrOj5CDLBz1DwtG5kWYkSFv_QoTZ95hsO92qJu_fplnnd5vU0l6XHU_Iou9Iw-qDFwByhwEcjZ1bjO8Tws70hFjNnhXeUl22nWEfiDlQSs8v1W3IpfUHZ49o-yat-gZM3ukrUFB5J3F1xMqMKTMzleExyRf4Iat7MSPr1Sf_zmlWKA4j1zBt0F4V6uSKY40ECS2IoK8W38WZf6OLC3lUzw"}}, "protected": "eyJub25jZSI6ICJrMTgwVjJuWFRXLTIzUk1tYXctdE9meDZHWUJWMjhUb3lRZEZaWjZWY0w0In0", "payload": "eyJ0eXBlIjogImR2c25pIiwgInZhbGlkYXRpb24iOiB7ImhlYWRlciI6IHsiYWxnIjogIlJTMjU2IiwgImp3ayI6IHsiZSI6ICJBUUFCIiwgImt0eSI6ICJSU0EiLCAibiI6ICIwN2ZUVUtKMWtoaXZXTnRaSHE2d3pxYmdjOVJyQktBN0ZIYzJhT3J2T0hYTlBBZDMxQl94dkpYdHBmdzM2QzVYSk0yT2xZUnZJdHdHQmluS3UwRjBDblNodHgzT0Vqc08zeV9EUTVneTFpeWpJNGJ4eUtaUEx1dUJMRHJJcVZ2VkJyT2o1Q0RMQnoxRHd0RzVrV1lrU0Z2X1FvVFo5NWhzTzkycUp1X2ZwbG5uZDV2VTBsNlhIVV9Jb3U5SXctcURGd0J5aHdFY2paMWJqTzhUd3M3MGhGak5uaFhlVWwyMm5XRWZpRGxRU3M4djFXM0lwZlVIWjQ5by15YXQtZ1pNM3VrclVGQjVKM0YxeE1xTUtUTXpsZUV4eVJmNElhdDdNU1ByMVNmX3ptbFdLQTRqMXpCdDBGNFY2dVNLWTQwRUNTMklvSzhXMzhXWmY2T0xDM2xVencifX0sICJwYXlsb2FkIjogImV5SjBiMnRsYmlJNklDSm9aWHA1Y3pSVWJVcDVZM1pQVlVGTVdVcGpkbk5EYW5GRmRVUnVhR1Z5TUdwZk1VdDNPR3BWYkVkSklpd2dJblI1Y0dVaU9pQWlaSFp6Ym1raWZRIiwgInNpZ25hdHVyZSI6ICJvNk5TQnA2Z1ViNVZld0JNcGJMYUhJQUZBNTBVVWJNM1hPQUJPMWJsdDI1ekozMGpra19zVG9FZE1rRjBvQWpJMUxBdGhKODBDT0s2QV9pMk5PbTBnWTRSSnVXOFRaQkJPYmFPSVAzaVNnZjcyQk9oM0pOWHRERnVjNHdIYTdHRkMzZGpFQjdmOHNXUldTazRRTndxMW9VY2lTT3dsQm9CRklwX29jem5vTDRwbE95dGwtRG54THZudVpaVHJ1NGcwVE9Ea2lxMVlaYzBXN2hMaG4yR3dvVUVIeDhXSmlHNGNSOXlvZDRfTVJUX3Z6a2lZNWNPbG1fbWNWU0lILWlPNmd2aF9Db1BwZVkyU0NsSHNfeVBxMTE5a094WHd3R0k1Z0hiNTQ3SDNlc2pRYXdIWWdnVXJ0NDJwUjRhbC1ObTFXVUNNTUZXcnJ3OHM3cmxfejlQemcifSwgInJlc291cmNlIjogImNoYWxsZW5nZSJ9", "signature": "w8gCFvBLj460Ram3ApJvpwtFBO9gCgAZtG0Ea_l6xgRFWF8mVk2AQi5Q9sdP8HPPVVvXoiANZPJ8QlHyvvO9A6bKJF2OXQZ1kS0RwmsdZV0yZhXxiEn6kJFkciCoC7m-HqtX3OSRbDK1-fS8hx_C3lnnHSoknwyfqiAK-9m9lXNVfryEayFse70SxzvD1IYDTUeRMlO-lFev8Agtd-0OH3SXiRv3TrqYiFWHIJ3JNVQda8jmrHXQ0aWXkl8dtKieNsTGTKIZ0Q2b_dBZ3TjDpnmjAwzV_6IOgPn4zx8_koc7PI5ri3XIIuRAUmqZztISQ1KlHPoVRZ8X256tMTtmlA"}'}
2015-11-04 12:17:25,638:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org
2015-11-04 12:17:25,801:DEBUG:requests.packages.urllib3.connectionpool:"POST /acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345 HTTP/1.1" 202 1087
2015-11-04 12:17:25,805:DEBUG:root:Received <Response [202]>. Headers: {'Content-Length': '1087', 'Expires': 'Wed, 04 Nov 2015 12:15:13 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/authz/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU>;rel="up"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:13 GMT', 'Content-Type': 'application/json', 'Replay-Nonce': 'y6-OJ5HReHwXOKxxwHHhaQQ7LerwRKFHzxFqpclTgB0'}. Content: '{"type":"dvsni","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345","token":"hezys4TmJycvOUALYJcvsCjqEuDnher0j_1Kw8jUlGI","validation":{"payload":"eyJ0b2tlbiI6ICJoZXp5czRUbUp5Y3ZPVUFMWUpjdnNDanFFdURuaGVyMGpfMUt3OGpVbEdJIiwgInR5cGUiOiAiZHZzbmkifQ","header":{"alg":"RS256","jwk":{"kty":"RSA","n":"07fTUKJ1khivWNtZHq6wzqbgc9RrBKA7FHc2aOrvOHXNPAd31B_xvJXtpfw36C5XJM2OlYRvItwGBinKu0F0CnShtx3OEjsO3y_DQ5gy1iyjI4bxyKZPLuuBLDrIqVvVBrOj5CDLBz1DwtG5kWYkSFv_QoTZ95hsO92qJu_fplnnd5vU0l6XHU_Iou9Iw-qDFwByhwEcjZ1bjO8Tws70hFjNnhXeUl22nWEfiDlQSs8v1W3IpfUHZ49o-yat-gZM3ukrUFB5J3F1xMqMKTMzleExyRf4Iat7MSPr1Sf_zmlWKA4j1zBt0F4V6uSKY40ECS2IoK8W38WZf6OLC3lUzw","e":"AQAB"}},"signature":"o6NSBp6gUb5VewBMpbLaHIAFA50UUbM3XOABO1blt25zJ30jkk_sToEdMkF0oAjI1LAthJ80COK6A_i2NOm0gY4RJuW8TZBBObaOIP3iSgf72BOh3JNXtDFuc4wHa7GFC3djEB7f8sWRWSk4QNwq1oUciSOwlBoBFIp_ocznoL4plOytl-DnxLvnuZZTru4g0TODkiq1YZc0W7hLhn2GwoUEHx8WJiG4cR9yod4_MRT_vzkiY5cOlm_mcVSIH-iO6gvh_CoPpeY2SClHs_yPq119kOxXwwGI5gHb547H3esjQawHYggUrt42pR4al-Nm1WUCMMFWrrw8s7rl_z9Pzg"}}'
2015-11-04 12:17:25,806:DEBUG:acme.client:Storing nonce: "\xcb\xaf\x8e'\x91\xd1x|\x178\xacq\xc0q\xe1i\x04;-\xea\xf0D\xa1G\xcf\x11j\xa5\xc9S\x80\x1d"
2015-11-04 12:17:25,806:DEBUG:acme.client:Received response <Response [202]> (headers: {'Content-Length': '1087', 'Expires': 'Wed, 04 Nov 2015 12:15:13 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/authz/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU>;rel="up"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:13 GMT', 'Content-Type': 'application/json', 'Replay-Nonce': 'y6-OJ5HReHwXOKxxwHHhaQQ7LerwRKFHzxFqpclTgB0'}): '{"type":"dvsni","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345","token":"hezys4TmJycvOUALYJcvsCjqEuDnher0j_1Kw8jUlGI","validation":{"payload":"eyJ0b2tlbiI6ICJoZXp5czRUbUp5Y3ZPVUFMWUpjdnNDanFFdURuaGVyMGpfMUt3OGpVbEdJIiwgInR5cGUiOiAiZHZzbmkifQ","header":{"alg":"RS256","jwk":{"kty":"RSA","n":"07fTUKJ1khivWNtZHq6wzqbgc9RrBKA7FHc2aOrvOHXNPAd31B_xvJXtpfw36C5XJM2OlYRvItwGBinKu0F0CnShtx3OEjsO3y_DQ5gy1iyjI4bxyKZPLuuBLDrIqVvVBrOj5CDLBz1DwtG5kWYkSFv_QoTZ95hsO92qJu_fplnnd5vU0l6XHU_Iou9Iw-qDFwByhwEcjZ1bjO8Tws70hFjNnhXeUl22nWEfiDlQSs8v1W3IpfUHZ49o-yat-gZM3ukrUFB5J3F1xMqMKTMzleExyRf4Iat7MSPr1Sf_zmlWKA4j1zBt0F4V6uSKY40ECS2IoK8W38WZf6OLC3lUzw","e":"AQAB"}},"signature":"o6NSBp6gUb5VewBMpbLaHIAFA50UUbM3XOABO1blt25zJ30jkk_sToEdMkF0oAjI1LAthJ80COK6A_i2NOm0gY4RJuW8TZBBObaOIP3iSgf72BOh3JNXtDFuc4wHa7GFC3djEB7f8sWRWSk4QNwq1oUciSOwlBoBFIp_ocznoL4plOytl-DnxLvnuZZTru4g0TODkiq1YZc0W7hLhn2GwoUEHx8WJiG4cR9yod4_MRT_vzkiY5cOlm_mcVSIH-iO6gvh_CoPpeY2SClHs_yPq119kOxXwwGI5gHb547H3esjQawHYggUrt42pR4al-Nm1WUCMMFWrrw8s7rl_z9Pzg"}}'
2015-11-04 12:17:28,809:DEBUG:root:Sending GET request to https://acme-v01.api.letsencrypt.org/acme/authz/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU. args: (), kwargs: {}
2015-11-04 12:17:28,811:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org
2015-11-04 12:17:28,925:DEBUG:requests.packages.urllib3.connectionpool:"GET /acme/authz/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU HTTP/1.1" 200 1244
2015-11-04 12:17:28,928:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '1244', 'Expires': 'Wed, 04 Nov 2015 12:15:16 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel="next"', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:16 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': 'H2fdY28lvqtGKOkTRkj5nFEN0N9JAZnQylibVJEZpPc'}. Content: '{"identifier":{"type":"dns","value":"www.marmaladeskies.com"},"status":"invalid","expires":"2015-11-11T12:15:12Z","challenges":[{"type":"simpleHttp","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92344","token":"JbPF3u0EJ67KfyYgcVJDwnKbRefKjfOvG8QnBgskekw","tls":true},{"type":"dvsni","status":"invalid","error":{"type":"urn:acme:error:unauthorized","detail":"Correct zName not found for TLS SNI challenge"},"uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345","token":"hezys4TmJycvOUALYJcvsCjqEuDnher0j_1Kw8jUlGI","validationRecord":[{"hostname":"www.marmaladeskies.com","port":"443","addressesResolved":["54.83.201.192","23.21.97.172"],"addressUsed":"54.83.201.192"}]},{"type":"http-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92346","token":"rYg6oQ_KSfxINCGoNUUqcEvA68j_ejgL7L7Flwb1qJI"},{"type":"tls-sni-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92347","token":"0TIJCInBWHJgNWeBTrVHo7sq11e7Lwn7PFFDbwzs-jI"}],"combinations":[[0],[1],[2],[3]]}'
2015-11-04 12:17:28,928:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '1244', 'Expires': 'Wed, 04 Nov 2015 12:15:16 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel="next"', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Wed, 04 Nov 2015 12:15:16 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': 'H2fdY28lvqtGKOkTRkj5nFEN0N9JAZnQylibVJEZpPc'}): '{"identifier":{"type":"dns","value":"www.marmaladeskies.com"},"status":"invalid","expires":"2015-11-11T12:15:12Z","challenges":[{"type":"simpleHttp","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92344","token":"JbPF3u0EJ67KfyYgcVJDwnKbRefKjfOvG8QnBgskekw","tls":true},{"type":"dvsni","status":"invalid","error":{"type":"urn:acme:error:unauthorized","detail":"Correct zName not found for TLS SNI challenge"},"uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92345","token":"hezys4TmJycvOUALYJcvsCjqEuDnher0j_1Kw8jUlGI","validationRecord":[{"hostname":"www.marmaladeskies.com","port":"443","addressesResolved":["54.83.201.192","23.21.97.172"],"addressUsed":"54.83.201.192"}]},{"type":"http-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92346","token":"rYg6oQ_KSfxINCGoNUUqcEvA68j_ejgL7L7Flwb1qJI"},{"type":"tls-sni-01","status":"pending","uri":"https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92347","token":"0TIJCInBWHJgNWeBTrVHo7sq11e7Lwn7PFFDbwzs-jI"}],"combinations":[[0],[1],[2],[3]]}'
2015-11-04 12:17:28,929:DEBUG:acme.challenges:simpleHttp was not recognized, full message: {u'status': u'pending', u'tls': True, u'token': u'JbPF3u0EJ67KfyYgcVJDwnKbRefKjfOvG8QnBgskekw', u'type': u'simpleHttp', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92344'}
2015-11-04 12:17:28,930:DEBUG:acme.challenges:tls-sni-01 was not recognized, full message: {u'status': u'pending', u'token': u'0TIJCInBWHJgNWeBTrVHo7sq11e7Lwn7PFFDbwzs-jI', u'type': u'tls-sni-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/iEuPdMCV_EQaWNm7BrYUPv5bZOB0EHntUk7SlL155xU/92347'}
2015-11-04 12:17:28,930:INFO:letsencrypt.reporter:Reporting to user: The following 'unauthorized' errors were reported by the server:

Domains: www.marmaladeskies.com
Error: The client lacks sufficient authorization

To fix these errors, please make sure that your domain name was entered correctly and the DNS A record(s) for that domain contain(s) the right IP address.
2015-11-04 12:17:28,931:INFO:letsencrypt.auth_handler:Cleaning up challenges
2015-11-04 12:17:28,931:DEBUG:letsencrypt.plugins.standalone:Stopping server at 0.0.0.0:443...
2015-11-04 12:17:29,129:DEBUG:letsencrypt.cli:Exiting abnormally:
Traceback (most recent call last):
  File "/root/.local/share/letsencrypt/bin/letsencrypt", line 11, in <module>
    sys.exit(main())
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 1138, in main
    return args.func(args, config, plugins)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 490, in obtaincert
    _auth_from_domains(le_client, config, domains, plugins)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py", line 328, in _auth_from_domains
    lineage = le_client.obtain_and_enroll_certificate(domains, plugins)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py", line 229, in obtain_and_enroll_certificate
    certr, chain, key, _ = self.obtain_certificate(domains)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py", line 212, in obtain_certificate
    return self._obtain_certificate(domains, csr) + (key, csr)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py", line 170, in _obtain_certificate
    authzr = self.auth_handler.get_authorizations(domains)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/auth_handler.py", line 84, in get_authorizations
    self._respond(cont_resp, dv_resp, best_effort)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/auth_handler.py", line 142, in _respond
    self._poll_challenges(chall_update, best_effort)
  File "/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/auth_handler.py", line 204, in _poll_challenges
    raise errors.FailedChallenges(all_failed_achalls)
FailedChallenges: Failed authorization procedure. www.marmaladeskies.com (dvsni): unauthorized :: The client lacks sufficient authorization :: Correct zName not found for TLS SNI challenge