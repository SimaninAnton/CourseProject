Member
pde commented on 7 Jul 2016
If the user has a config file with complex redirects (eg conditional redirects), it's in general impossible for us to add HTTP -> HTTPS redirects safely. It's even hard to create new vhosts safely, which is necessary in Apache (cf #3210 ). Where possible, we should try to detect the sorts of conditional redirecting logic that create this danger (here's an nginx example; here's an Apache example; but of course these will come in many flavours).
If we detect this sort of conditionality, we should at minimum warn the user before enabling any redirects, or possibly refuse to do it without some sort of override.