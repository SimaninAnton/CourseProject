stevenroose commented on 11 Jun 2018
When trying to use the Docker image in this repo (from Docker Hub), I get the following error:
letsencrypt_1    | Saving debug log to /var/log/letsencrypt/letsencrypt.log
letsencrypt_1    | The following error was encountered:
letsencrypt_1    | [Errno 13] Permission denied: '/etc/letsencrypt/.certbot.lock'
letsencrypt_1    | Either run as root, or set --config-dir, --work-dir, and --logs-dir to writeable paths.
However, both (1) the certbot executable inside the docker is executed as root (this is Docker default), and (2) the config-dir, work-dir and logs-dir are writable. As it's specifically about the /etc/letsencrypt directory, it's mapped to a folder with a rw volume.
1