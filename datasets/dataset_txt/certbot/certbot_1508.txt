cooppor commented on 10 Jan 2017
hardware : banana pi m3
os: raspbian jessie
certbot: lastest from offical site
log
Bootstrapping dependencies for Debian-based OSes...
Hit http://mirrors.ustc.edu.cn jessie InRelease
Hit http://archive.raspberrypi.org jessie InRelease
Hit http://mirrors.ustc.edu.cn jessie/main armhf Packages
Hit http://mirrors.ustc.edu.cn jessie/contrib armhf Packages
Hit http://mirrors.ustc.edu.cn jessie/non-free armhf Packages
Hit http://mirrors.ustc.edu.cn jessie/rpi armhf Packages
Ign http://mirrors.ustc.edu.cn jessie/contrib Translation-en_US
Ign http://mirrors.ustc.edu.cn jessie/contrib Translation-en
Ign http://mirrors.ustc.edu.cn jessie/main Translation-en_US
Ign http://mirrors.ustc.edu.cn jessie/main Translation-en
Ign http://mirrors.ustc.edu.cn jessie/non-free Translation-en_US
Ign http://mirrors.ustc.edu.cn jessie/non-free Translation-en
Ign http://mirrors.ustc.edu.cn jessie/rpi Translation-en_US
Ign http://mirrors.ustc.edu.cn jessie/rpi Translation-en
Hit http://archive.raspberrypi.org jessie/main armhf Packages
Hit http://archive.raspberrypi.org jessie/ui armhf Packages
Ign http://archive.raspberrypi.org jessie/main Translation-en_US
Ign http://archive.raspberrypi.org jessie/main Translation-en
Ign http://archive.raspberrypi.org jessie/ui Translation-en_US
Ign http://archive.raspberrypi.org jessie/ui Translation-en
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
augeas-lenses is already the newest version.
ca-certificates is already the newest version.
dialog is already the newest version.
gcc is already the newest version.
libaugeas0 is already the newest version.
libffi-dev is already the newest version.
libssl-dev is already the newest version.
python is already the newest version.
python-dev is already the newest version.
python-virtualenv is already the newest version.
virtualenv is already the newest version.
The following packages were automatically installed and are no longer required:
  python-chardet python-colorama python-distlib python-html5lib
  python-ndg-httpsclient python-openssl python-pyasn1 python-requests
  python-six python-urllib3 python-wheel
Use 'apt-get autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 46 not upgraded.
Creating virtual environment...
Installing Python packages...
Had a problem while installing Python packages.
Collecting argparse==1.4.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 6))
  Downloading http://mirrors.aliyun.com/pypi/packages/f2/94/3af39d34be01a24a6e65433d19e107099374224905f1e0cc6bbe1fd22a2f/argparse-1.4.0-py2.py3-none-any.whl
Collecting pycparser==2.14 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 12))
  Downloading http://mirrors.aliyun.com/pypi/packages/6d/31/666614af3db0acf377876d48688c5d334b6e493b96d21aa7d332169bee50/pycparser-2.14.tar.gz (223kB)
Collecting cffi==1.4.2 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 15))
  Downloading http://mirrors.aliyun.com/pypi/packages/92/00/c8670a2898ab7121cdac3b59f4307977a86e08a59efd662f6c05200a2f11/cffi-1.4.2.tar.gz (365kB)
Collecting ConfigArgParse==0.10.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 32))
  Downloading http://mirrors.aliyun.com/pypi/packages/d0/b8/8f7689980caa66fc02671f5837dc761e4c7a47c6ca31b3e38b304cbc3e73/ConfigArgParse-0.10.0.tar.gz
Collecting configobj==5.0.6 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 34))
  Downloading http://mirrors.aliyun.com/pypi/packages/64/61/079eb60459c44929e684fa7d9e2fdca403f67d64dd9dbac27296be2e0fab/configobj-5.0.6.tar.gz
Collecting cryptography==1.3.4 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 36))
  Downloading http://mirrors.aliyun.com/pypi/packages/f8/70/d7bd5c9c764732d5876ad34293e1ca55b2305a73ae6fcf1312202d1a798e/cryptography-1.3.4.tar.gz (384kB)
Collecting enum34==1.1.2 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 59))
  Downloading http://mirrors.aliyun.com/pypi/packages/6f/e9/08fd439384b7e3d613e75a6c8236b8e64d90c47d23413493b38d4229a9a5/enum34-1.1.2.tar.gz (46kB)
Collecting funcsigs==0.4 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 62))
  Downloading http://mirrors.aliyun.com/pypi/packages/5e/9f/025d4c92c6a1a94313cdf0813cd76f5700f8e5434fa15165090a6446ae22/funcsigs-0.4-py2.py3-none-any.whl
Collecting idna==2.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 65))
  Downloading http://mirrors.aliyun.com/pypi/packages/7c/75/b566d769455929ee6ab308d8a1c6c5aecc4928e72b25d42dd019c99f7015/idna-2.0-py2.py3-none-any.whl (61kB)
Collecting ipaddress==1.0.16 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 68))
  Downloading http://mirrors.aliyun.com/pypi/packages/23/6a/813ac29a01e4c33c19c2bded98ac3d4266ebbf0bd2c0eb0020e1c969958d/ipaddress-1.0.16-py27-none-any.whl
Collecting linecache2==1.0.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 71))
  Downloading http://mirrors.aliyun.com/pypi/packages/c7/a3/c5da2a44c85bfbb6eebcfc1dde24933f8704441b98fdde6528f4831757a6/linecache2-1.0.0-py2.py3-none-any.whl
Collecting ndg-httpsclient==0.4.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 74))
  Downloading http://mirrors.aliyun.com/pypi/packages/df/a8/e7d70a8dd58c206c57b754fe15e5eb5f302f63fb1bfde5f26a0f5b019557/ndg_httpsclient-0.4.0.tar.gz
Collecting ordereddict==1.1 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 76))
  Downloading http://mirrors.aliyun.com/pypi/packages/53/25/ef88e8e45db141faa9598fbf7ad0062df8f50f881a36ed6a0073e1572126/ordereddict-1.1.tar.gz
Collecting parsedatetime==2.1 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 78))
  Downloading http://mirrors.aliyun.com/pypi/packages/85/1f/13fc06097e516f6259d62cea502b116451321c96e18a9d0fff9da3442e02/parsedatetime-2.1-py2-none-any.whl
Collecting pbr==1.8.1 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 81))
  Downloading http://mirrors.aliyun.com/pypi/packages/fc/37/94af8387babb09796d306b18cf94ee5c70388c875a16d8a88e471500452c/pbr-1.8.1-py2.py3-none-any.whl (89kB)
Collecting pyasn1==0.1.9 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 84))
  Downloading http://mirrors.aliyun.com/pypi/packages/69/be/e8946f7867b84b0e61a613f6fd56f63266190b1a470f945178f7cbc4d0ae/pyasn1-0.1.9-py2.py3-none-any.whl
Collecting pyopenssl==16.0.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 96))
  Downloading http://mirrors.aliyun.com/pypi/packages/b1/4e/54c8995d2de887919272c2b711cd430277ec33e0f7bb88cb564244c102b6/pyOpenSSL-16.0.0-py2.py3-none-any.whl (45kB)
Collecting pyparsing==2.1.8 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 99))
  Downloading http://mirrors.aliyun.com/pypi/packages/85/b9/188515f35f78533b3f82966a2c3f1a71a86df8b801367ee75a77191a861d/pyparsing-2.1.8-py2.py3-none-any.whl (54kB)
Collecting pyRFC3339==1.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 108))
  Downloading http://mirrors.aliyun.com/pypi/packages/9b/0a/decfa17e7707afca17d6e9595ff5c79c1c71c74063ad95576f897ed3a9f1/pyRFC3339-1.0-py2.py3-none-any.whl
Collecting python-augeas==0.5.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 111))
  Downloading http://mirrors.aliyun.com/pypi/packages/41/e6/4b6740cb3e31b82252099994cea751c648b846aa7874343c31d68c2215be/python-augeas-0.5.0.tar.gz (90kB)
Collecting python2-pythondialog==3.3.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 113))
  Downloading http://mirrors.aliyun.com/pypi/packages/25/c7/15337261381193a7add23a2aae61fb9e2e21f42b855072bbb70cab7198cc/python2-pythondialog-3.3.0.tar.bz2 (1.8MB)
Collecting pytz==2015.7 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 116))
  Downloading http://mirrors.aliyun.com/pypi/packages/c0/28/973f0382c803b21734cd7e97e0590928148ee21b1cbe8f7fed8b506204fb/pytz-2015.7-py2.py3-none-any.whl (476kB)
Collecting requests==2.9.1 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 130))
  Downloading http://mirrors.aliyun.com/pypi/packages/b8/f7/3bb4d18c234a8ce7044d5ee2e1082b7d72bf6c550afb8d51ae266dea56f1/requests-2.9.1-py2.py3-none-any.whl (501kB)
Collecting six==1.10.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 133))
  Downloading http://mirrors.aliyun.com/pypi/packages/c8/0a/b6723e1bc4c516cb687841499455a8505b44607ab535be01091c0f24f079/six-1.10.0-py2.py3-none-any.whl
Collecting traceback2==1.4.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 136))
  Downloading http://mirrors.aliyun.com/pypi/packages/17/0a/6ac05a3723017a967193456a2efa0aa9ac4b51456891af1e2353bb9de21e/traceback2-1.4.0-py2.py3-none-any.whl
Collecting unittest2==1.1.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 139))
  Downloading http://mirrors.aliyun.com/pypi/packages/72/20/7f0f433060a962200b7272b8c12ba90ef5b903e218174301d0abfd523813/unittest2-1.1.0-py2.py3-none-any.whl (96kB)
Collecting zope.component==4.2.2 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 142))
  Downloading http://mirrors.aliyun.com/pypi/packages/4c/c4/3f77127c876f49af478e8ea4dc223cda17730bb273c0d1606a4114c64008/zope.component-4.2.2.tar.gz (546kB)
Collecting zope.event==4.1.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 144))
  Downloading http://mirrors.aliyun.com/pypi/packages/0e/87/75e3d62a3506953c2e56d15a150de31e5d92310e87db2c8b102dc01b0b8e/zope.event-4.1.0.tar.gz (476kB)
Collecting zope.interface==4.1.3 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 146))
  Downloading http://mirrors.aliyun.com/pypi/packages/9d/81/2509ca3c6f59080123c1a8a97125eb48414022618cec0e64eb1313727bfe/zope.interface-4.1.3.tar.gz (141kB)
Collecting mock==1.0.1 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 164))
  Downloading http://mirrors.aliyun.com/pypi/packages/15/45/30273ee91feb60dabb8fbb2da7868520525f02cf910279b3047182feed80/mock-1.0.1.zip (861kB)
Collecting letsencrypt==0.7.0 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 167))
  Downloading http://mirrors.aliyun.com/pypi/packages/fd/21/0c6f33829fadec8aca0c1ebb4d6f8101c05899356a58d1b2e506cb77cf18/letsencrypt-0.7.0-py2-none-any.whl
Collecting acme==0.9.3 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 173))
  Downloading http://mirrors.aliyun.com/pypi/packages/9f/f6/c8d2b31b5907386781b3c76a51b59b0378b6e8473d7cdf8e05ebe2b549a7/acme-0.9.3-py2.py3-none-any.whl (95kB)
Collecting certbot==0.9.3 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 176))
  Downloading http://mirrors.aliyun.com/pypi/packages/3a/27/f5f951087a80929012571aaff69e5ffc1e6f42a557ddb086500ff2705ac6/certbot-0.9.3-py2-none-any.whl (219kB)
Collecting certbot-apache==0.9.3 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 179))
  Downloading http://mirrors.aliyun.com/pypi/packages/6b/e7/a9a6c57438b1e947562570ac7d8253098812a652ec859e498f8a2ca3580a/certbot_apache-0.9.3-py2-none-any.whl (123kB)
Collecting certbot-nginx==0.9.3 (from -r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 182))
  Downloading http://mirrors.aliyun.com/pypi/packages/8a/ea/518ea9aa097ebdecf3adaa1cb0ea5fd414af6bb4817dd863eaeafcc34ff6/certbot_nginx-0.9.3-py2-none-any.whl (58kB)
Requirement already satisfied (use --upgrade to upgrade): setuptools>=11.3 in /root/.local/share/letsencrypt/lib/python2.7/site-packages (from cryptography==1.3.4->-r /tmp/tmp.SzHe2r7SY6/letsencrypt-auto-requirements.txt (line 36))
Installing collected packages: argparse, pycparser, cffi, ConfigArgParse, six, configobj, idna, pyasn1, enum34, ipaddress, cryptography, funcsigs, linecache2, pyopenssl, ndg-httpsclient, ordereddict, parsedatetime, pbr, pyparsing, pytz, pyRFC3339, python-augeas, python2-pythondialog, requests, traceback2, unittest2, zope.interface, zope.event, zope.component, mock, acme, certbot, letsencrypt, certbot-apache, certbot-nginx
  Found existing installation: argparse 1.2.1
    Not uninstalling argparse at /usr/lib/python2.7, outside environment /root/.local/share/letsencrypt
  Running setup.py install for pycparser: started
    Running setup.py install for pycparser: finished with status 'done'
  Running setup.py install for cffi: started
    Running setup.py install for cffi: finished with status 'error'
    Complete output from command /root/.local/share/letsencrypt/bin/python2.7 -u -c "import setuptools, tokenize;__file__='/tmp/pip-build-Ok4aNb/cffi/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('
', '
'), __file__, 'exec'))" install --record /tmp/pip-9fJAZL-record/install-record.txt --single-version-externally-managed --compile --install-headers /root/.local/share/letsencrypt/include/site/python2.7/cffi:
    running install
    running build
    running build_py
    creating build
    creating build/lib.linux-armv7l-2.7
    creating build/lib.linux-armv7l-2.7/cffi
    copying cffi/commontypes.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/lock.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/cparser.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/model.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/gc_weakref.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/vengine_gen.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/recompiler.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/__init__.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/cffi_opcode.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/backend_ctypes.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/api.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/setuptools_ext.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/vengine_cpy.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/ffiplatform.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/verifier.py -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/_cffi_include.h -> build/lib.linux-armv7l-2.7/cffi
    copying cffi/parse_c_type.h -> build/lib.linux-armv7l-2.7/cffi
    running build_ext
    building '_cffi_backend' extension
    creating build/temp.linux-armv7l-2.7
    creating build/temp.linux-armv7l-2.7/c
    arm-linux-gnueabihf-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -DUSE__THREAD -I/usr/include/python2.7 -c c/_cffi_backend.c -o build/temp.linux-armv7l-2.7/c/_cffi_backend.o
    c/_cffi_backend.c: In function ‘_testfunc10’:
    c/_cffi_backend.c:5983:1: internal compiler error: Segmentation fault
     }
     ^
    Please submit a full bug report,
    with preprocessed source if appropriate.
    See <file:///usr/share/doc/gcc-4.9/README.Bugs> for instructions.
    Preprocessed source stored into /tmp/ccqpVsE4.out file, please attach this to your bugreport.
    error: command 'arm-linux-gnueabihf-gcc' failed with exit status 1
    
    ----------------------------------------
Command "/root/.local/share/letsencrypt/bin/python2.7 -u -c "import setuptools, tokenize;__file__='/tmp/pip-build-Ok4aNb/cffi/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('
', '
'), __file__, 'exec'))" install --record /tmp/pip-9fJAZL-record/install-record.txt --single-version-externally-managed --compile --install-headers /root/.local/share/letsencrypt/include/site/python2.7/cffi" failed with error code 1 in /tmp/pip-build-Ok4aNb/cffi