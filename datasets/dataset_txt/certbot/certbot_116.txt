Member
bmw commented on 2 Jul 2019
On Windows, many of the values returned in os.stat cannot be trusted. See https://docs.python.org/3/library/os.html#os.stat_result and #7182 (comment). To systematically avoid problems due to this in Certbot, I think we should forbid os.stat in certbot.compat.os and provide alternative implementations in certbot.compat.filesystem. I think probably the easiest way to do this is to provide much simpler functions in certbot,compat.filesystem which only implement the functionality we need from os.stat.
What do you think @adferrand?