myrrlyn commented on 18 Jan 2017
Usage: any invocation of certbot
Installation: sudo pacman -S certbot => /usr/lib/python2.7/site-packages/certbot
Error: An unexpected error occurred: ValueError: max() args is an empty sequence
Traceback: storage.py, line 682, in latest_common_version
Code:
    def latest_common_version(self):
        """Newest version for which all items are available?

        :returns: the newest available version for which all members
            (``cert, ``privkey``, ``chain``, and ``fullchain``) exist
        :rtype: int

        """
        # TODO: this can raise CertStorageError if there is no version overlap
        #       (it should probably return None instead)
        # TODO: this can raise a spurious AttributeError if the current
        #       link for any kind is missing (it should probably return None)
        versions = [self.available_versions(x) for x in ALL_FOUR]
        return max(n for n in versions[0] if all(n in v for v in versions[1:]))
Fix:
        #return max(n for n in versions[0] if all(n in v for v in versions[1:]))
        try:
                return max(n for n in versions[0] if all(n in v for v in versions[1:]))
        except:
                return 1