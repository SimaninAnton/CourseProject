jonasneves commented on 14 Mar 2018 â€¢
edited
If you're having trouble using Certbot and aren't sure you've found a bug or
request for a new feature, please first try asking for help at
https://community.letsencrypt.org/. There is a much larger community there of
people familiar with the project who will be able to more quickly answer your
questions.
My operating system is (include version):
CentOS 6.9
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
pip
I ran this command and it produced this output:
certbot certonly \
  --server https://acme-staging-v02.api.letsencrypt.org/directory
  -n --agree-tos --email DEVOPS@COMPANY.COM \
  --dns-route53 \
  -d MY.DOMAIN.NAME,*.MY.DOMAIN.NAME
The certificate is created successfully but only including the root domain, and ignoring the wildcard record
Certbot's behavior differed from what I expected because:
Apparently the DNS challenge is creating the TXT record only for the root domain, ignoring the wildcard record
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring: