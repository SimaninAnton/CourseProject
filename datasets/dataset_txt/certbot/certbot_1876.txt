Contributor
jsha commented on 9 Aug 2016
Right now the log rotation scheme hardcodes retention of 10 logs, with no provision to configure more. We should either:
Add a flag for log retention duration, or
Remove custom log rotation
I prefer (2), because it allows the normal OS logrotate mechanism to work. I recently had this issue on a test machine where I configured logrotate so it would preserve logs for longer. This appeared to work, since I had a large number of logs in /var/log/letsencrypt. However, some logs were getting removed by certbot's auto-removal before logrotate had a chance to preserve them. I believe that it's always the case that certbot's log rotation + logrotate will lose at least one log with every run of certbot, in the steady state.