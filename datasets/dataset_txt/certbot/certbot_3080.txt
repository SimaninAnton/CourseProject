josch commented on 4 Nov 2015
Hi,
this is an idea of how to fix issue #1015. It would be useful in situations where letsencrypt cannot be run on the server in question. A new commandline option --manual-pipecmd would receive an argument like:
'ssh myserver "cat > /tmp/letsencrypt/public_html/%TOKENPATH%"'
When executing letsencrypt --authenticator manual with above value for the --manual-pipecmd option, the manual plugin could first replace the placeholder %TOKENPATH% by the desired path to the token (like .well-known/acme-challenge/XXXXXXXX) and then execute this command and pass the content of the token into its standard input.
This way, the user would be able to forge whatever program they need to copy the token into the right remote location on their webserver where they use whatever method they desire to serve its content.
Together with the fix for issue #1125 this would allow complete automation of the certification process without running letsencrypt on the server while at the same time allowing any possible server setup.