francoism90 commented on 28 Nov 2017 â€¢
edited
My operating system is (include version):
Arch Linux 4.13
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
Package manager
I ran this command and it produced this output:
certbot --nginx
Certbot's behavior differed from what I expected because:
Yes, on the second question it ask to rewrite the config files. Although it does only state to rewrite configs for redirection, I would like to see an option that doesn't edit the configs at all and/or restores them to state before running certbot --nginx (if possible).
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
server {
   server_name example.com;
   include conf.d/*.conf; // this already includes the certbot main config (ssl_certificate, ssl_certificate_key, options-ssl-nginx.conf, ssl-dhparams.pem - so it should not be added again.
 ..
}
Thanks!