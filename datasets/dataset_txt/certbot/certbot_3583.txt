Contributor
schoen commented on 27 Mar 2015
We've talked about this a bit. We sometimes want to tell the user about things that have happened that relate to a certificate: for example, the fact that it's about to expire, will be renewed automatically, has been renewed automatically, will be installed automatically, has been installed automatically, has been revoked, could not be renewed, or could not be installed.
@pde suggested not using the recovery contact information to send such notifications from the CA side, but I don't think we've definitively decided whether the CA side can ever send automated e-mail to anyone about certificates. The client can definitely try, and it will definitely try, but it's in a worse position in terms of likelihood of success: it may not be able to send mail to root@localhost at all, and even if it does so, there may be no one reading that e-mail!
What's the best way to handle all of these things? I wanted to wrap /usr/sbin/sendmail (haven't found a convenient and maintained library for doing so); is speaking SMTP to localhost:25 (say via Python's smtplib) as likely to work, more likely to work, or less likely to work?
Should we default to trying to e-mail webmaster@example.com on top of root@localhost? Or webmaster@localhost? (We can have an optional configuration file parameter for e-mail addresses to notify, but I don't expect it to be prompted for during the original cert deployment process, and most people won't have set it subsequently.)