nhathaway commented on 2 Apr 2017
My operating system is (include version):
Ubuntu 14.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
certbot-auto
I ran this command and it produced this output:
/usr/local/sbin/certbot-auto renew --post-hook=/etc/letsencrypt/renew-hook.sh --allow-subset-of-names
Processing /etc/letsencrypt/renewal/XXXXX.com.conf
Cert is due for renewal, auto-renewing...
Renewing an existing certificate
Performing the following challenges:
tls-sni-01 challenge for XXXXX.com
tls-sni-01 challenge for mail.XXXXX.com
tls-sni-01 challenge for www.XXXXX.com
Cleaning up challenges
Attempting to renew cert from /etc/letsencrypt/renewal/XXXXX.com.conf produced an unexpected error: Cannot find a VirtualHost matching domain mail.XXXXX.com.. Skipping.
Certbot's behavior differed from what I expected because:
I expected it to ignore the fact that mail.XXXXX.com is not served using nginx and to renew anyway. I used certbot-auto to set up this arrangement without error, so surely it should renew without error?
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.