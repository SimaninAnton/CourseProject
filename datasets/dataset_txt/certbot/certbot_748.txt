Contributor
eicksl commented on 6 Feb 2018
My operating system is (include version):
Ubuntu 16.04
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
OS package manager
I ran this command and it produced this output:
See below.
Certbot's behavior differed from what I expected because:
mod_ssl and the default-ssl vhost are enabled. No errors were displayed while creating the cert, yet when I try to access the domain via HTTPS it times out. Checking on https://www.ssllabs.com/ssltest I get:
"Unable to connect to server - failed to connect to the server, it usually happens due to firewall restrictions"
Ports 80 and 443 are open for incoming and outgoing connections.
Apache2's access.log also does not contain any connection attempts for HTTPS.
Here is a Certbot log showing the issue (if available):
Logs are stored in /var/log/letsencrypt by default. Feel free to redact domains, e-mail and IP addresses as you see fit.
No log seems to be available for the correct date.
Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:
<VirtualHost *:443>
 ServerName aevasun.com
 DocumentRoot /var/www/Portfolio-Webpage
 ErrorLog ${APACHE_LOG_DIR}/error.log
 CustomLog ${APACHE_LOG_DIR}/access.log combined
Include /etc/letsencrypt/options-ssl-apache.conf
Include /etc/letsencrypt/options-ssl-apache.conf
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateFile /etc/letsencrypt/live/aevasun.com/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/aevasun.com/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
<IfModule mod_ssl.c>
<VirtualHost *>
 ServerName aevasun.com
 DocumentRoot /var/www/Portfolio-Webpage
 ErrorLog ${APACHE_LOG_DIR}/error.log
 CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
</IfModule>```