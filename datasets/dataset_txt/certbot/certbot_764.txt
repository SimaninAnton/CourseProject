schlpr0k-r7 commented on 29 Jan 2018
Not sure if this is the correct place for this. Just leaving it here for your review and in case someone has the same issue.
My operating system is (include version):
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=16.04
DISTRIB_CODENAME=xenial
DISTRIB_DESCRIPTION="Ubuntu 16.04.3 LTS"
Linux [hostname_redacted] 4.4.0-112-generic #135-Ubuntu SMP Fri Jan 19 11:48:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux
I installed Certbot with (certbot-auto, OS package manager, pip, etc):
Used instructions on "https://certbot.eff.org/#ubuntuxenial-nginx"
$ sudo apt update
$ sudo apt install software-properties-common
$ sudo add-apt-repository ppa:certbot/certbot
$ sudo apt update
$ sudo apt install python-certbot-nginx
I ran this command and it produced this output:
certbot --help <--Just an example, but it through a dependency error explicitly looking for certbot==0.19.0. Installed version was 0.21.1.
WORKAROUND
Modified file, "/usr/bin/certbot" lines 3 and 11, to ignore hard coded certbot version 0.19.0 with 'certbot>=0.19.0' to allow version 0.19.0 and above.
Manually configured Nginx based on: https://www.youtube.com/watch?v=m9aa7xqX67c&list=LLMc_sj86mAnw8hN7_LzilFA <--Specifically starting from Step4 at 3:31 into the video until Step 6.
Made a simple bash script to execute 'certbot certificates' & 'certbot renew' and log/tee the output. Used this for cron job to autorenew certificate every other week.