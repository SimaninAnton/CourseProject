Contributor
jsha commented on 21 May 2015
For integration tests between the client and server, I'd like a fully command-line invocation of the client that uses the standalone authenticator and outputs a certificate to a file, without trying to configure a web server. It should also be able to run as non-root by binding to port 5001 instead of 443, and accept an HTTP URL for its Boulder instance.
This is the closest I was able to get, but this still wants to touch some of the web server files, and errors out:
D=mktemp -d; chmod 0755 $D ; letsencrypt --key-dir $D --work-dir $D --cert-dir $D --config-dir $D --backup-dir $D --cert-path $D/cert.pem --chain-path $D/chain.pem --nginx-mod-ssl-conf $D/nginx.conf -i apache -e -m foo@bar.com -d bar.com -s localhost:4000/acme/new-reg -v -t run