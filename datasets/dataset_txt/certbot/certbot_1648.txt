Contributor
jpluimers commented on 8 Nov 2016
For some if my configurations I want the SSL/TLS Apache config files to be very different from the plain HTTP ones.
The trick at #1266 (comment) to specify placeholders
    SSLEngine on
    SSLCertificateFile    /etc/ssl/certs/ssl-cert-snakeoil.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
Has stopped working as you now get an error loke this:
# ./certbot-auto install --noninteractive --apache --domains deadlockempire.4delphi.com --cert-path /etc/letsencrypt/live/deadlockempire.4delphi.com/fullchain.pem --fullchain-path /etc/letsencrypt/live/deadlockempire.4delphi.com/fullchain.pem --key-path /etc/letsencrypt/live/deadlockempire.4delphi.com/privkey.pem
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Error while running apache2ctl configtest.

AH00526: Syntax error on line 45 of /etc/apache2/vhosts.d/deadlockempire.4delphi.com-ssl.conf:
SSLCertificateFile: file '/etc/ssl/certs/ssl-cert-snakeoil.pem' does not exist or is empty

The apache plugin is not working; there may be problems with your existing configuration.
The error was: MisconfigurationError("Error while running apache2ctl configtest.\n\nAH00526: Syntax error on line 45 of /etc/apache2/vhosts.d/deadlockempire.4delphi.com-ssl.conf:\nSSLCertificateFile: file '/etc/ssl/certs/ssl-cert-snakeoil.pem' does not exist or is empty\n",)
This is a bit of an issue as now there seems to be a chicken-and-egg problem:
at the time of generating those SSL/VHOST files you do not know the exact certificate locations
certbot needs to have valid certificate locations in order to insert its own locations
What would be a good way to work around this?
--jeroen