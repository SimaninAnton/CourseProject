CanadianJeff commented on 6 Jun 2019 â€¢
edited
I use cPanel/WHM and ran certbot. All my certs installed and are working
I confirmed with sudo apachectl -S
certbot-auto put Include conf/httpd-le-ssl.conf in conf/httpd.conf however if on a cPanel server you run /scripts/rebuildhttpdconf the Include gets wiped out causing hours of frustration they suggest you put your Include statements in conf.d/includes/pre_main_global.conf so I did this on my server and it works perfectly
My pre_main_global.conf looks like this
# Supplemental configuration
#
# The configuration files in the conf/extra/ directory can be 
# included to add extra features or to modify the default configuration of 
# the server, or you may simply copy their contents here and change as 
# necessary.

# Server-pool management (MPM specific)
#Include conf/extra/httpd-mpm.conf

# Multi-language error messages
#Include conf/extra/httpd-multilang-errordoc.conf

# Fancy directory listings
#Include conf/extra/httpd-autoindex.conf

# Language settings
#Include conf/extra/httpd-languages.conf

# User home directories
#Include conf/extra/httpd-userdir.conf

# Real-time info on requests and configuration
#Include conf/extra/httpd-info.conf

# Virtual hosts
#Include conf/extra/httpd-vhosts.conf

# Local access to the Apache HTTP Server Manual
#Include conf/extra/httpd-manual.conf

# Distributed authoring and versioning (WebDAV)
#Include conf/extra/httpd-dav.conf

# Various default settings
#Include conf/extra/httpd-default.conf

# Secure (SSL/TLS) connections
# Listen for virtual host requests on all IP addresses
#NameVirtualHost *:443

# Go ahead and accept connections for these vhosts
# from non-SNI clients
#SSLStrictSNIVHostCheck off
Include conf/httpd-le-ssl.conf
#Include conf/extra/httpd-ssl.conf
#
# Note: The following must must be present to support
#       starting without SSL on platforms with no /dev/random equivalent
#       but a statically compiled-in mod_ssl.
#