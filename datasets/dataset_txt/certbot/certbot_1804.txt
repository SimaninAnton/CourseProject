Member
bmw commented on 17 Sep 2016
NGINX server block treatment sync
Installing certificates
If >= 1 matching sslish block, add cert info to all matching sslish blocks
Else if >= 1 matching non-sslish block, make all matching non-sslish blocks sslish, and add cert info
For 0.9.0, if there are no matching blocks, error out and say “sorry you need to give me a relevant server block before I can install a cert for you”.
Redirect enhancement
At redirect time, there will be at least one matching sslish block.
If there are only matching sslish blocks, add listen on 80 and if statement redirect to all matching sslish blocks.
Else if there are both matching sslish and matching plaintextish blocks, add the if statement redirect to all matching plaintextish blocks.