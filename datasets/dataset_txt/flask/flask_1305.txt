ClodoaldoPinto commented on 26 Jan 2014
According to the jQuery-File-Upload docs Iframe based uploads require a Content-type of text/plain or text/html for the JSON response
So I can't use jsonify as it sets the response mime type to application/json and must use code like this
resp = make_response(json.dumps({'error': 'File too big'}))
if request.headers.get('Accept', '').find('application/json') > -1:
    resp.mimetype = 'application/json'
else:
    resp.mimetype = 'text/plain'
return resp
In instead of
return jsonify({'error': 'File too big'})
Am I missing something? How clueless would I be if I were to suggest adding some option to jsonify to customize the response mime type depending on the requested mime type?