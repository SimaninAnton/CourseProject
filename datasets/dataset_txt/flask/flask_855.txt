wrr commented on 18 Apr 2016
If cookie has no domain attribute, it is valid only for the exact domain to which the request that sets the cookie is addressed, this is often a desirable behavior. A domain attribute makes the cookie also valid for all sub-domains of the specified domain.
Looking at
flask/flask/sessions.py
Line 198 in c9b29f4
 def get_cookie_domain(self, app): 
if SERVER_NAME is set, a cookie will always have a domain attribute (either explicitly set via SESSION_COOKIE_DOMAIN or inferred from the SERVER_NAME).
Would it be possible to allow setting cookies without a domain when SERVER_NAME is set?