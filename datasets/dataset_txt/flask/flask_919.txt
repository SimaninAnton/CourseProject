johaven commented on 29 Dec 2015
Hello, i use requests to send large file like that:
def gen():
    with open(localpath, 'rb') as f:
        while True:
            print 'data'
            data = f.read(1024)
            if not data:
                break
            yield data
r = self.session.post(url, data=gen(), allow_redirects=False, params=params)
On the Flask side i get that:
with open(ftmp, 'ab') as handle:
    handle.write(request.stream.read())
But no content is writed and i get response 400.
This is my request headers:
Transfer-Encoding: chunked
Content-Length:
User-Agent: python-requests/2.8.1
Connection: keep-alive
Host: 127.0.0.1:5000
Accept: /
Content-Type:
Accept-Encoding: gzip, deflate