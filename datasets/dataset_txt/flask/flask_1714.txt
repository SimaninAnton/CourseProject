sublee commented on 25 Aug 2010
Version: 0.7dev
First, I supposed that the domain is "mydomain.org".
source tree:
mywebsite
__init__.py
mywww
__init__.py
static
test.txt
static
test.txt
mywebsite/init.py:
from flask import Flask
import mywww
app = Flask(__name__)
app.config["SERVER_NAME"] = "mydomain.org"
app.register_module(mywww.app)
mywebsite/static/test.txt:
Failure...
mywebsite/mywww/init.py:
from flask import Module
app = Module(__name__) # This module hasn't a subdomain.
                       # It should route "http://mydomain.org/" not "http://sub.mydomain.org/"
@app.route("/")
def index():
    return "ok", 200
mywebsite/mywww/static/test.txt:
Success!
While running this application, a result of http://mydomain.org/ is ok. Yes, it's expected. But a result of http://mydomain.org/static/test.txt is Failure.... It is routed mywebsite/static/test.txt, not mywebsite/mywww/static/test.txt. It is not expected.
If mywww has a subdomain, there is no problem.
app = Module(__name__, subdomain="sub")
http://sub.mydomain.org/static/test.txt puts Success!.