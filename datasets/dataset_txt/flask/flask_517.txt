evanmiltenburg commented on 25 Oct 2017 â€¢
edited
Expected Behavior
I'm trying to embed an audio player in my Flask website. Here's the relevant part of my index.html:
<audio controls>
<source src="/static/{{audio_file}}" type="audio/wav">
Your browser does not support the audio element.
</audio>
This works well in Firefox, but not in Safari.
Actual Behavior
Safari does show the audio controls, but the audio doesn't load.
I can download the file in Safari if I right-click the audio player.
'Open audio in new window' gives me a window with the 'play' button with a line struck through, indicating that Safari cannot play the file.
What's frustrating is that the exact same HTML (replacing {{audio_file}} with the actual filename) does work in Safari when I'm not using Flask (i.e. just opening static html in Safari). So something inside Flask keeps the audio from working.
I just tried a different file type (mp3, using house_lo.mp3 copied from the pygame examples), and that works fine in Safari. So the problem only occurs when using .wav files. mp3 could solve the problem for me (just convert everything), but it's not ideal.
<audio controls>
<source src="/static/house_lo.mp3" type="audio/mp3">
Your browser does not support the audio element.
</audio>
Environment
Python version: 3.6.1 , Anaconda, OS X Sierra
Flask version: 0.12
Werkzeug version: 0.11.15
I've posted this issue on StackOverflow as well.