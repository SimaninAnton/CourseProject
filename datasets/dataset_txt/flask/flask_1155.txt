danieldiekmeier commented on 5 Nov 2014
Hey,
this may be a bit specific, but I hope there is a way to solve this, and I'm just unable to work it out.
So, my setup is like this:
My Flask-App is running on 127.0.0.1:5000, SERVER_NAME is set to blickpunkt.dev:5000, blickpunkt.dev is an entry in my hosts-File, it just translates to 127.0.0.1
I'm running BrowserSync with the proxy setting set to blickpunkt.dev:5000, and I can open the browser to localhost:3000 to see everything.
This mostly works. I can see the site, I can click on most links.
Except: When I'm using redirect(url_for('some_view')), it redirects me to localhost:3000:5000/some_view. This is absurd. I looked into the response I was getting from the redirect, but the port isn't even in there. It seems to me that it should just redirect to /some_view, but it somehow puts the port the app is running on in there. If I remove the second port from the url, it works again, of course.
Can I fix this behaviour? How can I fix it?