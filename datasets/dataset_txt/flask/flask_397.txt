Wingoom commented on 23 Apr 2018 •
edited
I saved a sklearn model by joblib.load()。
    model = RandomForestClassifier(n_estimators=100)
    model.fit(feature_train, target_train)
    joblib.dump(model, "%s/%s" % (model_path,"RandomForest.pkl"))
And I want to load the model through sending a request。
@app.route('/getClassification/',methods=['GET','POST'])
def classify():
    load_model = joblib.load( "%s/%s" % (model_path,"RandomForest.pkl"))
    return  "test"
try:
    reponse = requests.post(monitor_url, data=params, timeout=60)
    print reponse.content
except Exception, e:
    print e
But the request never responded until it Read timed out。
I dont save a sklearn model ，instead I save a string for testing。
joblib.dump("111222", "%s/%s" % (model_path,"RandomForest.pkl"))
It loaded successfully。
If I load the model alone，no use request for Flask，It can also load successfully.
Why can not load a sklearn model by the request for Flask
Environment
Python version: 2.7.14
Flask version:0.12.2