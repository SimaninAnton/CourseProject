hongy19 commented on 13 Jan 2016
I have a small Flask program which serves static file by itself instead of nginx. I want to change cache time for png file by get_send_max_age function. It works in Flask class, but it doesn't work if I implement it in blueprint.
Python 3.5
Flask 0.10.1
Werkzeug 0.11.2
Flask implementation
class MyFlask(Flask):
    def get_send_file_max_age(self,name):
        print("my function works")
        print(name)
        if name.lower().endswith('.png'):
            return 0
        else:
            return Flask.get_send_file_max_age(self,name)
app = MyFlask(__name__)
Blueprint implementation
class MyBlueprint(Blueprint):
    def get_send_file_max_age(self,name):
        print("my function works")
        print(name)
        if name.lower().endswith('.png'):
            return 0
        else:
            return Blueprint.get_send_file_max_age(self,name)
test = MyBlueprint('test',__name__)