hartwork commented on 26 Oct 2016
Hi!
One of my machines has Git configured to fsck objects on transfer. On the Flask repository, it errors with:
error: object 0b404df8c030cdeaca7b373956c3a697efd32f78: zeroPaddedFilemode: contains zero-padded file modes.
Without fsck, cloning works fine.
To reproduce:
$ git clone https://github.com/pallets/flask.git
Cloning into 'flask'...
remote: Counting objects: 12684, done.
remote: Compressing objects: 100% (4/4), done.
remote: Total 12684 (delta 0), reused 0 (delta 0), pack-reused 12680
Receiving objects: 100% (12684/12684), 3.56 MiB | 4.44 MiB/s, done.
Resolving deltas: 100% (8794/8794), done.

$ rm -Rf flask/

$ git config --global transfer.fsckobjects true

$ cat ~/.gitconfig 
[transfer]
        fsckobjects = true

$ git clone https://github.com/pallets/flask.git
Cloning into 'flask'...
remote: Counting objects: 12684, done.
remote: Compressing objects: 100% (4/4), done.
error: object 0b404df8c030cdeaca7b373956c3a697efd32f78: zeroPaddedFilemode: contains zero-padded file modes
fatal: Error in object
fatal: index-pack failed

# git --version
git version 2.10.1
I'd be curious if you can reproduce it or if this is a bug in Git or something.