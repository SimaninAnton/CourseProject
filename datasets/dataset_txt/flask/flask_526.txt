silver2row commented on 9 Oct 2017 â€¢
edited
Hello,
I have an issue. I am basically reading out of a book. I run a Debian Distro kernel 4.4.x on a beagleBone Black Wireless.
I am using Adafruit_BBIO for software to hardware connections. Adafruit_BBIO is basically a Rasp. Pi build for the BBB with PWM, i2c, UART, ADC, and others.
Expected Behavior of the Program:
This software runs a Flask app to allow me to know when, while online via 192.168.7.2:5000, someone has opened my door and for how long. I have followed some directions out of a book I purchased.
There is also a LED that should allow for dimming and brightening via Web address and a numerical value of that address.
from flask import Flask, render_template
app = Flask(__name__)
import Adafruit_BBIO.GPIO as GPIO
import Adafruit_BBIO.PWM as PWM

PWM.start("P8_13", 0.0)

@app.route("/")
def hello():
    if GPIO.input(P8_11):
        doorStatus = "open"
    else:
        doorStatus = "closed"
    templateData = {
        'doorStatus': doorStatus,
    }
    return render_template('main-door.html', **templateData)

@app.route('/ledLevel/<level>')
def pin_state(level):
    PWM.set_duty_cycle("P8_13", float(level))
    return "LED level set to " + "."

if __name__ == "__main__":
    app.run(host='192.168.7.2', port=5000, debug=True)
I get an error code.
Exception in thread Thread-1 (most likely raised during interpreter shutdown):
Traceback (most recent call last):
  File "/usr/lib/python2.7/threading.py", line 801, in __bootstrap_inner
  File "/usr/lib/python2.7/threading.py", line 754, in run
  File "/usr/local/lib/python2.7/dist-packages/werkzeug/serving.py", line 702, in inner
  File "/usr/local/lib/python2.7/dist-packages/werkzeug/serving.py", line 539, in serve_forever
  File "/usr/lib/python2.7/SocketServer.py", line 236, in serve_forever
  File "/usr/lib/python2.7/threading.py", line 585, in set
  File "/usr/lib/python2.7/threading.py", line 407, in notifyAll
<type 'exceptions.TypeError'>: 'NoneType' object is not callable
Environment
Python version: 2.7.13
Flask version: 0.12.2
Werkzeug version: I cannot find what version is located on my system. I did find this when trying to sudo pip install flask: Werkzeug>=0.7
Seth
P.S. If you have time to review all this mess, please let me know. If you want me to look up items, please direct me. Thank you again for any support.