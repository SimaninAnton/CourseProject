joeflack4 commented on 25 Apr 2016 â€¢
edited by ThiefMaster
An error is occurring when I try to flash a message with too many characters. In my case, that number is 91,326.
if authority == True:
    rows = validate_rows(import_data, data_context)
    erroneous_rows = rows['erroneous_rows']

    if len(erroneous_rows) > 0:
        erroneous_row_string = ''
        i = 1

        # - DEBUGGING
        flash(2)

        for erroneous_row in erroneous_rows:
            erroneous_row_string += '<span style="text-decoration: underline">Row ' + str(i) + ': ' + \
                str(erroneous_row['errors']) + '</span><br/>' + str(erroneous_row['row_data']) + '<br/><br/>'
            i += 1
        erroneous_row_string = erroneous_row_string[:-1]

        # - DEBUGGING
        # flash(erroneous_row_string) <--- If I do this, it appears to 'crash' flash(), and no messages will appear.
        flash(isinstance(erroneous_row_string, str))
        flash(len(erroneous_row_string))
        flash(3)`
When the above is executed, I get the screen below.
If I were to do flash(erroneous_row_string) instead of flash(len(erroneous_row_string), no flashed messages will appear at all. Assuming that this is because there is an upper limit to # of characters a flash message can have.
This makes sense, but it would be nice to return a non-silent error, I think.