nyctef commented on 6 Jun 2013
On a clean virtualenv with python 3.3.1 and latest versions of werkzeug/flask from git, then running this:
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
   return 'Hello World!'

if __name__ == '__main__':
    app.run(debug=True)
produces this:
(newenv) C:\Users\nyctef\testenv>python test.py
 * Running on http://127.0.0.1:5000/
 * Restarting with reloader
Traceback (most recent call last):
  File "test.py", line 9, in <module>
    app.run(debug=True)
  File "C:\Users\nyctef\testenv\newenv\lib\site-packages\flask-0.10_dev_20130605-py3.3.egg\flask\app.py", line 761, in run
    run_simple(host, port, self, **options)
  File "C:\Users\nyctef\testenv\newenv\lib\site-packages\werkzeug-0.9_devdev_20130605-py3.3.egg\werkzeug\serving.py", line 704, in run_simple
    run_with_reloader(inner, extra_files, reloader_interval)
  File "C:\Users\nyctef\testenv\newenv\lib\site-packages\werkzeug-0.9_devdev_20130605-py3.3.egg\werkzeug\serving.py", line 613, in run_with_reloader
    sys.exit(restart_with_reloader())
  File "C:\Users\nyctef\testenv\newenv\lib\site-packages\werkzeug-0.9_devdev_20130605-py3.3.egg\werkzeug\serving.py", line 597, in restart_with_reloader
    exit_code = subprocess.call(args, env=new_environ)
  File "C:\Python33\Lib\subprocess.py", line 520, in call
    with Popen(*popenargs, **kwargs) as p:
  File "C:\Python33\Lib\subprocess.py", line 820, in __init__
    restore_signals, start_new_session)
  File "C:\Python33\Lib\subprocess.py", line 1106, in _execute_child
    startupinfo)
TypeError: environment can only contain strings
Removing debug=True makes it work, but having debug mode would be nice :)