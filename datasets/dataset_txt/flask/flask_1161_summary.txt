teardown_{request,appcontext} not called on first request if it throws an exception when DEBUG is True