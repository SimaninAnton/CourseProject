sirn commented on 7 Jul 2010
When app.yaml has static_dir point to Flask application's static/ directory, os.path.exists will always return False and thus causing _PackageBoundObject.has_static_dir to return False making static URL rule not being added at initialization.
Example:
app.yaml
application: demo
version: 1
runtime: python
api_version: 1

handlers:
- url: /static
  static_dir: static

- url: /.*
  script: app.py
app.py
from google.appengine.ext.webapp.util import run_wsgi_app
from flask import Flask
app = Flask(__name__)

@app.route('/')
def demo():
    return str(app.has_static_folder)

def main():
    run_wsgi_app(app)

if __name__ == '__main__':
    main()
This will return False but will return True once I comment out the static handler. Current workaround is to add static rule myself, using app.add_url_rule(app.static_path + '/<path:filename>', endpoint='static') of sort. It would be nice of Flask detects GAE and add the static path anyway.