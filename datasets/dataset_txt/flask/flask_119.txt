brycefisher commented on 11 Jun 2019 â€¢
edited
This issue tracker is a tool to address bugs in Flask itself.
Please use the #pocoo IRC channel on freenode or Stack Overflow for general
questions about using Flask or issues not related to Flask.
If you'd like to report a bug in Flask, fill out the template below. Provide
any extra information that may be useful / related to your problem.
Ideally, create an MCVE, which helps us
understand the problem and helps check that it is not caused by something in
your code.
Expected Behavior
A barebones Flask app run by coverage.py and hit by curl should produce a .coverage data file to measure code coverage.
Tell us what should happen.
# hello.py
from flask import Flask
app = Flask(__name__)


@app.route("/")
def hello():
    return "Hello World!"
export FLASK_APP=hello.py
coverage run \
              --parallel-mode \
              -m flask run &> /tmp/flask.log &
curl http://127.0.0.1:5000/
jobs -p | xargs # kill the coverage.py / flask process so report will be written
coverage xml
See recent run in CircleCI
https://circleci.com/gh/brycefisher/coveragepy-flask
Actual Behavior
No .coverage data was produced.
Environment
Python version: 3.7.0
Flask version: 1.0.2
Werkzeug version: ??? -- will find!
Corresponding issue in coverage.py project:
nedbat/coveragepy#810