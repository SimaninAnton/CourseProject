Contributor
davebarkerxyz commented on 12 Jun 2016
When enabling debug mode via app.run(debug=True), code changes result in an auto-reload but Jinja templates are cached until the app is manually is restarted.
At
flask/flask/app.py
Line 695 in 21d595b
 if self.config['TEMPLATES_AUTO_RELOAD'] is not None: 
Flask checks if the config["TEMPLATE_AUTO_RELOAD"] is explicitly set. If not, Jinja's options["auto_reload"] is set to app.debug.
However, if you instantiate your Flask object then call app.run(debug=True) without loading a config, template auto reloading is not enabled (app.debug was False when the Flask app was instantiated).
At
flask/flask/app.py
Line 839 in 21d595b
 options.setdefault('use_reloader', self.debug) 
we enable reloading code and enable the debugger. My proposed fix would be to also enable template reloading (jinja_env.auto_reload = self.debug) here.
This would result is less confusion ("Debug is enabled but my templates don't auto reload") and make the template reloading behaviour consistent with the code reloading behaviour ("If no config is set or debug is not explicitly set in config, and the site calls app.run(debug=True), then enable the relevant auto reloading features").
18
1