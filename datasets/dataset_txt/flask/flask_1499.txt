tomekwojcik commented on 20 Jul 2012
Look at the code below:
# -*- coding: utf-8 -*-

from flask import Flask, Blueprint

app = Flask(__name__)
app.config.DEBUG = True
#app.url_map.default_subdomain = 'www'

www = Blueprint('www', 'www', subdomain='www')
sub = Blueprint('sub', 'sub', subdomain='sub')


@www.route('/')
def www_hello():
    return 'www.www_hello'


@sub.route('/')
def sub_hello():
    return 'sub.sub_hello'


app.register_blueprint(www)
app.register_blueprint(sub)

if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8888, debug=True)
Assuming the app's being served at mysite.com.
Navigating to www.mysite.com or sub.mysite.com will produce 404. When you uncomment app.url_map.default_subdomain both URLs will point to www_hello.
Is it me or there's something seriously not right with Flask's Blueprints?