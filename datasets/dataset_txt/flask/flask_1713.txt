sublee commented on 7 Sep 2010
First, I used this code in a private page:
headers = {"WWW-Authenticate": 'Basic realm="Login Required"'}
return Response(status=401, headers=headers)
It works well with werkzeug default container, but it has a problem with meinheld container.
When I request the page on meinheld, I got an "Internal Server Error" and error message:
[error] pid ..., File "meinheld/server/response.c", line 605 :TypeError: response item must be a string
I tried to find the cause and I found it.
Flask's Response class has a response parameter, it has the default value of None.
I think that a response body in the WSGI interface must be a basestring. So I suggest
to change response parameter's default value to ""(a blank string).