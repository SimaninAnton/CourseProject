wh0 commented on 4 Oct 2012
A JSON string in an HTML <script> tag may cause the parser to enter the script data double escaped state, in which </script> would not return the parser to the data state as expected.
sample.html:
<!doctype html>
<script>alert({{ v|tojson|safe }});</script>
sample.py:
return render_template('sample.html', v='<!--<script>')