sahutd commented on 3 Aug 2014
There is a bug in detection of Flask.instance_path when run inside a virtualenv. I have experienced this issue on both python2.7 and python3.4. My machines are debian wheezy and debian jessie.
This issue is not present when run from system Python. I have described below the simplest code to reproduce the error.
I am willing to submit a patch provided this issue is real, and not something wrong on my end.
Some sample code to reproduce the error:
Directory tree:
|-- app.py
|-- run.py
|-- views.py
Contents of files
#app.py
from flask import Flask
app = Flask(__name__)
import views

#run.py
from app import app
app.run()

#views.py
from app import app
@app.route('/')
def index():
    return app.instance_path
Virtualenv python
python run.py
--
curl http://127.0.0.1:5000
/home/saimadhav/development/demo/var/app-instance
System python
python3.4 run.py
--
curl http://127.0.0.1:5000
/home/saimadhav/development/demo/instance
EDIT1: The above 3 files in my instance are placed in a folder demo