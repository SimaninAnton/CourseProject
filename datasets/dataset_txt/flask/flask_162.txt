Zhavi221 commented on 8 Apr 2019
I don't know what's causing this error, as I've just added few lines of code and it just seemed to ruin the code.
Here is the function register and it's class + app.route.
class RegistrationForm(Form):
username = StringField('Username', [validators.Length(min=4, max=25, message='Username must be 4-25 chars long')])
email = StringField('Email Address', [validators.Length(min=6, max=35, message='Email must be 6-35 chars long')])
password = PasswordField('Password', [validators.Length(min=8, max=12, message='Passwords must be 8-12 chars long')])
confirm = PasswordField('Repeat Password')
accept_tos = BooleanField('I accept the new user', [validators.DataRequired()])
@app.route('/register', methods=['GET', 'POST'])
def register():
form = RegistrationForm(request.form)
if request.method == 'POST' and form.validate():
user = User(form.username.data, form.email.data,
form.password.data)
db_session.add(user)
flash('Thanks for registering')
return redirect(url_for('/home'))
return render_template(
'register.html',
year=datetime.now().year,
month=datetime.now().month,
day=datetime.now().day,
hour=datetime.now().hour,
minute=datetime.now().minute,
form=form
)
There's just this error:
Traceback (most recent call last):
File "C:\Users\User\source\repos\FlaskWebProject1\FlaskWebProject1\FlaskWebProject1\views.py", line 47, in
@app.route('/register', methods=['GET', 'POST'])
File "C:\Program Files (x86)\Microsoft Visual Studio\Shared\Anaconda3_64\lib\site-packages\flask\app.py", line 1250, in decorator
self.add_url_rule(rule, endpoint, f, **options)
File "C:\Program Files (x86)\Microsoft Visual Studio\Shared\Anaconda3_64\lib\site-packages\flask\app.py", line 66, in wrapper_func
return f(self, *args, **kwargs)
File "C:\Program Files (x86)\Microsoft Visual Studio\Shared\Anaconda3_64\lib\site-packages\flask\app.py", line 1221, in add_url_rule
'existing endpoint function: %s' % endpoint)
AssertionError: View function mapping is overwriting an existing endpoint function: register
Press any key to continue . . .
Python version: newest
Flask version: newest