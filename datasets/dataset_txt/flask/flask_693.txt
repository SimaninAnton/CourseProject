Erfa commented on 18 Jan 2017
I have a handler that returns a 204 with no Content-Type, like this:
from flask import Response

def make_204_response():
    resp = Response('', 204)
    del resp.headers['Content-Type']
    return resp
It works as expected, but when I run my unit tests using webtest I get this error:
Exception AssertionError: AssertionError(u'Iterator garbage collected without being closed',) in <bound method IteratorWrapper.__del__ of <webtest.lint.IteratorWrapper object at 0x7f90f7a6b550>> ignored
It looks like webob had pretty much the same problem:
Pylons/webob#305