bmathieu33 commented on 14 Oct 2013
Example use case: trying to register a blueprint as lately as possible.
bp = Blueprint(...)

@app.before_first_request
def register_bp():
    app.register_blueprint(bp)
In debug mode we will get an AssertionError from setupmethod decorator, saying "A setup function was called after the first request was handled.".
https://github.com/mitsuhiko/flask/blob/master/flask/app.py#L54
This is because _got_first_request flag is set to True before before_first_request_funcs are called.
https://github.com/mitsuhiko/flask/blob/master/flask/app.py#L1493
Is there a reason for not setting the flag after handlers have been called? or is it safe (and thus it should be allowed) to call such "setupmethods"?