lvlsun commented on 16 Sep 2018
Expected Behavior
I follow the tutorial on http://flask.pocoo.org/docs/1.0/tutorial/ and try to run tests
(venv) ...\flaskproj>pytest
Actual Behavior
  File "...\flaskproj\venv\lib\site-packages\_pytest\config\__init__.py", line 381, in _getconftestmodules
    return self._path2confmods[path]
KeyError: local('...\\flaskproj\\tests')

During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "...\flaskproj\venv\lib\site-packages\_pytest\config\__init__.py", line 412, in _importconftest
    return self._conftestpath2mod[conftestpath]
KeyError: local('...\\flaskproj\\tests\\conftest.py')

During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "...\flaskproj\venv\lib\site-packages\_pytest\config\__init__.py", line 418, in _importconftest
    mod = conftestpath.pyimport()
  File "...\flaskproj\venv\lib\site-packages\py\_path\local.py", line 668, in pyimport
    __import__(modname)
  File "...\flaskproj\venv\lib\site-packages\_pytest\assertion\rewrite.py", line 296, in load_module
    six.exec_(co, mod.__dict__)
  File "...\flaskproj\tests\conftest.py", line 5, in <module>
    from flaskr import create_app
ModuleNotFoundError: No module named 'flaskr'
ERROR: could not load ...\flaskproj\tests\conftest.py
Environment
Python version: 3.6.5
Flask version: 1.0.2
Werkzeug version: 0.14.1