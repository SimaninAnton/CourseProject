blechschmidt commented on 8 May 2016 â€¢
edited
When using Flask as privileged user, it may under circumstances not be possible to drop permissions before the app is run, including when using ports that do not require root privileges.
drop_privileges() # drop privileges to nobody
app.run()
The above code will throw an ImportError, given the scenario that Flask's python files are not accessible to the nobody user due to file permissions, because Flask's run-method (and other internal methods) make use of additional inline imports.
As this scenario might be more common, it may be desirable to move all inline imports to the top of their respective module.
There are various other reasons that might support the request to move imports to the top of modules: See Python import coding style.