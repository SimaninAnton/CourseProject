tim-gnue commented on 17 Sep 2018
In the tutorial of flaskr, an error is raised when running the auth.py. In the development server, the following error is raised:
File "~\flaskr\auth.py", line 90, in login
elif not check_password_hash(user['password'], password):
TypeError: tuple indices must be integers or slices, not str
And then I trace back, in line 84, the following code:
user = db.execute(
        'SELECT * FROM user WHERE username = ?', (username,)
).fetchone().
The function fetchone() should return a tuple. But in line 90, the function try to access the tuple by user['password']. Can tuple be accessed by this calling? I'm not pretty sure. But I can access the tuple by calling user[2] instead of user['password']. And actually the same situation in other python scripts. I'm not sure what is the case.
Environment
Python version: 3.7.0
Flask version: 1.0.2
Werkzeug version: 0.14.1