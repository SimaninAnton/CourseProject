wilphan commented on 23 Mar 2018
This issue tracker is a tool to address bugs in Flask itself.
Please use the #pocoo IRC channel on freenode or Stack Overflow for general
questions about using Flask or issues not related to Flask.
If you'd like to report a bug in Flask, fill out the template below. Provide
any any extra information that may be useful / related to your problem.
Ideally, create an MCVE, which helps us
understand the problem and helps check that it is not caused by something in
your code.
Expected Behavior
The client browser should see all the HTML code, but it's missing the last few lines.
I'm running CGI on Apache 2.4.29 on Windows 10. The problem occurs in other browers on Windows and Macs. The problem does not happen on RHEL 7, or when using the webserver built into Flask. The output is small, about one screenful. I tried stripping almost all the HTML and code out of the template to a bare minimum but the results were the same. Sending HTML directly from the Python script (without using the template) has the same results. There are also no problems when I remove Flask and just have a simple Python script over CGI.
test.py:
#!c:/usr/lib/python2.7/python.exe
from cgi import escape
from flask import Flask, render_template
import os, sys

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('layout.html', title='Test ', user='username',
     hostnames=['host1','host2','host3','host4'])
templates/layout.html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{title}}</title>
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles.css')}}">
</head>

<body>
<div id="main">

    <p> Hello <b>{{user}}</b>, welcome.
    </p>


    <form action="/rss/" method="post">
    <table id="main">
 <tr>
     <th id="main">Host(s)</th>
 </tr>
 <tr>
     <td id="main">
  {% for hostname in hostnames %}
      <label><input type="checkbox" name="hostnames" value="{{hostname}}">{{hostname}}</label>
      {% endfor %}
     </td>
 </tr>
    </table>
    <br>
    <br>
    <input type="submit" value="submit" name="submit">
    </form>
</div>

</body>
</html>
test.cgi
#!c:/usr/lib/python2.7/python.exe
from wsgiref.handlers import CGIHandler
from test import app

CGIHandler().run(app)
Environment
Python version: 2.7.13
Flask version: 0.12.2
Werkzeug version: 0.12.2