notnami commented on 3 Jun 2013
I believe the issue was fixed on the Werkzeug side, but I think there still may be a bug in Flask.
When I have a url of the form /someurl/, where name is non-ascii (specifically, cyrillic), my app does not fetch the right template/file. It works fine under Python 2.
If I have a top-level URL of the form /тест, and attempt to access it, I get a 404. I believe Werkzeug handles the request correctly, but I don't know at which point it gets mangled into something which doesn't get me to the endpoint (for example, <Request 'http://localhost:1111/Ñ�ÐµÑ�Ñ�' [GET]>). That last bit is UTF-8 which is for some reason rendered as ISO-8859-1.
Any suggestions as to where in the framework (either Flask or Werkzeug) this could be happening?