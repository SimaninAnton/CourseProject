ngxlua commented on 27 Apr 2018
Expected Behavior
When I try to upgrade to 1.0, my code is not compatible with 1.0 flask, how should I solve it?
@cli.command("run", help="run server")
@click.option('--mode', help="Application running mode", default="dev")
def runserver(mode, daemon, reload, preload, spew):
    if mode == 'prod':
        """
        do something
        """

    app.run(host=app.config["HOST"], port=app.config["PORT"], use_reloader=True)

if __name__ == '__main__':
    sys.exit(cli.main())
Actual Behavior
manage.py:110: Warning: Silently ignoring app.run() because the application is run from the flask command line executable.  Consider putting app.run() behind an if __name__ == "__main__" guard to silence this warning.
  app.run(host=app.config["HOST"], port=app.config["PORT"], use_reloader=True)
Environment
Python version: 3.6.4
Flask version: 1.0
1