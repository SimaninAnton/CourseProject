dsingh-uh commented on 12 Jul 2016 â€¢
edited
I am using Flask-paginate for pagination in my app. The results are fetched from database. The problem is that all results show up on 1st page and when I click on the next page number again all results are displayed on that page. The page number in url changes to 2/3/4 etc. I this as reference. Here is my code snippet
from flask.ext.paginate import Pagination
    @app.route('/users')
    def users_page():

        page_size = 25
        limit = 100

        search = False
        q = request.args.get('q')
        if q:
            search = True
        try:
            page = int(request.args.get('page', 1))
        except ValueError:
            page = 1
        with session_scope() as session:
            users = users_dao.get_users(session, limit=limit)
            pagination = Pagination(page=page, total=len(users), per_page=page_size, search=search, record_name='users')
            return render_template("users.html", users=users, pagination=pagination)
The pagination info on html page says displaying 1-25 results of 100. When clicked on page 2, it says displaying 25-50 results of 100. So somehow the pagination has figured out on the basis of total and per_page how many results should be displayed but somewhere it fails to force that on number of rows to show.
The template looks like
{{ pagination.info }}
    <table class="table">
        <thead>
            <tr>
                <th>User Name</th>
                <th>Phone</th>
                <th>City</th>
                <th>Country</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.user_name }}</td>
                <td>{{ user.phone_number }}</td>
                <td>{{user.city}}</td>
                <td>{{user.country}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {{ pagination.links }}