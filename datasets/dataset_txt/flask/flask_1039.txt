cthrax commented on 6 May 2015
I'm working with a parameterized url such as:
"/api/<string:apiToken>"
When I send this token containing "%2F" the url encoded form of "/" I get a 404 from the test client. However, the running app works fine.
I'm using Flask 0.10.1 and a minimal test example looks like the following:
import unittest
import flask
class TestTestClient(unittest.TestCase):
    def test_url(self):
        app = flask.Flask(__name__)
        @app.route('/<string:parameter>')
        def hello_world(parameter):
            return parameter

        test_client = app.test_client()

        response = test_client.get("/FOO")
        self.assertEqual(response.status_code, 200)  # Passes
        self.assertEqual(response.data, "FOO")  # Passes

        response = test_client.get("/%%2F")
        self.assertEqual(response.status_code, 200) # Fails with 404