ianj-als commented on 12 Dec 2012
Starting a Flask application in a thread other than the main thread does not work and produces the following:
Running on http://0.0.0.0:5000/
Exception in thread flask_application_thread:
Traceback (most recent call last):
File "/opt/python2.7/lib/python2.7/threading.py", line 551, in __bootstrap_inner
self.run()
File "harness.py", line 23, in run
self.__application.run(host = '0.0.0.0', debug = True)
File "/opt/python2.7/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 739, in run
run_simple(host, port, self, **options)
File "/opt/python2.7/lib/python2.7/site-packages/Werkzeug-0.8.3-py2.7.egg/werkzeug/serving.py", line 615, in run_simple
run_with_reloader(inner, extra_files, reloader_interval)
File "/opt/python2.7/lib/python2.7/site-packages/Werkzeug-0.8.3-py2.7.egg/werkzeug/serving.py", line 529, in run_with_reloader
signal.signal(signal.SIGTERM, lambda *args: sys.exit(0))
ValueError: signal only works in main thread
Is there a workaround. I've tried using multiprocessing.Process which is no an option in my application.
Thanks.