seriyps commented on 6 Jan 2013
UPD: not a bug, see #661 (comment)
from flask import Flask

app = Flask('teardown')

@app.teardown_request
def shutdown_session(err):
    print repr(err)

@app.route('/')
def index():
    raise ValueError('test exc')

if __name__ == '__main__':
    app.run()
So, when I open index page and see 500 error page, console output is ValueError('test exc'). But when I start app in debug mode, eg
if __name__ == '__main__':
    app.run(debug=True)
Output is None, when expected ValueError('test exc').
This is important for me, because I use teardown_request for sqlalchemy transaction management like
@app.teardown_request
def shutdown_session(exception):
    if exception:
        db.session.rollback()
    else:
        db.session.commit()