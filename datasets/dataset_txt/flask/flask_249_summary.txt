Custom exception handler not working when an exception is thrown from streaming a generator