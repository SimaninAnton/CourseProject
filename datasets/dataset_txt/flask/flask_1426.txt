eoranged commented on 29 Mar 2013
First, sorry if not Flask-related, but It's the most magical thing we use in our setup, so most suspicious one.
Our setup:
Flask==0.9
Jinja2==2.6
Werkzeug==0.8.3
gevent==0.13.8
greenlet==0.4.0
gunicorn==0.17.2
msgpack-python==0.3.0
psycopg2==2.4.6
redis==2.7.2
setproctitle==1.1.7
wsgiref==0.1.2
As I can see in gc info, we are leaking threads and Semaphores in it.
The application logic is pretty simple:
parse data from the user
store it in postgres and redis
say user that everything is fine (or not)
And we are running it behind gunicorn.
I have no idea what could cause such leakage and gc information drives me crazy, because It's too much of it (and most of It are pretty useless).
Guys, if someone faced similar problem or have and idea what's going on, please help or It will drive me crazy.
Thanks in advance,
Vladimir.