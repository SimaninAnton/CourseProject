irvingpop commented on 6 Jan 2013
Several people have noted issues when installing/updating Flask extensions that use the new style flask.ext path, specifically in Google AppEngine environments.
Relevant discussion and troubleshooting here: thadeusb/flask-cache#38
What is happening (my understanding):
flask extension (ex: Flask-Cache) imports a module (ex: "from jinja2 import nodes")
in the extension's context, ExtensionImporter class has added its own path (flask.ext) to sys.meta_path
When ExtensionImporter load_module() is run, it fails to load the external module (with an ImportError?) and thus bombs
Troubleshooting notes:
this may be caused by AppEngine's dev_appserver_import_hook.py, line 1577, in LoadModuleRestricted
The application will run normally if you comment out line 86 in flask/exthook.py "raise ImportError('No module named %s' % fullname)" or by reverting to the the old flaskext path
Any assistance is highly appreciated.