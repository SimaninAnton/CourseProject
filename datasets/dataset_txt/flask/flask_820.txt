mbra commented on 3 Jun 2016
I am not sure if this was an intentional change, as it is only triggered by jsonify by passing an iterable to flask.wrappers.Response/werkzeug.wrappers.Response.
In commit d9402fc a newline was added to the json response, as per a request from the httpbin project.
When werkzeug.wrappers.Response is passed a non text_type iterable, the self.set_data codepath, responsible for setting the Content-Length header, is not used anymore.
Ironcially this breaks httpbins "response-headers" route that uses the response object in a somewhat
creative way and breaks while trying to access response.headers['Content-Length']
If this considered a backwards incompatible change that might need to be undone, or is this considered new and intended behaviour?