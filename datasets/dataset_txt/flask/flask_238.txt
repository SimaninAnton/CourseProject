sajohn2 commented on 1 Dec 2018 â€¢
edited
Expected Behavior
Steps to reproducing the problem:
Make a request that provides any basic auth
Make a request without basic auth
Make a request that provides any basic auth (this request is not being processed)
I would expect the server to continue processing requests.
from flask import Flask, request, jsonify

app = Flask(__name__)


@app.route('/')
@app.route('/api')
def api():
    auth = request.authorization
    if not auth:
        return jsonify({'status': 'NO AUTH'})
    return jsonify({'status': 'GOT AUTH'})
Actual Behavior
The server seems to hang on request 3.
Environment
Python version: 3.6.6
Flask version: 1.0.2
Werkzeug version: 0.14.1
Full environment info:
MacOS 10.13.6
Python 3.6.6 (Anaconda)
All packages:
aniso8601==4.0.1
Click==7.0
Flask==1.0.2
Flask-RESTful==0.3.6
itsdangerous==1.1.0
Jinja2==2.10
MarkupSafe==1.1.0
pytz==2018.7
six==1.11.0
Werkzeug==0.14.1