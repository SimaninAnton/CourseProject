uunsamp commented on 10 Dec 2014
Hi, I seem to be running into a Flask specific issue, here are the details:
operating system:
$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 14.04.1 LTS
Release:    14.04
Codename:   trusty
structure of package:
$ tree pantry
pantry
├── db.py
├── __init__.py
├── models
│   ├── food.py
│   └── __init__.py
└── run.py
The __init__.py files are empty.
error received:
$ pwd
/home/sam

$ python3.4 -m pantry.run
 * Running on http://127.0.0.1:5000/
 * Restarting with reloader
Traceback (most recent call last):
  File "/home/sam/pantry/run.py", line 2, in <module>
    from pantry.models.food import Food
ImportError: No module named 'pantry'
db.py:
from flask.ext.sqlalchemy import SQLAlchemy

db = SQLAlchemy()
food.py
from pantry.db import db

class Food(db.Model):

    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(80), unique=True)
    amount = db.Column(db.Integer, unique=False)

    def __repr__(self):
        return '<Food %r>' % self.name
run.py
from flask import Flask, jsonify
from pantry.models.food import Food
from pantry.db import db
import json

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:////tmp/test.db'
db.init_app(app)

@app.route('/food', methods=['GET'])
def list_food():
    items = []
    for food in Food.query.all():
        item = {
            "name": food.name,
            "amount": food.amount,
        }
        items.append(item)
    return jsonify(items)

if __name__ == '__main__':
    app.run(debug=True)