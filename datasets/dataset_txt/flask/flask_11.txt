rickywxg commented on 29 Dec 2019
Expected Behavior
app.run() should work when port is not specified in SERVER_NAME.
from flask import Flask

app = Flask(__name__)
app.config['SERVER_NAME'] = 'example.com'

@app.route('/')
def hello_world():
    return 'Hello, World!'

app.run()
Actual Behavior
application fails during start
Traceback (most recent call last):
  File "mini_svr_2.py", line 10, in <module>
    app.run()
  File "/Users/rickwang/Source/flask/src/flask/app.py", line 973, in run
    port = int(next((p for p in (port, sn_port) if p is not None), _port))
ValueError: invalid literal for int() with base 10: '
Environment
Python version: Python 3.7
Flask version: latest 1.1.2.dev0
Werkzeug version: 0.16.0