flaker commented on 21 Jan 2015
I've been trying to use test_client with some simple services I've made but noticed that when calling a service sending something through the query string, nothing is received on the endpoint. So:
test_client.get("http://localhost/api1_0/some-service?param1=value1")
(Actually I use url_to())
gets to some-service as expected, but the request.args collection is empty. This call works perfectly if I use an external tool like curl.
Debugging, I've got to the method make_test_environ_builder (testing.py) where url.path is used but url.querystring is just disregarded.
In the end, I've found a workaround (while writing this issue):
test_client.get("http://localhost/api1_0/some-service", query_string = "param1=value1")
The added parameter travels to the EnvironBuilder.
It seems to me that this is a bug since there is no reason why the query string should be disregarded in the first place. But I am new to Flask so I may be missing something
Thank you.