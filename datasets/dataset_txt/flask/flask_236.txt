southpush commented on 4 Dec 2018
Expected Behavior
I want to run my test case but it does not work if there are more than one case
If it's just one case ,everything is ok
class FlaskClientTestCase(unittest.TestCase):
def setUp(self):
self.app = create_app("testing")
self.app_context = self.app.app_context()
self.app_context.push()
db.create_all()
    self.client = self.app.test_client(use_cookies=True)

def tearDown(self):
    db.session.remove()
    db.drop_all()
    self.app_context.pop()

def test_one(self):
    print("first test")

def test_two(self):
    print("second test")
Paste a minimal example that causes the problem.
Actual Behavior
first test
Ran 2 tests in 4.127s
FAILED (errors=1)
Error
Traceback (most recent call last):
File "C:\Python35\lib\unittest\case.py", line 59, in testPartExecutor
yield
File "C:\Python35\lib\unittest\case.py", line 597, in run
self.setUp()
File "E:\pythonDump\ordermeals\tests\test_client.py", line 13, in setUp
self.app = create_app("testing")
File "E:\pythonDump\ordermeals\app_init_.py", line 30, in create_app
db.init_app(app)
AttributeError: module 'app.db' has no attribute 'init_app'
Process finished with exit code 1
Paste the full traceback if there was an exception.
Environment
Python version:3.5
Flask version:1.0.2
Werkzeug version:0.14.1