rslinckx commented on 20 Jul 2012
With the recent introduction of flask.app_context() it is now possible to have code running in the context of an app, but without having a web request active.
I would like to be able to use render_template while in an app context but there are some code paths that assume there is an active request context while doing so.
The following code snippets should be adapted:
https://github.com/mitsuhiko/flask/blob/master/flask/app.py#L675 This function should not try to include blueprint related context processors when no active request is present
https://github.com/mitsuhiko/flask/blob/master/flask/templating.py#L20 The default context processor should only include the config from the app context, then check if a request is present, and include the additional keys (session, request, g)
It seems odd to not be able to render a template without a request, obviously the user has to make sure that templates rendered in an app context don't use request-related references but that seems quite reasonable.
Do you think this makes sense ? If yes, then i can provide a patch to do that, and if you think of any other issues related to this i'll be glad to fix them.
Thanks !