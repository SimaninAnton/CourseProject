Contributor
taion commented on 2 Nov 2018 â€¢
edited
This is related to #2841, but the emphasis is different.
Expected Behavior
Non-error exceptions should not be caught by registered error handlers.
app.register_error_handler(HTTPException, my_error_handler)

@app.route('/path-with-slash/')
def my_route():
    return '', 204
Attempting to visit /path-with-slash should redirect to /path-with-slash/, without invoking my_error_handler.
Actual Behavior
As the RequestRedirect raised internally in Werkzeug is a subclass of HTTPException, my_error_handler will get called. This is unexpected because no error has occurred, and the only appropriate way to handle this case is to add boilerplate to re-raise any Werkzeug RoutingExceptions.
Environment
Python version: 3.7.0
Flask version: 1.0.2
Werkzeug version: 0.14.1