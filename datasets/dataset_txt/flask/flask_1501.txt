adrianratnapala commented on 17 Jul 2012
I am not sure if this is a bug, because I don't know what the expected behaviour is. I am reporting it just in case (there should also be a mailing list message from 2012-07-15 about this topic).
behaviour (that might be) expected:
If any exception is trapped and passed to a Flask error handler, but that handler decides to re-raise the exception, the effect should be the same as if no handler had been registered. For example, if an HTTP error handler is registered by their numerical code but then re-raises the exception, it should result in Flask's default HTTP error page for that code, even if TESTING=True.
behaviour observed:
If an HTTP error handler is registered via its numerical code re-raises an exception, the exception is then handled is if it were a non-HTTP exception. If TESTING=True, this results in a stack trace. If TESTING=False, the client gets a "500 Internal Server Error" regardless of what the original exception was.