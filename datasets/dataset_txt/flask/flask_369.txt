naveenmalla046 commented on 12 May 2018 â€¢
edited
This code must be placed in the init.py as per the documentation: http://flask.pocoo.org/docs/1.0/tutorial/database/ (Section: Register with the Application)
flaskr/__init__.py
def create_app():
  app = ...
  # existing code omitted

from . import db
db.init_app(app)

return app
This is the init.py code after copying that code
import os

from flask import Flask

def create_app(test_config=None):
# create and configure the app
app = Flask(__name__, instance_relative_config=True)
app.config.from_mapping(
    SECRET_KEY='dev',
    DATABASE=os.path.join(app.instance_path, 'flaskr.sqlite'),
)

if test_config is None:
    # load the instance config, if it exists, when not testing
    app.config.from_pyfile('config.py', silent=True)
else:
    # load the test config if passed in
    app.config.from_mapping(test_config)

# ensure the instance folder exists
try:
    os.makedirs(app.instance_path)
except OSError:
    pass

# a simple page that says hello
@app.route('/hello')
def hello():
    return 'Hello, World!'

#database 
from . import db
db.init_app(app)

return app
Expected output:
Run the init-db command:
flask init-db
Initialized the database.
There will now be a flaskr.sqlite file in the instance folder in your project.
I'm getting an error while executing the above command:
flask init-db
Usage: flask [OPTIONS] COMMAND [ARGS]...
Error: No such command "init-db".
I even tried copying the exact code from the repo https://github.com/pallets/flask/blob/746b91dfced525651c9b71a3bd075a78d2b9262f/examples/tutorial/flaskr/__init__.py
it is not working even though, same error.
Pls help me with this I'm new to flask and i'm stuck here. cannot proceed further in the documentation unless this code executes