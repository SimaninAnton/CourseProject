Member
untitaker commented on 31 Jul 2013
I've seen that people often write @app.route(..., methods=["POST"]) as @app.route(..., methods="POST"), which won't error immediately, but return a 405 status code later.
Which is very unfortunate, as people might think the methods parameter is a space or comma separated string with methods. Sometimes i write that myself because i still don't memorize that this part of Flask's API is actually that "heavy" on the syntax.
So what i propose is to add the following normalization code in Flask.add_url_rule:
if isinstance(methods, str):
    if ',' in methods:
        methods = methods.split(',')
    elif ' ' in methods:
        methods = methods.split(' ')
    else:
        methods = (methods,)