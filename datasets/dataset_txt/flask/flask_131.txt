jeffbuswell commented on 29 May 2019 â€¢
edited
Occasionally, upon logging out of the flask server, this error occurs. Possibly a race condition between flashing a message and not being logged in?
Expected Behavior
Expect no error, or to exit gracefully.
Actual Behavior
Get the error: AttributeError: 'NoneType' object has no attribute 'append'
File /home/venv/lib/python3.7/site-packages/flask/app.py line 1832 in full_dispatch_request
rv = self.dispatch_request()
File /home/venv/lib/python3.7/site-packages/flask/app.py line 1818 in dispatch_request
return self.view_functions[rule.endpoint](**req.view_args)
File /home/venv/lib/python3.7/site-packages/flask_login/utils.py line 260 in decorated_view
return current_app.login_manager.unauthorized()
File /home/venv/lib/python3.7/site-packages/flask_login/login_manager.py line 167 in unauthorized
flash(self.login_message, category=self.login_message_category)
File /home/venv/lib/python3.7/site-packages/flask/helpers.py line 409 in flash
flashes.append((category, message))
AttributeError: 'NoneType' object has no attribute 'append'
Environment
Python version: 3.7
Flask version: 1.0.3