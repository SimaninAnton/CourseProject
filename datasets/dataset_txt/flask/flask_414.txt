yanglu0106 commented on 10 Apr 2018 â€¢
edited
When I send a large payload to the service, the flask config is not respecting the config and let the program continue to run.
This line is not hit ever: https://github.com/pallets/werkzeug/blob/6df9e5bdb9d216fcf2989ce051cd11b763cef4a0/werkzeug/formparser.py#L194
Expected Behavior
I am expecting to get 413 error in response.
from flask import Flask, request, jsonify, abort

app = Flask(__name__)
app.config['MAX_CONTENT_LENGTH'] = 100

...

@app.route('/myendpoint', methods=['POST'])

...

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=12345, debug=True)
Actual Behavior
Tell us what happens instead.
Paste the full traceback if there was an exception.
Environment
Python version: Both python 2.7 and 3.6
Flask version: 0.12.2
Werkzeug version: 0.14.1