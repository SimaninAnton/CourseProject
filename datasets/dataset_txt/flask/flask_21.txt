ArendJanKramer commented on 9 Dec 2019 •
edited
Expected Behavior
request.files['file'] should contain the file. It doesn't. File contents are visible in request.stream.read().
Raw request in attachment (request.stream.read()):
request.bin.zip
This only occurs with funky characters in the filename. Such as Ofslútdyk.jpg. Same file without special character works as expected.
@app.route(f"/images", methods=['GET', 'POST', 'PUT'])
def images_endpoint(project, group):
    user = get_user(request.headers)

    if request.method in ['PUT', 'POST']:
        file = request.files['file'] # Returns 400 to client. 
No errors in console.
Actual Behavior
Flask returning 400 to client.
Environment
Python version: 3.6.9
Flask version: 1.1.1
Werkzeug version: 0.16.0