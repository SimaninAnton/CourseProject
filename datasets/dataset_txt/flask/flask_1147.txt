jakab922 commented on 24 Nov 2014
So basically I would like to test redirects in my codebase which I currently do the following way:
import ... import app
from flask import url_for
...

def test_stuff(client):  # client is a flask.testing.FlaskClient instance
  response = client.get(....)
  assert response.status_code == 302
  with app.test_request_context('/'):
    expected_url = url_for(..., _external=True)
  assert response.headers['Location'] == expected_url
While if we had the _external keyword on the client's url_for function I could replace the last 3 lines with this(plus I wouldn't have to do the 2 imports):
assert response.headers['Location'] == client.url_for(..., _external=True)