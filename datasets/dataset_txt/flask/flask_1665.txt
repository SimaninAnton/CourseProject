Member
mitsuhiko commented on 21 Mar 2011
Right now it's not quite clear to many people how the request context can be used in unittests. It's a little bit weird because of a bunch of different issues.
an application in non debug mode will not propagate exceptions. There should be a TESTING mode that raises exceptions through and also closes down the context unless preserved.
Extensions should not connect to databases and similar things in before_request but attach to the context as necessary by themselves.
Docs should outline how testing is supposed to happen.