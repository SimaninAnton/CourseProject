deelaka commented on 14 Mar 2017
When posting data with an mimetype unknown to flask unless request.get_data() is accessed in whatever way the connection is dropped.
@app.route('/abc', methods=['POST'])
def get_history():
    # print request.get_data()  # uncommenting this line fixes the bug
    return 'OK', 200
Below is a curl stacktrace:
> curl -X POST -d 'a:1' "http://127.0.0.1:5000/abc"
curl: (56) Recv failure: Connection was reset
The most confusing fact is that the flask server reports as if the connection was successful:
127.0.0.1 - - [14/Mar/2017 20:03:16] "POST /abc HTTP/1.1" 200 -
Flask (0.12) & Python 2.7.12