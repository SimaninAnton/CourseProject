Contributor
SimonSapin commented on 19 Mar 2012
The Flask.get_static_file_options method uses the SEND_FILE_MAX_AGE_DEFAULT config, but there is nothing of the sort for blueprints. Tests fail on the current git master because of that:
FAIL: test_templates_and_static (flask.testsuite.blueprints.BlueprintTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/simon/dev/projects/flask/flask/testsuite/blueprints.py", line 370, in test_templates_and_static
    self.assert_equal(cc.max_age, expected_max_age)
  File "/home/simon/dev/projects/flask/flask/testsuite/__init__.py", line 133, in assert_equal
    return self.assertEqual(x, y)
AssertionError: 43200 != 3600
I’d write a patch, but I’m not sure how to access the app config from a blueprint method. Would using flask.current_app be appropriate?