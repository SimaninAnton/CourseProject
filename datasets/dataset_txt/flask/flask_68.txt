reach4bawer commented on 6 Sep 2019
Expected Behavior
I was expecting that running my flask application would only spin one process with no subprocesses. Like the following screenshot. (This is with importing pandas commented)
The following is example of the which replicates the issue.
from flask import Flask
import pandas as pd

app = Flask(__name__)

@app.route('/')
def hello():
    return "Hello World!"

if __name__ == '__main__':
    app.run().
Actual Behavior
Importing pandas in a Flask app multiple subprocesses are spun up. I have a Flask app that uses Flask and pandas to show basic tables. When I run the app multiple flask and python instances instances are spun up. I normally wouldn't have bothered but this is causing the application when hosted on gunicorn to be unstable.( Running 2-4 workers spins up a lot of processes and the application keeps restarting. See the screenshot below -

Environment
Python version:
Python 3.7.4 (default, Jul 30 2019, 19:56:38)
[GCC 7.3.1 20180712 (Red Hat 7.3.1-6)] on linux
Flask version:1.0.2
Werkzeug version:0.15.2