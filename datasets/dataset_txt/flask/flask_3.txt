jeffsawatzky commented 7 days ago
I would like url_for to support some sort of proxy rewrite rule when the Flask app is behind a proxy that does more than just append a prefix to the url.
I'm aware of the werkzeug ProxyFix middleware that uses the X-Forwarded-Prefix to set the SCRIPT_NAME environ variable, which url_for appends to the url. But when the proxy does more that just append a prefix, and does some rewriting, I can't figure out how to get url_for to just work.
I have a stack overflow questions here with some more details.