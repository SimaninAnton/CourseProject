Contributor
SimonSapin commented on 19 Mar 2012
Running the test suite from git master in an old virtualenv with Werkzeug 0.6.2 installed, I got a failure went away when upgrading Werkzeug to 0.7 or the latest 0.8.3:
FAIL: test_test_app_proper_environ (flask.testsuite.basic.BasicFunctionalityTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/simon/dev/projects/flask/flask/testsuite/basic.py", line 820, in test_test_app_proper_environ
    self.assert_equal(rv.status_code, 404)
  File "/home/simon/dev/projects/flask/flask/testsuite/__init__.py", line 133, in assert_equal
    return self.assertEqual(x, y)
AssertionError: 200 != 404
The fix was hinted by the test having different code paths for Werkzeug 0.7 and 0.8. Flaskâ€™s setup.py requires Werkzeug>=0.6.1, should that be changed to 0.7?