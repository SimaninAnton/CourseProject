tdi commented on 30 Sep 2017 •
edited
Pipenv fails to update itself with pipenv --update. Updating does work with pip.
➜  ~ pipenv --update
Courtesy Notice: Pipenv 8.2.4 is now available. Automatically upgrading!
Collecting pipenv
  Downloading pipenv-8.2.4.tar.gz (3.7MB)
    100% |████████████████████████████████| 3.7MB 2.1MB/s
Exception:
Traceback (most recent call last):
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/site-packages/pipenv/patched/pip/basecommand.py", line 215, in main
    status = self.run(options, args)
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/site-packages/pipenv/patched/pip/commands/install.py", line 324, in run
    requirement_set.prepare_files(finder)
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/site-packages/pipenv/patched/pip/req/req_set.py", line 380, in prepare_files
    ignore_dependencies=self.ignore_dependencies))
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/site-packages/pipenv/patched/pip/req/req_set.py", line 634, in _prepare_file
    abstract_dist.prep_for_dist()
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/site-packages/pipenv/patched/pip/req/req_set.py", line 129, in prep_for_dist
    self.req_to_install.run_egg_info()
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/site-packages/pipenv/patched/pip/req/req_install.py", line 421, in run_egg_info
    base_cmd = [os.environ['PIP_PYTHON_PATH'], '-c', script]
  File "/Users/tdi/.pyenv/versions/2.7.13/lib/python2.7/UserDict.py", line 40, in __getitem__
    raise KeyError(key)
KeyError: 'PIP_PYTHON_PATH'
Pipenv updated to 8.2.4!
➜  ~ pipenv --version
pipenv, version 8.2.0