Contributor
hynek commented on 9 Oct 2018
Issue description
When I run pipenv lock on a Python 2.7 project I get this error:
$ pipenv lock
Locking [dev-packages] dependenciesâ€¦
-packages/pipenv/cli/command.py", line 18, in <module>
    from .. import environments
  File "/Users/hynek/.local/venvs/pipenv/lib/python3.7/site-packages/pipenv/environments.py", line 4, in <module>
    from .vendor.vistir.misc import fs_str
  File "/Users/hynek/.local/venvs/pipenv/lib/python3.7/site-packages/pipenv/vendor/vistir/__init__.py", line 4, in <module>
    from .compat import NamedTemporaryFile, TemporaryDirectory, partialmethod
  File "/Users/hynek/.local/venvs/pipenv/lib/python3.7/site-packages/pipenv/vendor/vistir/compat.py", line 34, in <module>
    from backports.shutil_get_terminal_size import get_terminal_size
ImportError: No module named shutil_get_terminal_size
The problem is this code in vistir:
pipenv/pipenv/vendor/vistir/compat.py
Line 33 in 1561b8e
 from backports.shutil_get_terminal_size import get_terminal_size 
Not sure if it's a missing vendoring/dot or a missing dependency.
Expected result
No error.
Actual result
Error.
Steps to replicate
Create a Python 2 project and try to lock it.
$ pipenv --support
1