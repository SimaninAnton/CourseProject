rgacote commented on 6 Jun 2018
Put the following line into the local .env file:
export PIPENV_VENV_IN_PROJECT=1
Running pipenv shell creates a .venv in ~/.local..., not the .venv directory as expected.
Running pipenv sync then creates the local .venv file, but the Python interpreter is not there.
I've done some debugging and found that when running the initial shell command, the os.environ commands in environment.py are run prior to core.load_dot_env. The Python globals containing the environment variables are not reloaded after the .env file is loaded.
Is there a reason the .env file is not loaded earlier?