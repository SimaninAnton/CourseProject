orestisfl commented on 20 Mar 2018
I was having trouble using pipenv without --site-packages. I couldn't find anything online so this might help someone even if this behaviour doesn't get changed.
Expected result
pipenv to work like normal, maybe ignoring $PIP_USER
Actual result
$ pipenv install requests --verbose
Creating a virtualenv for this project…
⠋Using base prefix '/usr'
New python executable in /home/orestis/.local/share/virtualenvs/tmp-XVr6zr33/bin/python
Installing setuptools, pip, wheel...done.

Virtualenv location: /home/orestis/.local/share/virtualenvs/tmp-XVr6zr33
Creating a Pipfile for this project…                                                                                                                                                                                                          Installing requests…
⠙Installing 'requests'
$ "/home/orestis/.local/share/virtualenvs/tmp-XVr6zr33/bin/pip" install   --verbose    "requests" -i https://pypi.python.org/simple --exists-action w                                                                                         Exception information:
Traceback (most recent call last):
  File "/home/orestis/.local/share/virtualenvs/tmp-XVr6zr33/lib/python3.6/site-packages/pip/basecommand.py", line 215, in main
    status = self.run(options, args)
  File "/home/orestis/.local/share/virtualenvs/tmp-XVr6zr33/lib/python3.6/site-packages/pip/commands/install.py", line 251, in run
    "Can not perform a '--user' install. User site-packages "
pip.exceptions.InstallationError: Can not perform a '--user' install. User site-packages are not visible in this virtualenv.

Error:  An error occurred while installing requests!
Can not perform a '--user' install. User site-packages are not visible in this virtualenv.
Steps to replicate
export PIP_USER=yes
Run pipenv install …
1