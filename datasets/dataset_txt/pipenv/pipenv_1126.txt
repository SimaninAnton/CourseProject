JonathanWillitts commented on 30 Apr 2018 â€¢
edited
I have an issue where after a local install of pipenv, whenever I try to use the pip3 command it throws errors.
I'm not sure if this is an issue with pipenv itself,, the Ubuntu distribution's pip3 package, pip itself, or something I'm doing wrong, but it does seem to occur immediately after the pipenv isntall
I'm testing using Vagrant, and have tried to simplify the steps to reproduce (from a vanilla VM below)
Expected result
The system pip3 command to work after a local/user install of pipenv. e.g.
vagrant@ubuntu-artful:~$ pip3 --version
pip 9.0.1 from /usr/lib/python3/dist-packages (python 3.6)
Actual result
The system pip3 throws errors such as:
vagrant@ubuntu-artful:~$ pip3 --version
Traceback (most recent call last):
  File "/usr/bin/pip3", line 9, in <module>
    from pip import main
ImportError: cannot import name 'main'
Steps to replicate
# On vanilla Ubuntu 17.10 Vagrant VM -> Update package lists and install Pip3
sudo apt-get update && sudo apt-get install --assume-yes python3-pip

# Log Pip3 info
pip3 --version  # outputs: pip 9.0.1 from /usr/lib/python3/dist-packages (python 3.6)
which pip3  # outputs: /usr/bin/pip3

# Install pipenv as user
pip3 install --user pipenv 

# Log Pip3 info
pip3 --version  # throws traceback above
which pip3  # outputs: /usr/bin/pip3
Full logs of steps to replicate:
sudo apt-get update && sudo apt-get install --assume-yes python3-pip
pip3 --version; which pip3 # pre pipenv install
pip3 install --user pipenv
pip3 --version; which pip3 # post pipenv install
Environment:
Ubuntu 17.10 (running under Vagrant)
$ python -m pipenv.help output
3