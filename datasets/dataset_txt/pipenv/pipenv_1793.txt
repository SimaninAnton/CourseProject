gcarothers commented on 23 Nov 2017
Describe your environment
OS Type: Debian Stable 9.2
Python version: Python 2.7.13
Pipenv version: pipenv, version 8.3.2
Expected result
When running pipenv install with a Pipfile containing 15 local editable packages:
pyramid-mustache = {path = "vendor/pyramid-mustache/", editable = true}
Dalton = {path = "vendor/Dalton/", editable = true}
pyelasticsearch = {path = "vendor/pyelasticsearch/", editable = true}
deus_lib = {path = "deus_lib/", editable = true}
lexdb = {path = "lexdb/", editable = true}
bias = {path = "bias/", editable = true}
winslow = {path = "winslow/", editable = true}
usertool = {path = "usertool/", editable = true}
analytics_services = {path = "analytics_services/", editable = true}
citadel = {path = "citadel/", editable = true}
lex-nlp-scripts = {path = "lexnlp-product/core/scripts/", editable = true}
dashboarding = {path = "dashboarding/", editable = true}
east = {path = "east/", editable = true}
webhook_handler = {path = "webhook_handler/", editable = true}
qatool = {path = "qatool/", editable = true}
I expect 15 entries in easy-install.pth.
Actual result
I get 13, 11, etc, and each time you run it you get a different set of local pth entries.
No changes to Pipfile or to Pipfile.lock, just rerunning pipenv install
Examples:
/home/gavin/LexMachina/src/deus_lex/vendor/Dalton
/home/gavin/LexMachina/src/deus_lex/east
/home/gavin/LexMachina/src/deus_lex/vendor/pyramid-mustache
/home/gavin/LexMachina/src/deus_lex/citadel
/home/gavin/LexMachina/src/deus_lex/vendor/pyelasticsearch
/home/gavin/LexMachina/src/deus_lex/webhook_handler
/home/gavin/LexMachina/src/deus_lex/usertool
/home/gavin/LexMachina/src/deus_lex/analytics_services
/home/gavin/LexMachina/src/deus_lex/lexdb
/home/gavin/LexMachina/src/deus_lex/deus_lib
/home/gavin/LexMachina/src/deus_lex/winslow
/home/gavin/LexMachina/src/deus_lex/lexnlp-product/core/scripts
/home/gavin/LexMachina/src/deus_lex/qatool
/home/gavin/LexMachina/src/deus_lex/webhook_handler
/home/gavin/LexMachina/src/deus_lex/vendor/Dalton
/home/gavin/LexMachina/src/deus_lex/east
/home/gavin/LexMachina/src/deus_lex/dashboarding
/home/gavin/LexMachina/src/deus_lex/vendor/pyramid-mustache
/home/gavin/LexMachina/src/deus_lex/citadel
/home/gavin/LexMachina/src/deus_lex/bias
/home/gavin/LexMachina/src/deus_lex/usertool
/home/gavin/LexMachina/src/deus_lex/lexdb
/home/gavin/LexMachina/src/deus_lex/analytics_services
/home/gavin/LexMachina/src/deus_lex/winslow
/home/gavin/LexMachina/src/deus_lex/lexnlp-product/core/scripts
/home/gavin/LexMachina/src/deus_lex/qatool
/home/gavin/LexMachina/src/deus_lex/vendor/pyelasticsearch
OUTPUT.txt
Steps to replicate
Sadly I have no idea how to make a smaller test case as I have 0 idea what is going on. Happy to try and create one if someone can give me some hint as to how the heck this is even possible.