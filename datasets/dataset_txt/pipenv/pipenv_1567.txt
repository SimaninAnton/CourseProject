sbancal commented on 14 Feb 2018 •
edited by uranusjr
I couldn't find existing issue about this
Trying to pipenv update in an existing project fails with the message given just after.
Describe your environment
OS Type : Ubuntu 16.04 with 4.13.0-32-generic
Python version: $ pipenv run python -V : Python 3.5.2
Pipenv version: $ pipenv --version : pipenv, version 9.0.3
Expected result
Would update packages that need to
Actual result
Installing dependencies from Pipfile.lock (ea62c5)…
An error occurred while installing markupsafe==1.0! Will try again.
An error occurred while installing tornado==4.5.3! Will try again.
An error occurred while installing pandocfilters==1.4.2! Will try again.
An error occurred while installing simplegeneric==0.8.1! Will try again.
▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 49/49 — 00:00:08
Installing initially–failed dependencies…
Collecting markupsafe==1.0 ▉▉▉▉▉▉▉▉▉▉ 0/4 — 00:00:00
Using cached MarkupSafe-1.0.tar.gz
Could not import setuptools which is required to install from a source distribution.
Traceback (most recent call last):
File "/home/me/.local/share/virtualenvs/fooo123-AEL-vfUW/lib/python3.5/site-packages/pip/req/req_install.py", line 387, in setup_py
import setuptools # noqa
File "/home/me/.local/share/virtualenvs/fooo123-AEL-vfUW/lib/python3.5/site-packages/setuptools/init.py", line 10, in
from setuptools.extern.six.moves import filter, map
File "/home/me/.local/share/virtualenvs/fooo123-AEL-vfUW/lib/python3.5/site-packages/setuptools/extern/init.py", line 1, in
from pkg_resources.extern import VendorImporter
ImportError: No module named 'pkg_resources.extern'
☤ ▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 0/4 — 00:00:00
I can provide more output if needed.
Steps to replicate
Pipfile :
[[source]]
verify_ssl = true
url = "https://pypi.python.org/simple"
name = "pypi"
[dev-packages]
[packages]
django = ""
httpie = ""
jupyter = ""
djangorestframework = ""
Pipfile.lock :
pipenv --three install  # This will work smoothly
pipenv update  # This fails with the message given above
Note
Apparently Setuptools is already installed pipenv run ipython
In [1]: import setuptools

In [2]: setuptools.__version__
Out[2]: '38.5.1'
1