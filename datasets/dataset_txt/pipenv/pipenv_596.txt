xocasdashdash commented on 9 Oct 2018 â€¢
edited
Issue description
I have a Pipfile.lock with this version of dogpile.cache:
"dogpile.cache": {
            "hashes": [
                "sha256:fca7deb7c276b879b01c15c5d39b3c05701dc43b263ec3fef1e52cb851cf88ab"
            ],
            "index": "pypi",
            "version": "==0.6.7"
        },
If I run install with pipenv version (2018.7.1) it works, but if I run it with the current version (2018.10.9) it fails with this error:
An error occurred while installing dogpile-cache==0.6.7 --hash=sha256:fca7deb7c276b879b01c15c5d39b3c05701dc43b263ec3fef1e52cb851cf88ab! Will try again.
Expected result
It should install the package
Actual result
It fails
Steps to replicate
Create this file as a dockerfile
FROM python:3.6
RUN pip install pipenv=="2018.10.9"
WORKDIR /app
COPY Pipfile.fail /app/Pipfile 
COPY Pipfile.fail.lock /app/Pipfile.lock
RUN pipenv install --system
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
"dogpile.cache" = "==0.6.7"

[dev-packages]

[requires]
python_version = "3.6"
{
    "_meta": {
        "hash": {
            "sha256": "b7d7b836ef8b811aa9260231565ca0ddb977c7d0b6cf784086ace44a6db9b5ea"
        },
        "pipfile-spec": 6,
        "requires": {
            "python_version": "3.6"
        },
        "sources": [
            {
                "name": "pypi",
                "url": "https://pypi.org/simple",
                "verify_ssl": true
            }
        ]
    },
    "default": {
        "dogpile.cache": {
            "hashes": [
                "sha256:fca7deb7c276b879b01c15c5d39b3c05701dc43b263ec3fef1e52cb851cf88ab"
            ],
            "index": "pypi",
            "version": "==0.6.7"
        }
    },
    "develop": {}
}
Run docker build -t to_delete -f Dockerfile
$ pipenv --support
1