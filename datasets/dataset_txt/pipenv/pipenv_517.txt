rgammans commented on 23 Oct 2018 â€¢
edited
Issue description
Being able to activate you application virtual environment with just
import pipenv.core
pipenv.core.inline_activate_virtual_environment()
In you applications start script would be be useful feature, is it was long term supported; or a similiar
api publiccally exposed . Currently it is available but not documented. (as far as I can tell)
Expected result
I'd would expect pipenv.core.inline_activate_virtual_environment to have a non-empty docstring.,
and to silently activate the environment in all cases.
Actual result
Under windows; and when running in a IIS FastCgi module; importing pipenv.core fails to loas
asthe expression to evaluate SESSION_INTERACTIVE fails, as in the case sys.stderr, and sys.stdout have don't support getting the fileno attribute.
Traceback (most recent call last):
  File &quot;C:\python36\lib\site-packages\wfastcgi.py&quot;, line 791, in main
    env, handler = read_wsgi_handler(response.physical_path)
  File &quot;C:\python36\lib\site-packages\wfastcgi.py&quot;, line 633, in read_wsgi_handler
    handler = get_wsgi_handler(os.getenv(&quot;WSGI_HANDLER&quot;))
  File &quot;C:\python36\lib\site-packages\wfastcgi.py&quot;, line 600, in get_wsgi_handler
    handler = __import__(module_name, fromlist=[name_list[0][0]])
  File &quot;c:\users\administrator\documents\website\CoolerMovement\CoolerMovement\wsgi2.py&quot;, line 4, in &lt;module&gt;
    import pipenv.core
  File &quot;C:\python36\lib\site-packages\pipenv\__init__.py&quot;, line 23, in &lt;module&gt;
    from .cli import cli
  File &quot;C:\python36\lib\site-packages\pipenv\cli\__init__.py&quot;, line 3, in &lt;module&gt;
    from .command import cli
  File &quot;C:\python36\lib\site-packages\pipenv\cli\command.py&quot;, line 18, in &lt;module&gt;
    from .. import environments
  File &quot;C:\python36\lib\site-packages\pipenv\environments.py&quot;, line 226, in &lt;module&gt;
    SESSION_IS_INTERACTIVE = bool(os.isatty(sys.stdout.fileno()))
io.UnsupportedOperation: fileno
$ pipenv --support