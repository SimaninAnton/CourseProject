mcintyre94 commented on 27 Jun 2018 â€¢
edited
Is your feature request related to a problem? Please describe.
Python AWS lambda packages require their dependencies to be packaged with the source, which is suggested to be done using pip install -t <package (see https://docs.aws.amazon.com/lambda/latest/dg/lambda-python-how-to-create-deployment-package.html). This means you can't use pipenv directly to manage their dependencies, because it doesn't support the -t/--target option.
Describe the solution you'd like
pipenv install -t path/to/src <package> installs a dependency into Pipfile/Pipfile.lock, and runs pip install -t path/to/src <package>.
I think it'd make sense not to do the equivalent of pipenv install <package> at the same time, ie it'd be like only running pip -t and match its behaviour. Just the dependency would end up managed by pipenv.
Note that pip does't have a pip uninstall -t, I think it'd be okay not to have a pipenv uninstall -t also (though pipenv uninstall <package> should still remove it from Pipfile).
Describe alternatives you've considered
My current workaround is to use pipenv lock -r > requirements.txt and then pip install -r requirements.txt -t path/to/src.
Additional context
I assume this would depend on a fix to #2444, because on MacOS pip install -t <package> requires a setup.cfg to be added, so pipenv -t would be the same - see that AWS link for details on that.