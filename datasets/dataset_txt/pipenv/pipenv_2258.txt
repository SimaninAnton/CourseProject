WuTheFWasThat commented on 24 Aug 2017
As you can see below, I have a command which works via pipenv run but not after entering the virtualenv with pipenv shell.
rl_sat local # pipenv run python3 src/test.py
✔ 1s

rl_sat local # pipenv shell                                                                                                                                            Launching subshell in virtual environment. Type 'exit' or 'Ctrl+D' to return.

rl_sat local # python3 src/test.py                                                                                                                                     Traceback (most recent call last):
  File "src/test.py", line 2, in <module>
    import main
  File "/Users/wujeff/Documents/Projects/rl_sat/src/main.py", line 1, in <module>
    from pyrsistent import PVector
ModuleNotFoundError: No module named 'pyrsistent'
✘ [1] 1s
I verified the problem is to do with replacing the python links/path.
rl_sat local # pipenv shell                                                                                                                                            Launching subshell in virtual environment. Type 'exit' or 'Ctrl+D' to return.

rl_sat local # which python3                                                                                                                                          
/usr/local/bin/python3
✔ 0s
(As a side note, I find this slightly weird:
rl_sat local # pipenv run which python3
The command (/Users/wujeff/.local/share/virtualenvs/rl_sat-a4OaVrmj/bin/which) was not found within the virtualenv!
✘ [1] 1s
)
while using the virtualenv itself directly works:
rl_sat local # source /Users/wujeff/.local/share/virtualenvs/rl_sat-a4OaVrmj/bin/activate
(rl_sat-a4OaVrmj) ✔ 1s

rl_sat local # which python3
/Users/wujeff/.local/share/virtualenvs/rl_sat-a4OaVrmj/bin/python3
(rl_sat-a4OaVrmj) ✔ 0s

rl_sat local # python3 src/test.py
(rl_sat-a4OaVrmj) ✔ 0s
This all is not a huge deal and could have to do with weirdness of my system. However, I spent some non-trivial time debugging, and it feels like pipenv shell should at least have some kind of error message.