markfaine commented on 29 Jan 2019
Issue description
WSL on Windows 10 with Ubuntu 18.04
On WSL the command 'pipenv shell' does not launch a subshell or activate the environment. Due to #3488, I had to uninstall all Windows versions of Python to have success at creating the environment.
Expected result
Launching subshell in virtual environment‚Ä¶
(env-setup) mfaine@MSSLW17050462:/mnt/c/Users/mfaine/Desktop/env-setup$
Actual result
Launching subshell in virtual environment‚Ä¶
mfaine@MSSLW17050462:/mnt/c/Users/mfaine/Desktop/env-setup$
Typing exit here will close the terminal. It is possible to to manually activate the environment without launching a subshell with:
source $(pipenv --venv)/bin/activate
Steps to replicate
Pipfile:
[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[dev-packages]

[packages]

[requires]
python_version = "2.7"
Expected result
mfaine@MSSLW17050462:/mnt/c/Users/mfaine/Desktop/env-setup$ pipenv install
Creating a virtualenv for this project‚Ä¶
Pipfile: /mnt/c/Users/mfaine/Desktop/env-setup/Pipfile
Using /usr/bin/python2.7 (2.7.15rc1) to create virtualenv‚Ä¶
‚†è Creating virtual environment...New python executable in /home/mfaine/.local/share/virtualenvs/env-setup-tPXXVp16/bin/python2.7
Also creating executable in /home/mfaine/.local/share/virtualenvs/env-setup-tPXXVp16/bin/python
Installing setuptools, pip, wheel...
done.
Running virtualenv with interpreter /usr/bin/python2.7
‚úî Successfully created virtual environment!
Virtualenv location: /home/mfaine/.local/share/virtualenvs/env-setup-tPXXVp16
Pipfile.lock not found, creating‚Ä¶
Locking [dev-packages] dependencies‚Ä¶
Locking [packages] dependencies‚Ä¶
Updated Pipfile.lock (dfae9f)!
Installing dependencies from Pipfile.lock (dfae9f)‚Ä¶
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 0/0 ‚Äî 00:00:00
To activate this project's virtualenv, run pipenv shell.
Alternatively, run a command inside the virtualenv with pipenv run.
mfaine@MSSLW17050462:/mnt/c/Users/mfaine/Desktop/env-setup$ pipenv shell
Launching subshell in virtual environment‚Ä¶
(env-setup) mfaine@MSSLW17050462:/mnt/c/Users/mfaine/Desktop/env-setup$
-------------------------------------------------------------------------------
$ pipenv --support