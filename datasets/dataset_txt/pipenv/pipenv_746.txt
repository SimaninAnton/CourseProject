xbound commented on 11 Aug 2018
Issue description
I'm trying to deploy Python script to Raspberry Pi 3 remote server. I'm using pipenv to manage my dependencies on my local machine and want to install those dependencies on my remote RPI3.
I'm "tarred" all my source code with Pipfile and Pipfile.lock and unpacked it on remote server.
After that in directory of my project where Pipfile and Pipfile.lock are located I run:
$ pipenv install 
Expected result
All dependencies are successfully installed and I can run my script or import peewee library in python virtualenv:
$ pipenv run python
Python 3.5.3 (default, Jan 19 2017, 14:11:04) 
[GCC 6.3.0 20170124] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import peewee
>>>
No ImportError because peewee was installed successfully.
Actual result
pipenv install fails and I receive this messages:
Creating a virtualenv for this project...
Pipfile: /home/pi/autmoticz/Pipfile
Using /usr/bin/python3.5m (3.5.3) to create virtualenv...
‚†ãRunning virtualenv with interpreter /usr/bin/python3.5m
Using base prefix '/usr'
New python executable in /home/pi/.local/share/virtualenvs/autmoticz-mmp9wJn-/bin/python3.5m
Also creating executable in /home/pi/.local/share/virtualenvs/autmoticz-mmp9wJn-/bin/python
Installing setuptools, pip, wheel...done.
Setting project for autmoticz-mmp9wJn- to /home/pi/autmoticz

Virtualenv location: /home/pi/.local/share/virtualenvs/autmoticz-mmp9wJn-
Installing dependencies from Pipfile.lock (ff9b51)...
An error occurred while installing cryptography==2.3! Will try again.
An error occurred while installing pynacl==1.2.1! Will try again.
An error occurred while installing bcrypt==3.1.4! Will try again.
An error occurred while installing peewee==3.6.4! Will try again.
An error occurred while installing cffi==1.11.5! Will try again.
An error occurred while installing pycparser==2.18! Will try again.
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 18/18 ‚Äî 00:00:22
Installing initially failed dependencies...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting cryptography==2.3 
  Using cached https://www.piwheels.org/simple/cryptography/cryptography-2.3-cp35-cp35m-linux_armv7l.whl

THESE PACKAGES DO NOT MATCH THE HASHES FROM Pipfile.lock!. If you have updated the package versions, please update the hashes. Otherwise, examine the package contents carefully; someone may have tampered with them.
    cryptography==2.3 from https://www.piwheels.org/simple/cryptography/cryptography-2.3-cp35-cp35m-linux_armv7l.whl#sha256=fbe723225a964a69aadb248c056208389572c3a7a236e109ad7658daa0d11036 (from -r /tmp/pipenv-4da_1ook-requirements/pipenv-9pc31_f_-requirement.txt (line 1)):
        Expected sha256 21af753934f2f6d1a10fe8f4c0a64315af209ef6adeaee63ca349797d747d687
        Expected     or 27bb401a20a838d6d0ea380f08c6ead3ccd8c9d8a0232dc9adcc0e4994576a66
        Expected     or 29720c4253263cff9aea64585adbbe85013ba647f6e98367efff9db2d7193ded
        Expected     or 2a35b7570d8f247889784010aac8b384fd2e4a47b33e15c4a60b45a7c1944120
        Expected     or 42c531a6a354407f42ee07fda5c2c0dc822cf6d52744949c182f2b295fbd4183
        Expected     or 5eb86f03f9c4f0ac2336ac5431271072ddf7ecc76b338e26366732cfac58aa19
        Expected     or 67f7f57eae8dede577f3f7775957f5bec93edd6bdb6ce597bb5b28e1bdf3d4fb
        Expected     or 6ec84edcbc966ae460560a51a90046503ff0b5b66157a9efc61515c68059f6c8
        Expected     or 7ba834564daef87557e7fcd35c3c3183a4147b0b3a57314e53317360b9b201b3
        Expected     or 7d7f084cbe1fdb82be5a0545062b59b1ad3637bc5a48612ac2eb428ff31b31ea
        Expected     or 82409f5150e529d699e5c33fa8fd85e965104db03bc564f5f4b6a9199e591f7c
        Expected     or 87d092a7c2a44e5f7414ab02fb4145723ebba411425e1a99773531dd4c0e9b8d
        Expected     or 8c56ef989342e42b9fcaba7c74b446f0cc9bed546dd00034fa7ad66fc00307ef
        Expected     or 9449f5d4d7c516a6118fa9210c4a00f34384cb1d2028672100ee0c6cce49d7f6
        Expected     or bc2301170986ad82d9349a91eb8884e0e191209c45f5541b16aa7c0cfb135978
        Expected     or c132bab45d4bd0fff1d3fe294d92b0a6eb8404e93337b3127bdec9f21de117e6
        Expected     or c3d945b7b577f07a477700f618f46cbc287af3a9222cd73035c6ef527ef2c363
        Expected     or cee18beb4c807b5c0b178f4fa2fae03cef9d51821a358c6890f8b23465b7e5d2
        Expected     or d01dfc5c2b3495184f683574e03c70022674ca9a7be88589c5aba130d835ea90
             Got        fbe723225a964a69aadb248c056208389572c3a7a236e109ad7658daa0d11036


  ‚ò§  ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 0/6 ‚Äî 00:00:05
Steps to replicate
Run following command with :
$ pipenv install 
Local dev machine + `pipenv --support``
Pipenv:
Distributor ID: Ubuntu
Description: Ubuntu 16.04.5 LTS
Release: 16.04
Codename: xenial
$ pipenv --support
Raspberry Pi 3 remote server
Distributor ID: Raspbian
Description: Raspbian GNU/Linux 9.4 (stretch)
Release: 9.4
Codename: stretch
$ pipenv --support
Solutions tried
I've tried option of running pipenv lock before pipenv install as was described in #210 but it didn't helped me.
I've also tried running pipenv install` with Pipfile.lock removed - received the same message as in Actual result section
Running pipenv install --ignore-pipfile also fails with same message as in Actual result section