iammcgaber commented on 28 Jun 2018
With the recent upgrade to Pipenv 2018.6.5 we are getting the following errors from the Python-openstackclient.
Failed in branch Ansible Role: Jenkins Instance Provisioner
Traceback (most recent call last):
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/bin/openstack", line 7, in
from openstackclient.shell import main
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/openstackclient/shell.py", line 23, in
from osc_lib import shell
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/osc_lib/shell.py", line 33, in
from osc_lib.cli import client_config as cloud_config
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/osc_lib/cli/client_config.py", line 21, in
from os_client_config import exceptions as occ_exceptions
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/os_client_config/init.py", line 19, in
from os_client_config import cloud_config
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/os_client_config/cloud_config.py", line 17, in
from openstack import _log
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/openstack/init.py", line 17, in
import openstack.connection
File "/home/docker/.local/share/virtualenvs/docker--dI8ArJd/local/lib/python2.7/site-packages/openstack/connection.py", line 164, in
from openstack import _log
ImportError: cannot import name _log
I can confidently say that rolling back to the previous version of Pipenv solved this issue.