Contributor
slhck commented on 17 Jun 2019
Issue description
When launching a shell with Python 3.6.5 installed and the Pipfile requiring python_version = ">=3.6", I get a warning:
Warning: Your Pipfile requires python_version >=3.6, but you are using 3.6.5 (/Users/werner/.local/share/v/d/bin/python).
Expected result
I do not expect such a warning to be generated, as clearly 3.6.5 is covered by the >=3.6 requirement.
I think this can be alleviated by a check here, where instead of exactly comparing the versions, the python_version(path_to_python) should be equal to or higher than the required_python_version, if (and only if) the required_python_version includes “soft” requirements like >=.
Steps to replicate
$ pip3 install -e "git+https://github.com/pypa/pipenv.git@master#egg=pipenv"
$ pipenv shell
Creating a virtualenv for this project…
Pipfile: /Users/werner/Documents/Projects/foo/Pipfile
Using /Users/werner/.pyenv/versions/3.6.5/bin/python3.6m (3.6.5) to create virtualenv…
⠋ Creating virtual environment...Using base prefix '/Users/werner/.pyenv/versions/3.6.5'
New python executable in /Users/werner/.local/share/virtualenvs/foo-sYOhm5fX/bin/python3.6m
Also creating executable in /Users/werner/.local/share/virtualenvs/foo-sYOhm5fX/bin/python
Installing setuptools, pip, wheel...
done.
Running virtualenv with interpreter /Users/werner/.pyenv/versions/3.6.5/bin/python3.6m

✔ Successfully created virtual environment!
Virtualenv location: /Users/werner/.local/share/virtualenvs/foo-sYOhm5fX
Launching subshell in virtual environment…
 . /Users/werner/.local/share/virtualenvs/foo-sYOhm5fX/bin/activate
$ exit
$ pipenv shell
Warning: Your Pipfile requires python_version >=3.6, but you are using 3.6.5 (/Users/werner/.local/share/v/d/bin/python).
  $ pipenv --rm and rebuilding the virtual environment may resolve the issue.
  $ pipenv check will surely fail.
Launching subshell in virtual environment…
 . /Users/werner/.local/share/virtualenvs/foo-sYOhm5fX/bin/activate
$ pipenv --support