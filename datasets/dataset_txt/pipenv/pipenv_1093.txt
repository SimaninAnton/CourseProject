dmckim1977 commented on 5 May 2018 â€¢
edited by uranusjr
When making migrations on a new django 2 project it is saying psycopg2 is improperly configured or not found.
"raise ImproperlyConfigured("Error loading psycopg2 module: %s" % e)
django.core.exceptions.ImproperlyConfigured: Error loading psycopg2 module: No module named 'psycopg2'"
psycopg2 is installed globally and in the environment django is installed in.
From pipenv graph:
Django==2.0.5
  - pytz [required: Any, installed: 2018.4]
psycopg2==2.7.4
This is from outside the env:
Python 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 10:22:32) [MSC v.1900 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import psycopg2
>>>
psycopg2 is installed but for some reason django is not seeing it when trying to makemigrations or migrating.
This is from the settings.py file:
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'mysite',
        'USER': 'username',
        'PASSWORD': 'password',
        'HOST': 'localhost',
        'PORT': '',
    }
}
1