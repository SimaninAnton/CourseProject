skytect commented on 14 Nov 2018
Issue description
Whenever I type in any pipenv command including pipenv itself, I encounter an import error.
Expected result
pipenv to return a list of pipenv commands
Various pipenv commands to do what they are supposed to do accordingly
Actual result
Traceback (most recent call last):
  File "/usr/bin/pipenv", line 7, in <module>
    from pipenv import cli
  File "/usr/lib/python2.7/site-packages/pipenv/__init__.py", line 23, in <module>
    from .cli import cli
  File "/usr/lib/python2.7/site-packages/pipenv/cli.py", line 26, in <module>
    from .utils import is_valid_url
  File "/usr/lib/python2.7/site-packages/pipenv/utils.py", line 59, in <module>
    from .vendor.requirementslib import Requirement
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/__init__.py", line 6, in <module>
    from .models import Requirement, Lockfile, Pipfile
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/models/__init__.py", line 8, in <module>
    from .requirements import Requirement
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/models/requirements.py", line 15, in <module>
    from .markers import PipenvMarkers
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/models/markers.py", line 6, in <module>
    from .utils import validate_markers, filter_none
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/models/utils.py", line 9, in <module>
    from .._compat import Link
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/_compat.py", line 55, in <module>
    Command = do_import("basecommand", "Command")
  File "/usr/lib/python2.7/site-packages/pipenv/vendor/requirementslib/_compat.py", line 35, in do_import
    _tmp = importlib.import_module(pip9)
  File "/usr/lib64/python2.7/importlib/__init__.py", line 37, in import_module
    __import__(name)
ImportError: No module named basecommand
Steps to replicate
OS: Amazon Linux 2 on an ec2 instance
pipenv version: Successfully installed pipenv-2018.10.13 (I can't run pipenv -V)
pip -V: pip 18.1 from /home/ec2-user/.local/lib/python3.7/site-packages/pip (python 3.7)
I tried both in an empty directory and one with the following pipfile:
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
pyyaml = "*"
pika = "*"
"psycopg2" = "*"
aiohttp = "*"

[dev-packages]

[requires]
python_version = "3.7"
I am unable to run pipenv --support as it also returns ImportError: No module named basecommand