bdusell commented on 23 Dec 2017
Running pipenv --completion is consistently slow (it takes about 1 second to run), even after the command has been run multiple times and everything has been loaded into memory.
This means including eval $(pipenv --completion) in a .bashrc file makes the user wait for a second until the shell prompt comes up.
Describe your environment
OS: Kubuntu 17.04
Python version: 2.7.13
Pipenv version: 9.0.1
My shell is bash.
Expected result
The command shouldn't take so long to run.
Actual result
When running in bash, the command takes a whole second to run.
$ time pipenv --completion

_pipenv_completion() {
    local IFS=$'\t'
    COMPREPLY=( $( env COMP_WORDS="${COMP_WORDS[*]}" \
                   COMP_CWORD=$COMP_CWORD \
                   _PIPENV_COMPLETE=complete-bash $1 ) )
    return 0
}

complete -F _pipenv_completion -o default pipenv


real    0m0.987s
user    0m0.888s
sys     0m0.080s
Steps to replicate
Run time pipenv --completion in a bash shell.
P.S. This is a great project.
18