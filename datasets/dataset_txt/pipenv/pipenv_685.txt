l0b0 commented on 5 Sep 2018
I'm working on a project which has been running a lot of pipenv checks (possibly on the order of hundreds of requests per day). I think we've been throttled at the network level, because this command now results in messages like this:
Connection to pyup.io timed out. (connect timeout=5)
curl pyup.io can't reach the site, but torify curl pyup.io (that is, via a proxy) works, and dig pyup.io returns the same IP as SSL Labs detects, so it's definitely restricted to somewhere between this network and that site.
I've changed our process to run pipenv check much less often, but would it be possible to detect or avoid this issue in pipenv? Ideas:
Configuring our own API key so we can reliably stay below any limits.
Suggesting solutions when the connection times out.
Configurable caching of the security issues database. I realize this is probably a very risky move since security issues may have to be fixed within hours, but it could be useful for people who for process reasons end up running a lot of checks.
PS: The recommended forum for these requests returns HTTP 404.
1