Californian commented on 5 Dec 2017 •
edited
Authentication for extra index URLs requests user-interactive authentication even when authentication is specified in the extra index URL itself.
Describe your environment
Arch Linux
Python version: Python 3.6.3
Pipenv version: pipenv, version 8.3.2
Expected result
When I add a [[source]] with a URL that has authentication information (e.g. https://user:password@host/pypi/simple), authentication information should not be requested.
Actual result
$ pipenv lock --verbose
Locking [dev-packages] dependencies…
Using pip: -i https://pypi.python.org/simple --extra-index-url https://xxxUSERxxx:xxxPASSWORDxxx@xxxHOSTxxx/xxxPATHxxx/pypi/simple

                          ROUND 1
Current constraints:
  xxx
  xxx
  xxx

Finding the best candidates:
User for xxxxxxxx:
This then waits for user input.
Steps to replicate
Add a [[source]] to the Pipfile with a URL that requires basic http auth.
Add a package to the Pipfile that uses the specified index (e.g. package_name: {version="*", index="index_name"}.
Run pipenv lock.