murrple-1 commented on 12 Apr 2018 â€¢
edited
Tested with version 11.10.0.
If you setup a dependency with markers, the dependency itself honors the markers, but its sub-dependencies install anyway. In principle, this probably shouldn't happen, but it's compounded into a real issue when the sub-dependencies themselves fail for reasons stated in the markers.
Expected result
The sub-dependencies of a dependency should be ignored
Actual result
Sub-dependencies are (attempted to be) installed, but (seemingly) only for versions <= 3.3
Steps to replicate
Please see minimum-reproducible code at this repo, with this Travis-CI. Notice that the Pipfile succeeds for Python 3.4, 3.5, & 3.6, but fails for 2.7 & 3.3.