frenetic commented on 19 Sep 2017
I'm having this exception now. Everything was working fine last friday (I was using version 7.2). Now, I've got this error on version 7.2.8.
This error is thrown when I run pipenv lock or pipenv install.
My current environment is a Docker image:
Python 2.7.13
pip 9.0.1 from /usr/local/lib/python2.7/site-packages (python 2.7)
Dockerfile
FROM python:2

RUN apt-get update && apt-get install -qyy \
    -o APT::Install-Recommends=false -o APT::Install-Suggests=false \
    git\
    gcc\
    openssh-client\
    libpq-dev\
    postgresql-client

WORKDIR /app

ADD Pipfile /app
ADD Pipfile.lock /app

RUN pip install pipenv
RUN pipenv install --dev

ADD . /app

EXPOSE 8000
Full error
root@dd905c0d6706:/mentors-api# pipenv lock
Traceback (most recent call last):
  File "/usr/local/bin/pipenv", line 11, in <module>
    sys.exit(cli())
  File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/usr/local/lib/python2.7/site-packages/pipenv/cli.py", line 1575, in lock
    ensure_project(three=three, python=python)
  File "/usr/local/lib/python2.7/site-packages/pipenv/cli.py", line 478, in ensure_project
    ensure_virtualenv(three=three, python=python)
  File "/usr/local/lib/python2.7/site-packages/pipenv/cli.py", line 446, in ensure_virtualenv
    python = ensure_python(three=three, python=python)
  File "/usr/local/lib/python2.7/site-packages/pipenv/cli.py", line 339, in ensure_python
    python = project.required_python_version
  File "/usr/local/lib/python2.7/site-packages/pipenv/project.py", line 54, in required_python_version
    required = self.parsed_pipfile.get('requires', {}).get('python_version')
  File "/usr/local/lib/python2.7/site-packages/pipenv/project.py", line 191, in parsed_pipfile
    data[section][package] = toml._get_empty_inline_table(dict)
AttributeError: 'module' object has no attribute '_get_empty_inline_table'