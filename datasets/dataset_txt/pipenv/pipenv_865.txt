Member
uranusjr commented on 5 Jul 2018
Be sure to check the existing issues (both open and closed!).
Issue description
do_clean imports pip._internal, available only in 10+.
Expected result
Cleans the caches.
Actual result
$ pipenv --clear
Clearing cachesâ€¦
Traceback (most recent call last):
  File "/Users/uranusjr/.local/bin/pipenv", line 11, in <module>
    load_entry_point('pipenv', 'console_scripts', 'pipenv')()
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/vendor/click/core.py", line 1043, in invoke
    return Command.invoke(self, ctx)
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/vendor/click/decorators.py", line 17, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/cli.py", line 225, in cli
    do_clear()
  File "/Users/uranusjr/Documents/programming/python/pipenv/pipenv/pipenv/core.py", line 132, in do_clear
    import pip._internal.locations
ModuleNotFoundError: No module named 'pip._internal'