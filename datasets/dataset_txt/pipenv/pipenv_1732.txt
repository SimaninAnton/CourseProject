stephen-bunn commented on 12 Dec 2017
Be sure to check the existing issues, both open and closed.
I encounter a NameError on locking my Pipfile.
Traceback (most recent call last):
  File "/home/stephen-bunn/.local/bin/pipenv", line 11, in <module>
    load_entry_point('pipenv==9.0.0', 'console_scripts', 'pipenv')()
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/cli.py", line 2054, in lock
    do_lock(verbose=verbose, clear=clear, pre=pre)
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/cli.py", line 1099, in do_lock
    pre=pre
  File "/home/stephen-bunn/.local/lib/python3.6/site-packages/pipenv/utils.py", line 593, in resolve_deps
    collected_hashes = list(list(resolver.resolve_hashes([result]).items())[0][1])
NameError: name 'resolver' is not defined
Describe your environment
OS Type: Ubuntu 17.10
Python version: 3.6.3
Pipenv version: 9.0.0
Expected result
I would prefer for there not to be a NameError
Actual result
This issue relates to the ibm-db-sa-py3 package where the required version 0.3.1-1 technically doesn't exist (I'm sure I'm the only person using it).
For reference
Steps to replicate
Here is my Pipfile contents, locking them should cause this error.
[[source]]

url = "https://pypi.python.org/simple"
verify_ssl = true


[packages]

simplejson = "*"
json-log-formatter = "*"
jsonschema = "*"
camel = "*"
pyyaml = "*"
pyexcel = "*"
pyexcel-io = "*"
pyexcel-xlsx = "*"
sqlparse = "*"
sqlalchemy = "*"
sqlalchemy-postgres-copy = "*"
"psycopg2" = "*"
pymssql = "*"
celery = "*"
kombu = "*"
redis = "*"
walrus = "*"
flower = "*"
requests = "*"
dateparser = "*"
emails = "*"
pysftp = "*"
pysmb = "*"
psutil = "*"
simple-salesforce = "*"
"ibm-db-sa-py3" = "==0.3.1-1"
pyodbc = "==3.1.1"


[dev-packages]

ptpython = "*"
"flake8" = "*"
nose = "*"
coverage = "*"
cprofilev = "*"
sphinx = "*"
sphinx-rtd-theme = "*"
pypager = "*"
prompt-toolkit = "*"
pygments = "*"
colorama = "*"
invoke = "*"
pytest = "*"
pytest-cov = "*"
"pytest-flake8" = "*"