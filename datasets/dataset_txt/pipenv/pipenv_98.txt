MichoelSnow commented on 19 Jul 2019 ‚Ä¢
edited
I am using pipenv 2018.11.26 and python 3.7.3 on CentOS Linux release 7.5.1804 (Core). I tried installing tensorflow 1.12.0 which is incompatible with python 3.7, the installation failed and tensorflow cannot be imported, as expected.
(boudey) (base) [msnow@ybvmhsx boudey]$ pipenv install tensorflow==1.12.0
Installing tensorflow==1.12.0‚Ä¶
‚úî Installation Succeeded
Pipfile.lock (a59cb3) out of date, updating to (f0249f)‚Ä¶
Locking [dev-packages] dependencies‚Ä¶
Locking [packages] dependencies‚Ä¶
‚úî Success!
Updated Pipfile.lock (a59cb3)!
Installing dependencies from Pipfile.lock (a59cb3)‚Ä¶
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 23/23 ‚Äî 00:00:03
An error occurred while installing tensorflow==1.12.0 --hash=sha256:16fb8a59e724afd37a276d33b7e2ed070e5c84899a8d4cfc3fe1bb446a859da7 --hash=sha256:1ae50e44c0b29df5fb5b460118be5a257b4eb3e561008f64d2c4c715651259b7 --hash=sha256:1b7d09cc26ef727d628dcb74841b89374a38ed81af25bd589a21659ef67443da --hash=sha256:2681b55d3e434e20fe98e3a3b1bde3588af62d7864b62feee4141a71e29ef594 --hash=sha256:42fc8398ce9f9895b488f516ea0143cf6cf2a3a5fc804da4a190b063304bc173 --hash=sha256:531619ad1c17b4084d09f442a9171318af813e81aae748e5de8274d561461749 --hash=sha256:5cee35f8a6a12e83560f30246811643efdc551c364bc981d27f21fbd0926403d --hash=sha256:6ad6ed495f1a3d445c43d90cb2ce251ff5532fd6436e25f52977ee59ffa583df --hash=sha256:cd8c1a899e3befe1ccb774ea1aae077a4b1286f855c956210b23766f4ac85c30 --hash=sha256:d3f3d7cd9bd4cdc7ebf25fd6c2dfc103dcf4b2834ae9276cc4cf897eb1515f6d --hash=sha256:e4f479e6aca595acc98347364288cbdfd3c025ca85389380174ea75a43c327b7 --hash=sha256:f587dc03b5f0d1e50cca39b7159c9f21ffdec96273dbf5f7619d48c622cb21f2! Will try again.
Installing initially failed dependencies‚Ä¶
[pipenv.exceptions.InstallError]:   File "/home/msnow/.local/lib/python3.7/site-packages/pipenv/core.py", line 1992, in do_install
[pipenv.exceptions.InstallError]:       skip_lock=skip_lock,
[pipenv.exceptions.InstallError]:   File "/home/msnow/.local/lib/python3.7/site-packages/pipenv/core.py", line 1253, in do_init
[pipenv.exceptions.InstallError]:       pypi_mirror=pypi_mirror,
[pipenv.exceptions.InstallError]:   File "/home/msnow/.local/lib/python3.7/site-packages/pipenv/core.py", line 859, in do_install_dependencies
[pipenv.exceptions.InstallError]:       retry_list, procs, failed_deps_queue, requirements_dir, **install_kwargs
[pipenv.exceptions.InstallError]:   File "/home/msnow/.local/lib/python3.7/site-packages/pipenv/core.py", line 763, in batch_install
[pipenv.exceptions.InstallError]:       _cleanup_procs(procs, not blocking, failed_deps_queue, retry=retry)
[pipenv.exceptions.InstallError]:   File "/home/msnow/.local/lib/python3.7/site-packages/pipenv/core.py", line 681, in _cleanup_procs
[pipenv.exceptions.InstallError]:       raise exceptions.InstallError(c.dep.name, extra=err_lines)
[pipenv.exceptions.InstallError]: ['Collecting tensorflow==1.12.0 (from -r /tmp/pipenv-0zf2uu10-requirements/pipenv-b1i34vsg-requirement.txt (line 1))']
[pipenv.exceptions.InstallError]: ['ERROR: Could not find a version that satisfies the requirement tensorflow==1.12.0 (from -r /tmp/pipenv-0zf2uu10-requirements/pipenv-b1i34vsg-requirement.txt (line 1)) (from versions: 1.13.0rc1, 1.13.0rc2, 1.13.1, 1.13.2, 1.14.0rc0, 1.14.0rc1, 1.14.0, 2.0.0a0, 2.0.0b0, 2.0.0b1)', 'ERROR: No matching distribution found for tensorflow==1.12.0 (from -r /tmp/pipenv-0zf2uu10-requirements/pipenv-b1i34vsg-requirement.txt (line 1))']
ERROR: ERROR: Package installation failed...
  ‚ò§  ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 0/1 ‚Äî 0
see pipenvlog.txt for the --verbose version of the install
However, tensorflow is still listed in the Pipfile and the Pipfile.lock. I assume that if the install failed then the package should not be listed in the Pipfile.
$ pipenv --support