cmackenziek commented on 11 Sep 2019
Problem description.
I'm currently using Docker with Pipenv for a project. Building a container for development requires using the --dev flag when running pipenv sync or pipenv install. Building for production/staging, on the other hand, doesn't.
This means that you currently have to introduce conditionals in a Dockerfile to determine whether or not the flag is needed, or maintain two separate Dockerfiles for the two different builds.
Proposed solution.
I think the use of an environment variable to determine whether or not to install development dependencies when running pipenv install or pipenv sync would be a cleaner solution to this problem. Something like PIPENV_INSTALL_DEV. I believe npm does something similar with an environment variable called NODE_ENV.
If this sounds like a good idea I'd gladly try and submit a PR for this.
1