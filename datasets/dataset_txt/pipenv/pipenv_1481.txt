seslattery commented on 6 Mar 2018 •
edited
Describe your environment
Docker container: FROM python:2.7-slim-stretch (Debian Linux)
Python version: 2.7.14
Pipenv version: 11.0.2 (10.1.2)
Expected result
The Pipfile line in this case is:
internal-package-name = "*"
I had a working Pipfile and Pipfile.lock on 10.1.2, with an internal pypi to grab a package with the following possible versions available: "1.0.0.dev1, 1.0.0.dev1, 1.0.0.dev2, 1.0.0.dev2, 1.0.0.dev3, 1.0.0.dev3, 1.0.0.dev4, 1.0.0.dev4, 1.0.0.dev5, 1.0.0.dev5, 1.0.0.dev6, 1.0.0.dev6" .
On 10.1.2 this installs just fine, and everything worked as expected.
Actual result
When I updated to 11.0.2 today, I received the following error when trying various combinations of installs:
Pipfile.lock (370d05) out of date, updating to (5a3b50)…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches internal-package-name
Tried: 1.0.0.dev1, 1.0.0.dev1, 1.0.0.dev2, 1.0.0.dev2, 1.0.0.dev3, 1.0.0.dev3, 1.0.0.dev4, 1.0.0.dev4, 1.0.0.dev5, 1.0.0.dev5, 1.0.0.dev6, 1.0.0.dev6
Steps to replicate
Not sure how to replicate because it's an internal pypi server, but I can make a simple Dockerfile and Pipfile if I can find another project with .dev only versions. Let me know what other information I can provide to help.