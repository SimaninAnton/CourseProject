reflechant commented on 4 Jan 2018 •
edited
My environment:
Windows 10 64-bit with latest updates
Python 3.6.4
Pipenv 9.0.1
Expected result
I expect pipenv to run from command line properly
Actual result
C:\Users\Рома>pipenv --verbose File "C:\Users\Рома\AppData\Local\Programs\Python\Python36\Scripts\pipenv-script.py", line 1 SyntaxError: Non-UTF-8 code starting with '\xf0' in file C:\Users\Рома\AppData\Local\Programs\Python\Python36\Scripts\pipenv-script.py on line 1, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details
It works if run with python -m pipenv though
NOTE: I attached the pipenv-script.py inside a ZIP archive
pipenv-script.zip
Steps to replicate
Install pipenv under Windows 10 with non-English locale and username (in order to do it you need to first update to pip10 with easy_install https://github.com/pypa/pip/archive/master.zip as pip9.0.1 itself is unusable under non-English locale)
Open Windows 10 console, type pipenv and press Enter
NOTE: using git bash doesn't help in any way.
P.S. The error is trivial and looks like it's not in pipenv itself but in install scripts. Maybe it's distutils, maybe it's pip, maybe it's Python for Windows. In such a case please, tell me where to report the issue or report to the corresponding project developers.