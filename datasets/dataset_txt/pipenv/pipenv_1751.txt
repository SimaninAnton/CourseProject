hyperknot commented on 5 Dec 2017
Be sure to check the existing issues, both open and closed.
Describe the issue briefly here.
Whenever I run pipenv shell it corrupts my .bash_history file.
Describe your environment
OS Type: OS X 10.12.6
Python version: $ python -V Python 2.7.14 (pipenv uses Python 3.6.3)
Pipenv version: $ pipenv --version pipenv, version 8.3.2
Expected result
.bash_history should not get destroyed upon entering pipenv shell
Steps to replicate
original .bash_history is quite large, almost 1 MB.
run pipenv shell
by the time the shell is created, my .bash_history is super small, like 15 KB.
It happens on a clear folder (no Pipfile or anything), both with no args, --two and --three.
My bash_profile has these lines:
shopt -s histappend
HISTSIZE=100000
HISTFILESIZE=$HISTSIZE
HISTCONTROL=ignoredups:erasedups:ignorespace
PROMPT_COMMAND="history -a;$PROMPT_COMMAND"