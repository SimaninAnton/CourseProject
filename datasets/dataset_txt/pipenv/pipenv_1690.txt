jtara1 commented on 26 Dec 2017
I've been packaging and uploading some of my Python modules to pypi using
python setup.py sdist
twine upload dist/*
I've done this while inside the pipenv shell
but when I install the module from pypi through pipenv, it always seems to get 0.1.0 instead of the latest, 0.1.3.
pipenv --three
pipenv shell
pipenv install imgur-downloader==0.1.3
pipenv --venv
I go to the lib/python3.5/site-packages relative to the venv directory and can confirm it's not the latest version.
Describe your environment
OS Type:
Linux Mint (Serena, 18 (?)) Linux j-pc 4.4.0-83-generic \hashtag106-Ubuntu SMP Mon Jun 26 17:54:43 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux
Python version:
j@j-pc ~ $ python3 -V
Python 3.5.2
Pipenv version:
$ pipenv --version
pipenv, version 9.0.1
Expected result
pipenv install imgur-downloader installs latest version of imgur-downloader located on pypi.org
Actual result
When possible, provide the verbose output (--verbose), especially for locking and dependencies resolving issues.
j@j-pc ~/_Github-Projects/Test $ alias pipe="pipenv"
j@j-pc ~/_Github-Projects/Test $ pipe --three
Creating a virtualenv for this project…
Using /usr/bin/python3 to create virtualenv…
⠋Running virtualenv with interpreter /usr/bin/python3
Using base prefix '/usr'
New python executable in /home/j/.local/share/virtualenvs/Test-AhCG0PLA/bin/python3
Also creating executable in /home/j/.local/share/virtualenvs/Test-AhCG0PLA/bin/python
Installing setuptools, pkg_resources, pip, wheel...done.

Virtualenv location: /home/j/.local/share/virtualenvs/Test-AhCG0PLA
Creating a Pipfile for this project…
j@j-pc ~/_Github-Projects/Test $ pipe install --verbose imgur-downloader
Installing imgur-downloader…
⠋Installing 'imgur-downloader'
$ "/home/j/.local/share/virtualenvs/Test-AhCG0PLA/bin/pip" install   --verbose   "imgur-downloader" -i https://pypi.python.org/simple --exists-action w
Collecting imgur-downloader
  1 location(s) to search for versions of imgur-downloader:
  * https://pypi.python.org/simple/imgur-downloader/
  Getting page https://pypi.python.org/simple/imgur-downloader/
  Looking up "https://pypi.python.org/simple/imgur-downloader/" in the cache
  Current age based on date: 48
  Freshness lifetime from max-age: 600
  Freshness lifetime from request max-age: 600
  The response is "fresh", returning cached response
  600 > 48
  Analyzing links from page https://pypi.python.org/simple/imgur-downloader/
    Skipping link https://pypi.python.org/packages/1c/d1/65db2a6adae79dbc782b6e97a7155b3d0a32c0ec5d598764775099a34c45/imgur_downloader-0.1.2-py3.5.egg#md5=cccccc82319e519d157d55f2cb6e56a2 (from https://pypi.python.org/simple/imgur-downloader/); unsupported archive format: .egg
    Found link https://pypi.python.org/packages/2c/13/3cc90e603558fa62eaabe08d273bc9940cece9a95c66b235fd563de989b7/imgur_downloader-0.1.2.tar.gz#md5=b5dedd5932d721400247d597b31c582b (from https://pypi.python.org/simple/imgur-downloader/), version: 0.1.2
    Skipping link https://pypi.python.org/packages/a1/43/8af1cbc790f84a3e4f3ea594b91a3db532ff103f41092d3b7227e5812e31/imgur_downloader-0.1.0-py3.5.egg#md5=d2ecd46331a1e6ca876aeacced450500 (from https://pypi.python.org/simple/imgur-downloader/); unsupported archive format: .egg
    Found link https://pypi.python.org/packages/ba/c0/dc586142ecbdf7eb2e8981a65d5b1cdae077123664d6281ece7a3f77b238/imgur_downloader-0.1.1.tar.gz#md5=204a3bbd7a35959e093a32bce27200ff (from https://pypi.python.org/simple/imgur-downloader/), version: 0.1.1
    Found link https://pypi.python.org/packages/c1/2e/9993d91c70860e6d09a67d0fffc3a0fb76cde0d355f4dc384c4a894e025d/imgur_downloader-0.1.0.tar.gz#md5=58d79fac05aaf1768497c0bea2716ec5 (from https://pypi.python.org/simple/imgur-downloader/), version: 0.1.0
    Found link https://pypi.python.org/packages/e4/8a/cf0329045f1381b743514f7ef853fd8cc81b75b5afc30496eddc3ebdb4e2/imgur_downloader-0.1.3.tar.gz#md5=f51fc3bb1b8d0f8dc3bb33c9d41a512c (from https://pypi.python.org/simple/imgur-downloader/), version: 0.1.3
  Using version 0.1.3 (newest of versions: 0.1.0, 0.1.1, 0.1.2, 0.1.3)                                                                                      
  Using cached wheel link: file:///home/j/.cache/pip/wheels/e5/b5/69/b50eb81ad53601a52889f2b7d6809c41477de9cf679f189bdc/imgur_downloader-0.1.0-cp35-none-any.whl                                                                                                                                                        
Installing collected packages: imgur-downloader                                                                                                             
                                                                                                                                                            
  changing mode of /home/j/.local/share/virtualenvs/Test-AhCG0PLA/bin/imgur_downloader to 775                                                               
Successfully installed imgur-downloader-0.1.0                                                                                                               
Cleaning up...                                                                                                                                              
                                                                                                                                                            
Adding imgur-downloader to Pipfile's [packages]…                                                                                                            
Locking [dev-packages] dependencies…                                                                                                                        
Locking [packages] dependencies…                                                                                                                            
Updated Pipfile.lock (40f27d)!  
with --verbose option, you can see it install 0.1.0
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
See either of the two code blocks for the commands I'm executing.
This bug has screwed me in confusion for at least a few hours while I ask myself if I somehow screwed up the packaging and uploading to pypi.org, but I confirmed it's the fault of pipenv.