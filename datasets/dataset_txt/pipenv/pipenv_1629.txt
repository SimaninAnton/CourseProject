Contributor
OddBloke commented on 20 Jan 2018
When experimenting in a Dockerfile, I hit an odd error message:
Creating a virtualenv for this project…
usage: pew [-h] [-p PYTHON] [-i PACKAGES] [-r REQUIREMENTS] [-d] [-a PROJECT]
           envname
pew: error: the following arguments are required: envname

Virtualenv location: 
Creating a Pipfile for this project…
Creating a virtualenv for this project…
usage: pew [-h] [-p PYTHON] [-i PACKAGES] [-r REQUIREMENTS] [-d] [-a PROJECT]
           envname
pew: error: the following arguments are required: envname

Virtualenv location: 
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
An unexpected error occurred while accessing your virtualenv's python installation!
Please run $ pipenv --rm to re-create your environment.
Obviously a Dockerfile is a pathological environment to be running in (and I've moved on to resolve the issue), but it feels like pipenv should abort much earlier than it did
Describe your environment
OS Type: ubuntu:16.04
Python version: 3.5
Pipenv version: latest from PyPI
Expected result
Error message explaining the actual issue.
Actual result
Above error message.
Steps to replicate
Attempt to build this Dockerfile:
FROM ubuntu:16.04

RUN apt-get update && apt-get install -y python3-pip
RUN pip3 install pipenv

ENV LC_ALL=C.UTF-8
ENV LANG=C.UTF-8

RUN pipenv install --deploy --verbose
15