Collaborator
jtratner commented on 14 Mar 2018
Be sure to check the existing issues (both open and closed!).
When resolver can't find a stable set of dependencies, pipenv install (and probably pipenv lock) doesn't generate a lockfile but also doesn't generate any visible error (nor does it install anything).
Please run $ python -m pipenv.help, and paste the results here.
If you're on MacOS, just run the following:
$ python -m pipenv.help | pbcopy
$ python -m pipenv.help output (from *after* I wiped away caches)
Pipenv version: `'11.7.3'`
Expected result
Expected either dependencies to be resolved and packages installed or a visible error message to be printed to the console.
Actual result
›› pipenv install
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Nearly full output of pipenv install --verbose here
I unfortunately fixed the issue by wiping my caches away. With --verbose (before wiping away cache) I saw a bunch of messages about unstable rounds that look like:
New dependencies found in this round:
  adding ['pytest', '==3.4.2', '[]']
Removed dependencies in this round:
  removing ['attrs', '>=17.2.0', '[]']
  removing ['colorama', '', '[]']
  removing ['funcsigs', '', '[]']
  removing ['pluggy', '<0.7,>=0.5', '[]']
  removing ['py', '>=1.5.0', '[]']
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 9: not stable
New dependencies found in this round:
  adding ['attrs', '>=17.2.0', '[]']
  adding ['colorama', '', '[]']
  adding ['funcsigs', '', '[]']
  adding ['pluggy', '<0.7,>=0.5', '[]']
  adding ['py', '>=1.5.0', '[]']
Removed dependencies in this round:
  removing ['pytest', '==3.4.2', '[]']
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 10: not stable
New dependencies found in this round:
  adding ['pytest', '==3.4.2', '[]']
Removed dependencies in this round:
  removing ['attrs', '>=17.2.0', '[]']
  removing ['colorama', '', '[]']
  removing ['funcsigs', '', '[]']
  removing ['pluggy', '<0.7,>=0.5', '[]']
  removing ['py', '>=1.5.0', '[]']
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 11: not stable
New dependencies found in this round:
  adding ['attrs', '>=17.2.0', '[]']
  adding ['colorama', '', '[]']
  adding ['funcsigs', '', '[]']
  adding ['pluggy', '<0.7,>=0.5', '[]']
  adding ['py', '>=1.5.0', '[]']
Removed dependencies in this round:
  removing ['pytest', '==3.4.2', '[]']
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 12: not stable
and the final output was just "Result of round 16: not stable" - with no additional message to the user.
Steps to replicate
as I said, can't really replicate it because it stopped failing after I wiped my wheel cache, but here's the Pipfile:
[[source]]

url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"


[packages]

stor = ">=2.1.1"
PyYAML = "*"
requests = "*"
pytest = "*"


[dev-packages]