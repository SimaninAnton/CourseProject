daegontaven commented on 15 Apr 2018
Trying to install a library directly from a git archive url that has an html selector does not work. Pipenv will simply ignore the selector and won't follow the selector.
$ python -m pipenv.help output
Expected result
Attempting to install from this url (https://github.com/Rapptz/discord.py/archive/rewrite.zip#egg=discord.py[voice]) using pipenv works without any issues.
eg: pipenv install https://github.com/Rapptz/discord.py/archive/rewrite.zip#egg=discord.py[voice]
Actual result
A 404 error because only selectors work on github. This is the actual output of what happens when this is attempted on an empty repository.
meredith@taylor:~/PycharmProjects/Test$ pipenv install https://github.com/Rapptz/discord.py/archive/rewrite.zip#egg=discord.py[voice]
Verbose Result
meredith@taylor:~/PycharmProjects/Test$ pipenv install --verbose https://github.com/Rapptz/discord.py/archive/rewrite.zip#egg=discord.py[voice]
Things to Note
The Pipfile looks like this after something is installed from a url with selectors.
[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"

[packages]
"discord.py" = {file = "https://github.com/Rapptz/discord.py/archive/rewrite.zip", extras = ["voice"]}

[dev-packages]

[requires]
python_version = "3.6"
Temporary Fix
Manually adding the selector will fix this problem immediately. The new Pipfile will look like this after this fix.
[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"

[packages]
"discord.py" = {file = "https://github.com/Rapptz/discord.py/archive/rewrite.zip#egg=discord.py",", extras = ["voice"]}

[dev-packages]

[requires]
python_version = "3.6"