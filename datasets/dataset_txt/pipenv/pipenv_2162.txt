colinwd commented on 19 Sep 2017
We've got an internal PyPI running in our corporate network, and I'm having trouble getting Pipenv to talk to it.
Relevant Pipfile section, anonymized:
[[source]]
url = "https://<COMPANY_DOMAIN>/repository/pypi/simple"
verify_ssl = false

[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true
Attempting to run pipenv lock with this config results in:
requests.exceptions.SSLError: HTTPSConnectionPool(host='<COMPANY_DOMAIN>', port=443): Ma
x retries exceeded with url: /repository/cie-pypi/simple/<PROJECT>/ (Caused by SSLError(SSLError(1, 
u'[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:661)'),))
This is on a Fedora 26 box, and my cert store is configured to trust the domain (curl works fine). I'm not well versed in how requests manages certificates so if there's another way for me to feed it my cert chain that'd be ideal.
Thanks!