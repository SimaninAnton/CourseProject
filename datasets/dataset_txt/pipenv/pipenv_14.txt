ngoue commented on 10 Dec 2019
Issue description
pipenv does not load multiline environment variables the same way python-dotenv does.
This is the exact same issue that was reported in #2914, but that was closed and I'm still experiencing the same issue.
Expected result
When using pipenv I expect environment vars to be parsed the same as they are when I run python-dotenv.
Actual result
Currently, pipenv doesn't handle multiline env vars like python-dotenv.
# .env

RSA_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
MIICXAIBAAKBgH8bp1bnhsb6ayVktCD4LKS758aCKDSjUTVN/J+ZrTAQlOdgQIi5
...
wVjluhj3Xi6rHAIQ0AerQA3RPjnwKq+yxbXOih6Gwus=
-----END RSA PRIVATE KEY-----
"
With $ pipenv run python:
>>> import os
>>> print(os.getenv('RSA_PRIVATE_KEY'))
"-----BEGIN RSA PRIVATE KEY-----
But when using python-dotenv in a regular python shell:
>>> import os, dotenv
>>> dotenv.load_dotenv()
>>> print(os.getenv('RSA_PRIVATE_KEY'))
-----BEGIN RSA PRIVATE KEY-----MIICXAIBAAKBgH8bp1bnhsb6ayVktCD4LKS758aCKDSjUTVN/J+ZrTAQlOdgQIi5
...
wVjluhj3Xi6rHAIQ0AerQA3RPjnwKq+yxbXOih6Gwus=
-----END RSA PRIVATE KEY-----
Steps to replicate
See above
$ pipenv --support