renato-bvdash commented on 12 Dec 2018 •
edited
I'm on a MacOS.
pipenv install --dev returns the upcoming error report.
I have even tried to install pipenv install --skip-lock libgraphviz-dev, but it tells me it can't find a matching version of libgraphviz-dev for pygraphviz.
I lack the knowledge to know if it's an error on my end or if pipenv is playing me bad shenanigans.
Without much further ado, the error...
Installing dependencies from Pipfile.lock (5003aa)…
An error occurred while installing pygraphviz==1.5 --hash=sha256:50a829a305dc5a0fd1f9590748b19fece756093b581ac91e00c2c27c651d319d! Will try again.
  🐍   ▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 103/103 — 00:02:37
Installing initially failed dependencies…
[pipenv.exceptions.InstallError]:   File "/usr/local/Cellar/pipenv/2018.11.26/libexec/lib/python3.7/site-packages/pipenv/core.py", line 1874, in do_install
[pipenv.exceptions.InstallError]:       keep_outdated=keep_outdated
[pipenv.exceptions.InstallError]:   File "/usr/local/Cellar/pipenv/2018.11.26/libexec/lib/python3.7/site-packages/pipenv/core.py", line 1253, in do_init
[pipenv.exceptions.InstallError]:       pypi_mirror=pypi_mirror,
[pipenv.exceptions.InstallError]:   File "/usr/local/Cellar/pipenv/2018.11.26/libexec/lib/python3.7/site-packages/pipenv/core.py", line 859, in do_install_dependencies
[pipenv.exceptions.InstallError]:       retry_list, procs, failed_deps_queue, requirements_dir, **install_kwargs
[pipenv.exceptions.InstallError]:   File "/usr/local/Cellar/pipenv/2018.11.26/libexec/lib/python3.7/site-packages/pipenv/core.py", line 763, in batch_install
[pipenv.exceptions.InstallError]:       _cleanup_procs(procs, not blocking, failed_deps_queue, retry=retry)
[pipenv.exceptions.InstallError]:   File "/usr/local/Cellar/pipenv/2018.11.26/libexec/lib/python3.7/site-packages/pipenv/core.py", line 681, in _cleanup_procs
[pipenv.exceptions.InstallError]:       raise exceptions.InstallError(c.dep.name, extra=err_lines)
[pipenv.exceptions.InstallError]: ['Looking in indexes: https://pypi.python.org/simple', 'Collecting pygraphviz==1.5 (from -r /var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pipenv-hirgj1mx-requirements/pipenv-obh1n90b-requirement.txt (line 1))', '  Using cached https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip', 'Building wheels for collected packages: pygraphviz', '  Running setup.py bdist_wheel for pygraphviz: started', "  Running setup.py bdist_wheel for pygraphviz: finished with status 'error'", '  Complete output from command /Users/user/.local/share/virtualenvs/bvdashapi-e58pdNmS/bin/python3.7 -u -c "import setuptools, tokenize;__file__=\'/private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-install-2p82ay3n/pygraphviz/setup.py\';f=getattr(tokenize, \'open\', open)(__file__);code=f.read().replace(\'\\r\\n\', \'\\n\');f.close();exec(compile(code, __file__, \'exec\'))" bdist_wheel -d /private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-wheel-zs62sylt --python-tag cp37:', '  running bdist_wheel', '  running build', '  running build_py', '  creating build', '  creating build/lib.macosx-10.13-x86_64-3.7', '  creating build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  copying pygraphviz/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  copying pygraphviz/agraph.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  copying pygraphviz/graphviz.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  copying pygraphviz/release.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  copying pygraphviz/version.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  creating build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_attribute_defaults.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_attributes.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_clear.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_drawing.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_edge_attributes.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_graph.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_html.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_layout.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_node_attributes.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_readwrite.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_setup.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_string.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_subgraph.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  copying pygraphviz/tests/test_unicode.py -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz/tests', '  running egg_info', '  writing pygraphviz.egg-info/PKG-INFO', '  writing dependency_links to pygraphviz.egg-info/dependency_links.txt', '  writing top-level names to pygraphviz.egg-info/top_level.txt', "  reading manifest file 'pygraphviz.egg-info/SOURCES.txt'", "  reading manifest template 'MANIFEST.in'", "  warning: no files found matching '*.png' under directory 'doc'", "  warning: no files found matching '*.html' under directory 'doc'", "  warning: no files found matching '*.txt' under directory 'doc'", "  warning: no files found matching '*.css' under directory 'doc'", "  warning: no previously-included files matching '*~' found anywhere in distribution", "  warning: no previously-included files matching '*.pyc' found anywhere in distribution", "  warning: no previously-included files matching '.svn' found anywhere in distribution", "  no previously-included directories found matching 'doc/build'", "  writing manifest file 'pygraphviz.egg-info/SOURCES.txt'", '  copying pygraphviz/graphviz.i -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  copying pygraphviz/graphviz_wrap.c -> build/lib.macosx-10.13-x86_64-3.7/pygraphviz', '  warning: build_py: byte-compiling is disabled, skipping.', '  ', '  running build_ext', "  building 'pygraphviz._graphviz' extension", '  creating build/temp.macosx-10.13-x86_64-3.7', '  creating build/temp.macosx-10.13-x86_64-3.7/pygraphviz', '  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c pygraphviz/graphviz_wrap.c -o build/temp.macosx-10.13-x86_64-3.7/pygraphviz/graphviz_wrap.o', "  pygraphviz/graphviz_wrap.c:2987:10: fatal error: 'graphviz/cgraph.h' file not found", '  #include "graphviz/cgraph.h"', '           ^~~~~~~~~~~~~~~~~~~', '  1 error generated.', "  error: command 'clang' failed with exit status 1", '  ', '  ----------------------------------------', '  Running setup.py clean for pygraphviz', 'Failed to build pygraphviz', 'Installing collected packages: pygraphviz', '  Running setup.py install for pygraphviz: started', "    Running setup.py install for pygraphviz: finished with status 'error'", '    Complete output from command /Users/user/.local/share/virtualenvs/bvdashapi-e58pdNmS/bin/python3.7 -u -c "import setuptools, tokenize;__file__=\'/private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-install-2p82ay3n/pygraphviz/setup.py\';f=getattr(tokenize, \'open\', open)(__file__);code=f.read().replace(\'\\r\\n\', \'\\n\');f.close();exec(compile(code, __file__, \'exec\'))" install --record /private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-record-t9tngvxl/install-record.txt --single-version-externally-managed --compile --install-headers /Users/user/.local/share/virtualenvs/bvdashapi-e58pdNmS/bin/../include/site/python3.7/pygraphviz:', '    running install', '    Trying dpkg', '    Failed to find dpkg', '    Trying pkg-config', '    Failed to find pkg-config', '    Trying dotneato-config', '    Failed to find dotneato-config', '    Failed to find dotneato-config', '    ', '    Your Graphviz installation could not be found.', '    ', "            1) You don't have Graphviz installed:", '               Install Graphviz (http://graphviz.org)', '    ', '            2) Your Graphviz package might incomplete.', '               Install the binary development subpackage (e.g. libgraphviz-dev or similar.)', '    ', '            3) You are using Windows', '               There are no PyGraphviz binary packages for Windows but you might be', '               able to build it from this source.  See', '               http://networkx.lanl.gov/pygraphviz/reference/faq.html', '    ', '            If you think your installation is correct you will need to manually', '            provide path to graphviz include and library. For example:', '    ', '            pip install pygraphviz --install-option="--include-path=/usr/include/graphviz" --install-option="--library-path=/usr/lib/graphviz/"', '    ', '            The current setting of library_dirs and include_dirs is:', '    library_dirs=None', '    include_dirs=None', '    ', '    error: Error locating graphviz.', '    ', '    ----------------------------------------']
[pipenv.exceptions.InstallError]: ['Failed building wheel for pygraphviz', 'Command "/Users/user/.local/share/virtualenvs/bvdashapi-e58pdNmS/bin/python3.7 -u -c "import setuptools, tokenize;__file__=\'/private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-install-2p82ay3n/pygraphviz/setup.py\';f=getattr(tokenize, \'open\', open)(__file__);code=f.read().replace(\'\\r\\n\', \'\\n\');f.close();exec(compile(code, __file__, \'exec\'))" install --record /private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-record-t9tngvxl/install-record.txt --single-version-externally-managed --compile --install-headers /Users/user/.local/share/virtualenvs/bvdashapi-e58pdNmS/bin/../include/site/python3.7/pygraphviz" failed with error code 1 in /private/var/folders/b7/c4_zs5nj37z7yxrp5gblh9900000gn/T/pip-install-2p82ay3n/pygraphviz/']
$ pipenv --support