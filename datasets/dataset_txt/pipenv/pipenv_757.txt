habelmic commented on 8 Aug 2018
Issue description
I am having an error when I try to install the asynctnt package, pipenv cannot find python.h even though I have installed python-dev as well as other dependencies.
Expected result
Asynctnt installs and adds to pipfile.
Actual result
Asynctnt fails to install:
ubuntu@ip-172-31-18-162:~/botchan$ pipenv install --verbose asynctnt
Installing asynctnt...
â ‹Installing 'asynctnt'
$ "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/bin/pip" install   --verbose    "asynctnt" -i https://pypi.org/simple --exists-action w
Created temporary directory: /tmp/pip-ephem-wheel-cache-k07ea_o_
Created temporary directory: /tmp/pip-req-tracker-hudqa69t
Created requirements tracker '/tmp/pip-req-tracker-hudqa69t'
Created temporary directory: /tmp/pip-install-gfx5tqux
Collecting asynctnt
  1 location(s) to search for versions of asynctnt:
  * https://pypi.org/simple/asynctnt/
  Getting page https://pypi.org/simple/asynctnt/
  Looking up "https://pypi.org/simple/asynctnt/" in the cache
  Current age based on date: 191
  Freshness lifetime from max-age: 600
  Freshness lifetime from request max-age: 600
  The response is "fresh", returning cached response
  600 > 191
  Analyzing links from page https://pypi.org/simple/asynctnt/
    Found link https://files.pythonhosted.org/packages/4b/af/3852c0ded675b7b5424a077cf418169bbe5a23737526ef55f5ae7e8ecd6f/asynctnt-0.0.6.tar.gz#sha256=21817cddafdba5b048a11593f922b1b69fd11b5706c6bb0cfc715d3c81426943 (from https://pypi.org/simple/asynctnt/), version: 0.0.6
    Found link https://files.pythonhosted.org/packages/73/4d/cc43c773cca0e441cad73bae80e74863a28c1f86ed4c5c7f913907dc7aca/asynctnt-0.0.7.tar.gz#sha256=de8736275664c5679f1442ac9919640474a3cea1f6285a64f251eac8eaf0f337 (from https://pypi.org/simple/asynctnt/), version: 0.0.7
    Found link https://files.pythonhosted.org/packages/9f/0b/65a8f665d1f675e650250568b147a354613e13f7190ce27bb6bc158640f5/asynctnt-0.0.8.tar.gz#sha256=25940d854566e01e935d3f0e6e86e8b9ab07e3c36e759dbffd11fa309e321d2f (from https://pypi.org/simple/asynctnt/), version: 0.0.8
    Found link https://files.pythonhosted.org/packages/65/b9/3b51917502d6b9f3a9691a802cf1d1875732c5d9e0fb2e58310bc47af19a/asynctnt-0.0.9.tar.gz#sha256=20b527d0f43d0ba5d3a6ce1e5c7ea4b02dc809343e98f5f89a0ef8b2f8b6c4a1 (from https://pypi.org/simple/asynctnt/), version: 0.0.9
    Found link https://files.pythonhosted.org/packages/b9/74/fd9ed27d02d308190f1d9c548b2352a46de5ff3772d779776e88d133c775/asynctnt-0.0.10.tar.gz#sha256=711acfefdb833d6fdd3bb4c6f3d2ec2df573601975fe5c2c98ca7328bf16262d (from https://pypi.org/simple/asynctnt/), version: 0.0.10
    Found link https://files.pythonhosted.org/packages/e0/5e/bcb61065409c13f50ce4fed868226b47328a56841a8976eb44e2776036fa/asynctnt-0.0.11.tar.gz#sha256=6471e003ade4be723d23cd933b91fed187bbafc4725a0620538c69407cc56749 (from https://pypi.org/simple/asynctnt/), version: 0.0.11
    Found link https://files.pythonhosted.org/packages/d5/95/d119720a8219c7db6db3db2aed29c302b8a07538317df44021bb96b00177/asynctnt-0.1.0.tar.gz#sha256=1bd6de4ad1cabc78c1c93f4d8006c675bd8f71c8785f9e658b54a3b78ec18492 (from https://pypi.org/simple/asynctnt/), version: 0.1.0
    Found link https://files.pythonhosted.org/packages/c1/ea/a980856af4c3bc492702e84309331be892b098cb361b116a6f99b843d600/asynctnt-0.1.1.tar.gz#sha256=472358248f991cb91df3d6bf8999eb4d557bae07f7c1a0b747d94865b1462c3a (from https://pypi.org/simple/asynctnt/), version: 0.1.1
    Found link https://files.pythonhosted.org/packages/34/44/9ce33522482b0462c6fe585913ab9b1b55ec6ff2234235608d5f2ef6de00/asynctnt-0.1.2.tar.gz#sha256=591ffbe6317b9047d0d6450160707808c1800ef9882ef743ab274b1f7056abd1 (from https://pypi.org/simple/asynctnt/), version: 0.1.2
    Found link https://files.pythonhosted.org/packages/c3/55/c8f74a7c1293b563df67463a78f706bccdcb52ff1c4a7064395162b4a760/asynctnt-0.1.3.tar.gz#sha256=095138fefa30bdc0fdec6959a51f68473964183410e77bc8b5ed1b18396d5ad4 (from https://pypi.org/simple/asynctnt/), version: 0.1.3
    Found link https://files.pythonhosted.org/packages/ba/e9/5e86a1731ba67d182b4ee065a5b7a4bb29dc356f037faeb0b149a13338a4/asynctnt-0.1.4.tar.gz#sha256=f98ad83761ca3d45976edac0bc8b93565e28b8decd107625378f8cb35e93bd84 (from https://pypi.org/simple/asynctnt/), version: 0.1.4
    Found link https://files.pythonhosted.org/packages/c4/10/73fad220a94f93121db2ca064e194b0f94071acc77a6593dbf30cc7e0e39/asynctnt-0.1.5.tar.gz#sha256=6e8df985bc09f645a3e020fad330ebe950aeea3ed0c3dd560fb6a473418effd9 (from https://pypi.org/simple/asynctnt/), version: 0.1.5
    Found link https://files.pythonhosted.org/packages/5c/fb/9c3d4a90e6b40cab6f9634876a7eaa1208f257bdac72ee7b4a0bb5c32511/asynctnt-0.1.6.tar.gz#sha256=2971278683f079db22ae912d6a2bc6972125448c10588439c5c99d253fa0aaa8 (from https://pypi.org/simple/asynctnt/), version: 0.1.6
    Found link https://files.pythonhosted.org/packages/bf/ec/53e2f29172f2bf5ad34a2f64c7342a106ae033bf47c7c6d7eca7ae9770f8/asynctnt-0.1.7.tar.gz#sha256=a8c2b75c2a6b79937b830a171a6f3e6b4b1bbf39a6fda65ac5427ebb0b11ccfb (from https://pypi.org/simple/asynctnt/), version: 0.1.7
    Found link https://files.pythonhosted.org/packages/28/26/394220485ebf01f074a694c8422ba8d3ef083f8bb6fc3d000db7ff702e31/asynctnt-0.1.8.tar.gz#sha256=6de536a3cac0ad86de0bfa16fece7f42446efda66ac5cf57274e8ee1886609bb (from https://pypi.org/simple/asynctnt/), version: 0.1.8
    Found link https://files.pythonhosted.org/packages/1f/37/b84fe7a0700a9e36ae0516ccc2b6c002204f8e06897fd624e88213500138/asynctnt-0.1.9.tar.gz#sha256=e70200e997b10a74bf160695506c39d148bca5afaae1ea56db6508cba07739d0 (from https://pypi.org/simple/asynctnt/), version: 0.1.9
    Found link https://files.pythonhosted.org/packages/b2/92/4d6007fc7cfe034fbf41f021a2f78c62e97dca40c96084cfdea1890e7582/asynctnt-0.1.10.tar.gz#sha256=c0470e7463d23a273df07b8ee218cd0784b124505dca808ac297710d0f408aa5 (from https://pypi.org/simple/asynctnt/), version: 0.1.10
    Found link https://files.pythonhosted.org/packages/1d/7f/a5be00488bd40ee55d15eae3f0b71db796779b4e24f22a1241c2872f5641/asynctnt-0.1.11.tar.gz#sha256=78a4bf1d4d55c48f5224e548d97c3b2aff703d33c64c3b15e92aab5bb915f2aa (from https://pypi.org/simple/asynctnt/), version: 0.1.11
    Found link https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz#sha256=55c45b289adf89eb6d13a086950728e8dae3cd78e45137671fbe7b3fe30363eb (from https://pypi.org/simple/asynctnt/), version: 0.1.12
  Using version 0.1.12 (newest of versions: 0.0.6, 0.0.7, 0.0.8, 0.0.9, 0.0.10, 0.0.11, 0.1.0, 0.1.1, 0.1.2, 0.1.3, 0.1.4, 0.1.5, 0.1.6, 0.1.7, 0.1.8, 0.1.9, 0.1.10, 0.1.11, 0.1.12)
  Created temporary directory: /tmp/pip-unpack-x07jb_k7
  Looking up "https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz" in the cache
  Current age based on date: 5736
  Ignoring unknown cache-control directive: immutable
  Freshness lifetime from max-age: 365000000
  The response is "fresh", returning cached response
  365000000 > 5736
  Using cached https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz
  Downloading from URL https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz#sha256=55c45b289adf89eb6d13a086950728e8dae3cd78e45137671fbe7b3fe30363eb (from https://pypi.org/simple/asynctnt/)
  Added asynctnt from https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz#sha256=55c45b289adf89eb6d13a086950728e8dae3cd78e45137671fbe7b3fe30363eb to build tracker '/tmp/pip-req-tracker-hudqa69t'
  Running setup.py (path:/tmp/pip-install-gfx5tqux/asynctnt/setup.py) egg_info for package asynctnt
    Running command python setup.py egg_info
    running egg_info
    creating pip-egg-info/asynctnt.egg-info
    writing pip-egg-info/asynctnt.egg-info/PKG-INFO
    writing dependency_links to pip-egg-info/asynctnt.egg-info/dependency_links.txt
    writing requirements to pip-egg-info/asynctnt.egg-info/requires.txt
    writing top-level names to pip-egg-info/asynctnt.egg-info/top_level.txt
    writing manifest file 'pip-egg-info/asynctnt.egg-info/SOURCES.txt'
    reading manifest file 'pip-egg-info/asynctnt.egg-info/SOURCES.txt'
    reading manifest template 'MANIFEST.in'
    warning: no files found matching '*.h' under directory 'asynctnt'
    writing manifest file 'pip-egg-info/asynctnt.egg-info/SOURCES.txt'
  Source in /tmp/pip-install-gfx5tqux/asynctnt has version 0.1.12, which satisfies requirement asynctnt from https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz#sha256=55c45b289adf89eb6d13a086950728e8dae3cd78e45137671fbe7b3fe30363eb
  Removed asynctnt from https://files.pythonhosted.org/packages/cc/56/6d3e22d10dab33692365546cf4b41777a898d8a13884c3d9f934d7c5ba87/asynctnt-0.1.12.tar.gz#sha256=55c45b289adf89eb6d13a086950728e8dae3cd78e45137671fbe7b3fe30363eb from build tracker '/tmp/pip-req-tracker-hudqa69t'
Requirement already satisfied: PyYAML>=3.13 in /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/lib/python3.7/site-packages (from asynctnt) (3.13)
Building wheels for collected packages: asynctnt
  Created temporary directory: /tmp/pip-wheel-b7df54b1
  Running setup.py bdist_wheel for asynctnt: started
  Destination directory: /tmp/pip-wheel-b7df54b1
  Running command /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/bin/python3.7m -u -c "import setuptools, tokenize;__file__='/tmp/pip-install-gfx5tqux/asynctnt/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" bdist_wheel -d /tmp/pip-wheel-b7df54b1 --python-tag cp37
  running bdist_wheel
  running build
  running build_py
  creating build
  creating build/lib.linux-x86_64-3.7
  creating build/lib.linux-x86_64-3.7/asynctnt
  copying asynctnt/__init__.py -> build/lib.linux-x86_64-3.7/asynctnt
  copying asynctnt/exceptions.py -> build/lib.linux-x86_64-3.7/asynctnt
  copying asynctnt/instance.py -> build/lib.linux-x86_64-3.7/asynctnt
  copying asynctnt/log.py -> build/lib.linux-x86_64-3.7/asynctnt
  copying asynctnt/_testbase.py -> build/lib.linux-x86_64-3.7/asynctnt
  copying asynctnt/connection.py -> build/lib.linux-x86_64-3.7/asynctnt
  running egg_info
  writing asynctnt.egg-info/PKG-INFO
  writing dependency_links to asynctnt.egg-info/dependency_links.txt
  writing requirements to asynctnt.egg-info/requires.txt
  writing top-level names to asynctnt.egg-info/top_level.txt
  reading manifest file 'asynctnt.egg-info/SOURCES.txt'
  reading manifest template 'MANIFEST.in'
  warning: no files found matching '*.h' under directory 'asynctnt'
  writing manifest file 'asynctnt.egg-info/SOURCES.txt'
  creating build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/__init__.py -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/buffer.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/buffer.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/cmsgpuck.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/const.pxi -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/coreproto.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/coreproto.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/db.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/db.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/protocol.c -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/protocol.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/protocol.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/python.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/rbuffer.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/rbuffer.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/request.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/request.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/response.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/response.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/schema.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/schema.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/tnt.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/unicode.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  copying asynctnt/iproto/unicode.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
  warning: build_py: byte-compiling is disabled, skipping.

  running build_ext
  building 'asynctnt.iproto.protocol' extension
  creating build/temp.linux-x86_64-3.7
  creating build/temp.linux-x86_64-3.7/asynctnt
  creating build/temp.linux-x86_64-3.7/asynctnt/iproto
  creating build/temp.linux-x86_64-3.7/third_party
  creating build/temp.linux-x86_64-3.7/third_party/msgpuck
  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I-Ithird_party -I/usr/include/python3.7m -I/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/include/python3.7m -c asynctnt/iproto/protocol.c -o build/temp.linux-x86_64-3.7/asynctnt/iproto/protocol.o
  asynctnt/iproto/protocol.c:25:20: fatal error: Python.h: No such file or directory
  compilation terminated.
  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1
  Running setup.py bdist_wheel for asynctnt: finished with status 'error'
  Running setup.py clean for asynctnt
  Running command /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/bin/python3.7m -u -c "import setuptools, tokenize;__file__='/tmp/pip-install-gfx5tqux/asynctnt/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" clean --all
  running clean
  removing 'build/temp.linux-x86_64-3.7' (and everything under it)
  removing 'build/lib.linux-x86_64-3.7' (and everything under it)
  'build/bdist.linux-x86_64' does not exist -- can't clean it
  'build/scripts-3.7' does not exist -- can't clean it
  removing 'build'
Failed to build asynctnt
Installing collected packages: asynctnt
  Created temporary directory: /tmp/pip-record-omlc0mac
  Running setup.py install for asynctnt: started
    Running command /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/bin/python3.7m -u -c "import setuptools, tokenize;__file__='/tmp/pip-install-gfx5tqux/asynctnt/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" install --record /tmp/pip-record-omlc0mac/install-record.txt --single-version-externally-managed --compile --install-headers /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/include/site/python3.7/asynctnt
    running install
    running build
    running build_py
    creating build
    creating build/lib.linux-x86_64-3.7
    creating build/lib.linux-x86_64-3.7/asynctnt
    copying asynctnt/__init__.py -> build/lib.linux-x86_64-3.7/asynctnt
    copying asynctnt/exceptions.py -> build/lib.linux-x86_64-3.7/asynctnt
    copying asynctnt/instance.py -> build/lib.linux-x86_64-3.7/asynctnt
    copying asynctnt/log.py -> build/lib.linux-x86_64-3.7/asynctnt
    copying asynctnt/_testbase.py -> build/lib.linux-x86_64-3.7/asynctnt
    copying asynctnt/connection.py -> build/lib.linux-x86_64-3.7/asynctnt
    running egg_info
    writing asynctnt.egg-info/PKG-INFO
    writing dependency_links to asynctnt.egg-info/dependency_links.txt
    writing requirements to asynctnt.egg-info/requires.txt
    writing top-level names to asynctnt.egg-info/top_level.txt
    reading manifest file 'asynctnt.egg-info/SOURCES.txt'
    reading manifest template 'MANIFEST.in'
    warning: no files found matching '*.h' under directory 'asynctnt'
    writing manifest file 'asynctnt.egg-info/SOURCES.txt'
    creating build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/__init__.py -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/buffer.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/buffer.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/cmsgpuck.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/const.pxi -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/coreproto.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/coreproto.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/db.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/db.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/protocol.c -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/protocol.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/protocol.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/python.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/rbuffer.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/rbuffer.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/request.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/request.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/response.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/response.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/schema.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/schema.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/tnt.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/unicode.pxd -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    copying asynctnt/iproto/unicode.pyx -> build/lib.linux-x86_64-3.7/asynctnt/iproto
    warning: build_py: byte-compiling is disabled, skipping.

    running build_ext
    building 'asynctnt.iproto.protocol' extension
    creating build/temp.linux-x86_64-3.7
    creating build/temp.linux-x86_64-3.7/asynctnt
    creating build/temp.linux-x86_64-3.7/asynctnt/iproto
    creating build/temp.linux-x86_64-3.7/third_party
    creating build/temp.linux-x86_64-3.7/third_party/msgpuck
    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I-Ithird_party -I/usr/include/python3.7m -I/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/include/python3.7m -c asynctnt/iproto/protocol.c -o build/temp.linux-x86_64-3.7/asynctnt/iproto/protocol.o
    asynctnt/iproto/protocol.c:25:20: fatal error: Python.h: No such file or directory
    compilation terminated.
    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1
    Running setup.py install for asynctnt: finished with status 'error'
Cleaning up...
  Removing source in /tmp/pip-install-gfx5tqux/asynctnt
Removed build tracker '/tmp/pip-req-tracker-hudqa69t'
Exception information:
Traceback (most recent call last):
  File "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/lib/python3.7/site-packages/pip/_internal/basecommand.py", line 141, in main
    status = self.run(options, args)
  File "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/lib/python3.7/site-packages/pip/_internal/commands/install.py", line 347, in run
    use_user_site=options.use_user_site,
  File "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/lib/python3.7/site-packages/pip/_internal/req/__init__.py", line 49, in install_given_reqs
    **kwargs
  File "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/lib/python3.7/site-packages/pip/_internal/req/req_install.py", line 972, in install
    spinner=spinner,
  File "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/lib/python3.7/site-packages/pip/_internal/utils/misc.py", line 701, in call_subprocess
    % (command_desc, proc.returncode, cwd))
pip._internal.exceptions.InstallationError: Command "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/bin/python3.7m -u -c "import setuptools, tokenize;__file__='/tmp/pip-install-gfx5tqux/asynctnt/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" install --record /tmp/pip-record-omlc0mac/install-record.txt --single-version-externally-managed --compile --install-headers /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/include/site/python3.7/asynctnt" failed with error code 1 in /tmp/pip-install-gfx5tqux/asynctnt/

Error:  An error occurred while installing asynctnt!
  Failed building wheel for asynctnt
Command "/home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/bin/python3.7m -u -c "import setuptools, tokenize;__file__='/tmp/pip-install-gfx5tqux/asynctnt/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" install --record /tmp/pip-record-omlc0mac/install-record.txt --single-version-externally-managed --compile --install-headers /home/ubuntu/.local/share/virtualenvs/botchan-cVrJMhW4/include/site/python3.7/asynctnt" failed with error code 1 in /tmp/pip-install-gfx5tqux/asynctnt/
Steps to replicate
sudo apt-get install python-dev
pipenv install asynctnt
$ pipenv --support