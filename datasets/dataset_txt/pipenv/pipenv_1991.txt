GrahamDumpleton commented on 3 Oct 2017
Running pipenv --two where pipenv was installed in a separate existing virtual environment results in pipenv destroying the existing virtual environment instead of just using it.
$ cd /tmp

$ virtualenv pipenvtest
New python executable in /private/tmp/pipenvtest/bin/python
Installing setuptools, pip, wheel...done.

$ cd /tmp/pipenvtest/

$ source bin/activate

(pipenvtest) $ pip install pipenv
Collecting pipenv
  Downloading pipenv-8.2.6.tar.gz (3.7MB)
    100% |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 3.7MB 287kB/s
...
(pipenvtest) $ pipenv --two
Courtesy Notice: Pipenv found itself running within a virtual environment, so it will automatically use that environment, instead of creating its own for any project.
Virtualenv already exists!
Removing existing virtualenv‚Ä¶
You are attempting to re-create a virtualenv that Pipenv did not create. Aborting.

(pipenvtest) $ pwd
/tmp/pipenvtest

(pipenvtest) $ ls -als
total 0
0 drwxr-xr-x  2 graham  wheel   68  3 Oct 13:09 .
0 drwxrwxrwt  6 root    wheel  204  3 Oct 13:09 ..
The expectation is that the message:
Courtesy Notice: Pipenv found itself running within a virtual environment, so it will automatically use that environment, instead of creating its own for any project.
would indicate that pipenv would use the existing virtual environment as is and not try and delete it, but that wasn't the case.
It seems to leave it alone if you don't run pipenv --two and instead just go straight to pipenv install.
So with Pipfile containing:
[packages]
antigravity = "*"
and the existing virtual environment activated, get:
(pipenvtest) grumpy-at-home:pipenvtest graham$ pipenv install
Pipfile.lock not found, creating‚Ä¶
Locking [dev-packages] dependencies‚Ä¶
Locking [packages] dependencies‚Ä¶
Updated Pipfile.lock (0aecac)!
Installing dependencies from Pipfile.lock (0aecac)‚Ä¶
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 1/1 ‚Äî 00:00:00
That it goes off and deletes the existing virtual environment which it didn't create in the first place is not what one would expect. It could also cause loss of files, if it so happened that as a part of a build system for a deployment, application specific files were added into other sub directories of the virtual environment for convenience.
2