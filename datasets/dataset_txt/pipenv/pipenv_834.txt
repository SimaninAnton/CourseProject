sphrak commented on 15 Jul 2018
Hello,
I cannot get pipenv to install the packages in a docker container. I've seen a bunch of issues that looks like this issue, but they all been closed and dealth with it seems.
Expected result
pipenv install --system --deploy --dev
Installs all packages correctly.
Actual result
It always fails with:
Warning: --system is intended to be used for Pipfile installation, not installation of specific packages. Aborting.
See also: --deploy flag.
I read in the documentation this is the way to do it with docker.
Issues somewhat related:
#1748
#2078
and:
#1610
Dockerfile
FROM alpine:3.8
ENV PYTHONUNBUFFERED 1
ENV LANG en_US.UTF-8 \
    LANGUAGE en_US.UTF-8
RUN apk update \
    && apk add --no-cache --update python3 \
    && pip3 install --no-cache-dir -U pip pipenv \
    && pipenv install --system --deploy
Pipfile
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
django = "*"

[dev-packages]

[requires]
python_version = "3.6"
Pipefile.lock
OS: Alpinelinux 3.8
Docker version: 18.05.0-ce
Python version: 3.6.6
Pipenv version: 2018.7.1
Sincerely,
Niclas