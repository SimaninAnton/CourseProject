ssanderson commented on 13 Mar 2018
Hi All!
When running pipenv lock on a Pipfile containing pandas==0.18.1 and pandas-datareader==0.5.0, pipenv errors out claiming that it can't find a pandas version satisfying pandas==0.18.1,>=0.19.2, but pandas-datareader doesn't require pandas>=0.19.2 until 0.6.0. In particular, pandas-datareader==0.5.0 has the following requirements:
INSTALL_REQUIRES = (
    ['pandas>=0.17.0', 'requests>=2.3.0', 'requests-file', 'requests-ftp']
)
I don't see this behavior in earlier versions of pipenv. With pipenv 10.0, for example, the packages above resolve to the following reasonable-looking versions (hashes omitted for brevity):
System Info:
$ python -m pipenv.help
Expected result
I expected the Pipfile listed above to resolve to something like the set of dependencies that pipenv 10 finds successfully.
Actual result
pipenv appears to think that pandas-datareader always requires pandas>=0.19, which eventually causes a dependency resolution failure.
(repro) [~/quantopian/repro]$ pipenv lock --clear --verbose
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
1