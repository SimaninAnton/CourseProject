hyperknot commented on 27 Oct 2017
I'm working on an PR to add Pipfile support to Anaconda #978.
Describe you environment
OS Type: OS X 10.12.6
Python version: $ python -V Python 2.7.13
Pipenv version: $ pipenv --version pipenv, version 8.2.7
Expected result
The following snippet (run under Python 3) should return the virtualenv's path:
import subprocess
dirname = '/Users/user/dir1'
sp = subprocess.Popen(
    ['pipenv', '--venv'], cwd=dirname,
    stdout=subprocess.PIPE, stderr=subprocess.PIPE)
sp_out, sp_err = sp.communicate()
print('o:', repr(sp_out), 'e:', repr(sp_err), 'cwd:', repr(dirname))
o: b'/Users/user/.local/share/virtualenvs/dir1-pCEfX-1b\n' e: b'' cwd: '/Users/user/dir1'
Actual result
For one folder it works, for an other it doesn't. When it doesn't work it returns this:
o: b'' e: b'No virtualenv has been created for this project yet!\n' cwd: '/Users/user/dir2'
When running pipenv --venv from shell it works perfectly in both folders.
No --verbose for --venv :-(
Steps to replicate
No idea, what is the difference between the two folders. Copying the bad folder's pipfile to the good folder doesn't break the good folder.
Can you tell me how can I diagnose what is the difference between the two folders?