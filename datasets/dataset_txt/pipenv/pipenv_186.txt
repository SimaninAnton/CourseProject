SHxKM commented on 25 Apr 2019 •
edited
OS: macOS
As I understand from reading on SO and some issues here, pipenv launches non-login shells, which means it should ignore .bash_profile, and only use .bashrc:
"Because Pipenv only reads bashrc and that’s it. Use the above workarounds." - @uranusjr in #844
My .bashrc is empty.
I've been moving around stuff in my dotfiles just to get pipenv to work properly but I'm not having too much success. This is the error I see when pipenv shell is run in a project directory:
bash: prompt_git: command not found
prompt_git is a function defined in .bash_prompt, which is sourced in .bash_profile. So why is pipenv still complaining?
In .bash_profile, which pipenv seems to be using, I've also tried doing conditionally sourcing this .bash_prompt just to satisfy pipenv:
if shopt -q login_shell; then

 if [[ $- == *i* ]]; then
  if [ -f ~/.bash_prompt ]; then
      source ~/.bash_prompt
  fi
 fi 
fi
But that isn't helping either.