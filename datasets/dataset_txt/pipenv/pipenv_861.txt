Contributor
greysteil commented on 6 Jul 2018
Issue description
Pipenv 2018.7.1 can't handle dependencies that only have pre-release versions, like black
Expected result
Resolution should work if pyenv exec pipenv lock --pre is run, or if the following is included in the Pipfile:
[pipenv]
allow_prereleases = true
Actual result
Pipenv errors with the following output:
Locking [dev-packages] dependencies...

Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
  Hint: try $ pipenv lock --pre if it is a pre-release dependency.
Could not find a version that matches black (from -r /var/folders/kv/y02nj9zd5ss16sn505tk6g_40000gn/T/pipenv-bXsvlf-requirements/pipenv-AB5VVr-constraints.txt (line 2))
No versions found
Was https://pypi.org/simple reachable?
Steps to replicate
Use this Pipfile:
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[dev-packages]
black = "*"

[pipenv]
allow_prereleases = true
$ pipenv --support