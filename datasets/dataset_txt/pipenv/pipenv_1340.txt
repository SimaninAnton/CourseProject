partfile commented on 15 Mar 2018 •
edited
After installing '-e .' --dev a subsequent install from VCS (another random package) changes the virtualenv easy-install.pth so that it no longer points at .
$ python -m pipenv.help output
Pipenv version: `'11.8.0'`
Expected result
Expected to be able to add a VCS package, and continue editing my local project.
Actual result
The effect here is that my local changes are no longer picked up - it is using a copy of my code in the venv src/ directory
Steps to replicate
Note: my working directory is a git repo, and I had already pushed a commit to remote. I'm not certain that is a factor, but I suspect it may be.
$ pipenv install '-e .' —dev
$ pipenv --venv
/Users/partfile/.local/share/virtualenvs/piperr-51TwRZDX
$ cat /Users/partfile/.local/share/virtualenvs/piperr-51TwRZDX/lib/python3.6/site-packages/easy-install.pth 
/Users/partfile/Desktop/piperr
Good so far! but....
$ pipenv install git+ssh://git@github.com/snipsco/snips-nlu.git#egg=snips_nlu
$ cat /Users/partfile/.local/share/virtualenvs/piperr-51TwRZDX/lib/python3.6/site-packages/easy-install.pth
 /Users/partfile/.local/share/virtualenvs/piperr-51TwRZDX/src/piperr
And that directory is a copy of my local project, but at the last committed revision ..