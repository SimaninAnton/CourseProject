anderl80 commented on 20 Nov 2019
Issue description
Installing libraries using pipenv install ends in error code.
Expected result
All packages install.
Actual result
C:\...>pipenv install --verbose
Pipfile.lock (dc9bab) out of date, updating to (4e147f)…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
           Building requirements...
Resolving dependencies...
[  ==] Locking...
                          ROUND 1
Current constraints:
  dask
  datashader
  geoviews
  holoviews
  hvplot
  jupyter
  jupyter-contrib-nbextensions
  pandas
  tqdm
  xarray

Finding the best candidates:
Locking Failed!
  found candidate dask==2.8.0 (constraint was <any>)
  found candidate datashader==0.8.0 (constraint was <any>)
  found candidate geoviews==1.6.5 (constraint was <any>)
  found candidate holoviews==1.12.6 (constraint was <any>)
  found candidate hvplot==0.5.2 (constraint was <any>)
  found candidate jupyter==1.0.0 (constraint was <any>)
  found candidate jupyter-contrib-nbextensions==0.5.1 (constraint was <any>)
  found candidate pandas==0.25.3 (constraint was <any>)
  found candidate tqdm==4.38.0 (constraint was <any>)
  found candidate xarray==0.14.1 (constraint was <any>)

Finding secondary dependencies:
  jupyter==1.0.0            requires ipykernel, ipywidgets, jupyter-console, nbconvert, notebook, qtconsole
  hvplot==0.5.2             requires bokeh>=1.0.0, colorcet, holoviews>=1.11.0, pandas
  jupyter-contrib-nbextensions==0.5.1 requires ipython-genutils, jupyter-contrib-core>=0.3.3, jupyter-core, jupyter-highlight-selected-word>=0.1.1, jupyter-latex-envs>=1.3.8, jupyter-nbextensions-configurator>=0.4.0, lxml, nbconvert>=4.2, notebook>=4.0, pyyaml, tornado, traitlets>=4.1
  tqdm==4.38.0              requires -
  datashader==0.8.0         requires bokeh, colorcet>=0.9.0, dask[complete]>=0.18.0, datashape>=0.5.1, numba>=0.37.0, numpy>=1.7, pandas>=0.20.3, param>=1.6.0, pillow>=3.1.1, pyct[cmd], scikit-image, scipy, toolz>=0.7.4, xarray>=0.9.6        dask==2.8.0               requires -
  xarray==0.14.1            requires numpy>=1.14, pandas>=0.24
  holoviews==1.12.6         requires numpy>=1.0, param<2.0,>=1.8.0, pyviz-comms>=0.7.2
  pandas==0.25.3            requires numpy>=1.13.3, python-dateutil>=2.6.1, pytz>=2017.2
  geoviews==1.6.5           requires bokeh>=1.0.0, cartopy>=0.16.0, holoviews>=1.11.1, numpy>=1.0, param>=1.6.1

New dependencies found in this round:
  adding ['bokeh', '>=1.0.0', '[]']
  adding ['cartopy', '>=0.16.0', '[]']
  adding ['colorcet', '>=0.9.0', '[]']
  adding ['dask', '>=0.18.0', "['complete']"]
  adding ['datashape', '>=0.5.1', '[]']
  adding ['holoviews', '>=1.11.0,>=1.11.1', '[]']
  adding ['ipykernel', '', '[]']
  adding ['ipython-genutils', '', '[]']
  adding ['ipywidgets', '', '[]']
  adding ['jupyter-console', '', '[]']
  adding ['jupyter-contrib-core', '>=0.3.3', '[]']
  adding ['jupyter-core', '', '[]']
  adding ['jupyter-highlight-selected-word', '>=0.1.1', '[]']
  adding ['jupyter-latex-envs', '>=1.3.8', '[]']
  adding ['jupyter-nbextensions-configurator', '>=0.4.0', '[]']
  adding ['lxml', '', '[]']
  adding ['nbconvert', '>=4.2', '[]']
  adding ['notebook', '>=4.0', '[]']
  adding ['numba', '>=0.37.0', '[]']
  adding ['numpy', '>=1.0,>=1.13.3,>=1.14,>=1.7', '[]']
  adding ['pandas', '>=0.20.3,>=0.24', '[]']
  adding ['param', '<2.0,>=1.6.0,>=1.6.1,>=1.8.0', '[]']
  adding ['pillow', '>=3.1.1', '[]']
  adding ['pyct', '', "['cmd']"]
  adding ['python-dateutil', '>=2.6.1', '[]']
  adding ['pytz', '>=2017.2', '[]']
  adding ['pyviz-comms', '>=0.7.2', '[]']
  adding ['pyyaml', '', '[]']
  adding ['qtconsole', '', '[]']
  adding ['scikit-image', '', '[]']
  adding ['scipy', '', '[]']
  adding ['toolz', '>=0.7.4', '[]']
  adding ['tornado', '', '[]']
  adding ['traitlets', '>=4.1', '[]']
  adding ['xarray', '>=0.9.6', '[]']
Removed dependencies in this round:
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 1: not stable

                          ROUND 2
Current constraints:
  bokeh>=1.0.0
  cartopy>=0.16.0
  colorcet>=0.9.0
  dask>=0.18.0
  datashader
  datashape>=0.5.1
  geoviews
  holoviews>=1.11.0,>=1.11.1
  hvplot
  ipykernel
  ipython-genutils
  ipywidgets
  jupyter
  jupyter-console
  jupyter-contrib-core>=0.3.3
  jupyter-contrib-nbextensions
  jupyter-core
  jupyter-highlight-selected-word>=0.1.1
  jupyter-latex-envs>=1.3.8
  jupyter-nbextensions-configurator>=0.4.0
  lxml
  nbconvert>=4.2
  notebook>=4.0
  numba>=0.37.0
  numpy>=1.0,>=1.13.3,>=1.14,>=1.7
  pandas>=0.20.3,>=0.24
  param<2.0,>=1.6.0,>=1.6.1,>=1.8.0
  pillow>=3.1.1
  pyct[cmd]
  python-dateutil>=2.6.1
  pytz>=2017.2
  pyviz-comms>=0.7.2
  pyyaml
  qtconsole
  scikit-image
  scipy
  toolz>=0.7.4
  tornado
  tqdm
  traitlets>=4.1
  xarray>=0.9.6

Finding the best candidates:
  found candidate bokeh==1.4.0 (constraint was >=1.0.0)
  found candidate cartopy==0.17.0 (constraint was >=0.16.0)
  found candidate colorcet==2.0.2 (constraint was >=0.9.0)
  found candidate dask[complete]==2.8.0 (constraint was >=0.18.0)
  found candidate datashader==0.8.0 (constraint was <any>)
  found candidate datashape==0.5.2 (constraint was >=0.5.1)
  found candidate geoviews==1.6.5 (constraint was <any>)
  found candidate holoviews==1.12.6 (constraint was >=1.11.0,>=1.11.1)
  found candidate hvplot==0.5.2 (constraint was <any>)
  found candidate ipykernel==5.1.3 (constraint was <any>)
  found candidate ipython-genutils==0.2.0 (constraint was <any>)
  found candidate ipywidgets==7.5.1 (constraint was <any>)
  found candidate jupyter==1.0.0 (constraint was <any>)
  found candidate jupyter-console==6.0.0 (constraint was <any>)
  found candidate jupyter-contrib-core==0.3.3 (constraint was >=0.3.3)
  found candidate jupyter-contrib-nbextensions==0.5.1 (constraint was <any>)
  found candidate jupyter-core==4.6.1 (constraint was <any>)
  found candidate jupyter-highlight-selected-word==0.2.0 (constraint was >=0.1.1)
  found candidate jupyter-latex-envs==1.4.6 (constraint was >=1.3.8)
  found candidate jupyter-nbextensions-configurator==0.4.1 (constraint was >=0.4.0)
  found candidate lxml==4.4.1 (constraint was <any>)
  found candidate nbconvert==5.6.1 (constraint was >=4.2)
  found candidate notebook==6.0.2 (constraint was >=4.0)
  found candidate numba==0.46.0 (constraint was >=0.37.0)
  found candidate numpy==1.17.4 (constraint was >=1.0,>=1.13.3,>=1.14,>=1.7)
  found candidate pandas==0.25.3 (constraint was >=0.20.3,>=0.24)
  found candidate param==1.9.2 (constraint was >=1.6.0,>=1.6.1,>=1.8.0,<2.0)
  found candidate pillow==6.2.1 (constraint was >=3.1.1)
  found candidate pyct[cmd]==0.4.6 (constraint was <any>)
  found candidate python-dateutil==2.8.1 (constraint was >=2.6.1)
  found candidate pytz==2019.3 (constraint was >=2017.2)
  found candidate pyviz-comms==0.7.2 (constraint was >=0.7.2)
  found candidate pyyaml==5.1.2 (constraint was <any>)
  found candidate qtconsole==4.6.0 (constraint was <any>)
  found candidate scikit-image==0.16.2 (constraint was <any>)
  found candidate scipy==1.3.2 (constraint was <any>)
  found candidate toolz==0.10.0 (constraint was >=0.7.4)
  found candidate tornado==6.0.3 (constraint was <any>)
  found candidate tqdm==4.38.0 (constraint was <any>)
  found candidate traitlets==4.3.3 (constraint was >=4.1)
  found candidate xarray==0.14.1 (constraint was >=0.9.6)

Finding secondary dependencies:
  jupyter==1.0.0            requires ipykernel, ipywidgets, jupyter-console, nbconvert, notebook, qtconsole
  jupyter-contrib-core==0.3.3 requires jupyter-core, notebook>=4.0, setuptools, tornado, traitlets
  scipy==1.3.2 not in cache, need to check index
  scipy==1.3.2              requires numpy>=1.13.3
  notebook==6.0.2           requires ipykernel, ipython-genutils, jinja2, jupyter-client>=5.3.4, jupyter-core>=4.6.0, nbconvert, nbformat, prometheus-client, pyzmq>=17, send2trash, terminado>=0.8.1, tornado>=5.0, traitlets>=4.2.1
  pytz==2019.3              requires -
  dask[complete]==2.8.0     requires bokeh>=1.0.0; extra == "complete", cloudpickle>=0.2.1; extra == "complete", distributed>=2.0; extra == "complete", fsspec>=0.6.0; extra == "complete", numpy>=1.13.0; extra == "complete", pandas>=0.21.0; extra == "complete", partd>=0.3.10; extra == "complete", pyyaml; extra == "complete", toolz>=0.7.3; extra == "complete"   bokeh==1.4.0 not in cache, need to check index
  bokeh==1.4.0              requires jinja2>=2.7, numpy>=1.7.1, packaging>=16.8, pillow>=4.0, python-dateutil>=2.1, pyyaml>=3.10, six>=1.5.2, tornado>=4.3
  jupyter-console==6.0.0    requires ipykernel, ipython, jupyter-client, prompt-toolkit<2.1.0,>=2.0.0, pygments
  tornado==6.0.3            requires -
  numba==0.46.0             requires llvmlite>=0.30.0dev0, numpy
  scikit-image==0.16.2      requires imageio>=2.3.0, matplotlib!=3.0.0,>=2.0.0, networkx>=2.0, pillow>=4.3.0, pywavelets>=0.4.0, scipy>=0.19.0
  colorcet==2.0.2           requires param>=1.7.0, pyct>=0.4.4
  jupyter-contrib-nbextensions==0.5.1 requires ipython-genutils, jupyter-contrib-core>=0.3.3, jupyter-core, jupyter-highlight-selected-word>=0.1.1, jupyter-latex-envs>=1.3.8, jupyter-nbextensions-configurator>=0.4.0, lxml, nbconvert>=4.2, notebook>=4.0, pyyaml, tornado, traitlets>=4.1
  datashape==0.5.2          requires multipledispatch>=0.4.7, numpy>=1.7, python-dateutil
  hvplot==0.5.2             requires bokeh>=1.0.0, colorcet, holoviews>=1.11.0, pandas
  python-dateutil==2.8.1    requires six>=1.5
  pyct[cmd]==0.4.6          requires param>=1.7.0, pyyaml; extra == "cmd", requests; extra == "cmd"
  pyviz-comms==0.7.2 not in cache, need to check index
  pyviz-comms==0.7.2        requires param
  traitlets==4.3.3          requires decorator, ipython-genutils, six
  lxml==4.4.1               requires -
  nbconvert==5.6.1          requires bleach, defusedxml, entrypoints>=0.2.2, jinja2>=2.4, jupyter-core, mistune<2,>=0.8.1, nbformat>=4.4, pandocfilters>=1.4.1, pygments, testpath, traitlets>=4.2
  ipykernel==5.1.3          requires ipython>=5.0.0, jupyter-client, tornado>=4.2, traitlets>=4.1.0
  qtconsole==4.6.0          requires ipykernel>=4.1, ipython-genutils, jupyter-client>=4.1, jupyter-core, pygments, traitlets
  pillow==6.2.1             requires -
  pyyaml==5.1.2             requires -
  pandas==0.25.3            requires numpy>=1.13.3, python-dateutil>=2.6.1, pytz>=2017.2
  xarray==0.14.1            requires numpy>=1.14, pandas>=0.24
  numpy==1.17.4             requires -
  jupyter-latex-envs==1.4.6 requires ipython, jupyter-core, nbconvert, notebook>=4.0, traitlets>=4.1
  jupyter-nbextensions-configurator==0.4.1 requires jupyter-contrib-core>=0.3.3, jupyter-core, notebook>=4.0, pyyaml, tornado, traitlets
  jupyter-core==4.6.1       requires pywin32>=1.0; sys_platform == "win32", traitlets
  toolz==0.10.0             requires -
  ipywidgets==7.5.1         requires ipykernel>=4.5.1, ipython>=4.0.0; python_version >= "3.3", nbformat>=4.2.0, traitlets>=4.3.1, widgetsnbextension~=3.5.0
  datashader==0.8.0         requires bokeh, colorcet>=0.9.0, dask[complete]>=0.18.0, datashape>=0.5.1, numba>=0.37.0, numpy>=1.7, pandas>=0.20.3, param>=1.6.0, pillow>=3.1.1, pyct[cmd], scikit-image, scipy, toolz>=0.7.4, xarray>=0.9.6        ipython-genutils==0.2.0   requires -
  geoviews==1.6.5           requires bokeh>=1.0.0, cartopy>=0.16.0, holoviews>=1.11.1, numpy>=1.0, param>=1.6.1
  tqdm==4.38.0              requires -
  holoviews==1.12.6         requires numpy>=1.0, param<2.0,>=1.8.0, pyviz-comms>=0.7.2
  cartopy==0.17.0 not in cache, need to check index
Traceback (most recent call last):
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 807, in <module>
    main()
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 803, in main
    parsed.requirements_dir, parsed.packages, parse_only=parsed.parse_only)
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 785, in _main
    resolve_packages(pre, clear, verbose, system, write, requirements_dir, packages)
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 753, in resolve_packages
    requirements_dir=requirements_dir,
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 736, in resolve
    req_dir=requirements_dir
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\utils.py", line 1367, in resolve_deps
    req_dir=req_dir,
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\utils.py", line 1078, in actually_resolve_deps            resolver.resolve()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\utils.py", line 799, in resolve
    results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\resolver.py", line 102, in resolve       has_changed, best_matches = self._resolve_one_round()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\resolver.py", line 205, in _resolve_one_round
    for dep in self._iter_dependencies(best_match):
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\resolver.py", line 300, in _iter_dependencies
    dependencies = self.repository.get_dependencies(ireq)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\repositories\pypi.py", line 202, in get_dependencies
    legacy_results = self.get_legacy_dependencies(ireq)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\repositories\pypi.py", line 350, in get_legacy_dependencies
    results, ireq = self.resolve_reqs(download_dir, ireq, wheel_cache)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\repositories\pypi.py", line 309, in resolve_reqs
    results = resolver._resolve_one(reqset, ireq)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\resolve.py", line 301, in _resolve_one
    abstract_dist = self._get_abstract_dist_for(req_to_install)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\resolve.py", line 248, in _get_abstract_dist_for
    self.require_hashes
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\operations\prepare.py", line 342, in prepare_linked_requirement
    abstract_dist.prep_for_dist(finder, self.build_isolation)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\operations\prepare.py", line 158, in prep_for_dist
    self.req.prepare_metadata()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\req\req_install.py", line 528, in prepare_metadata
    self.prepare_pep517_metadata()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\req\req_install.py", line 573, in prepare_pep517_metadata
    metadata_dir
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_vendor\pep517\wrappers.py", line 86, in prepare_metadata_for_build_wheel
    'config_settings': config_settings,
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_vendor\pep517\wrappers.py", line 155, in _call_hook
    extra_environ={'PEP517_BUILD_BACKEND': build_backend}
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\req\req_install.py", line 511, in runner
    spinner=spinner
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\utils\misc.py", line 761, in call_subprocess
    % (command_desc, proc.returncode, cwd))
pipenv.patched.notpip._internal.exceptions.InstallationError: Command "C:\Users\andre\.virtualenvs\jupyter-ZQdQwDKk\Scripts\python.exe c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_vendor\pep517\_in_process.py prepare_metadata_for_build_wheel C:\Users\andre\AppData\Local\Temp\tmpw0lqc4ch" failed with error code 1 in C:\Users\andre\AppData\Local\Temp\tmpb4o7_vs3source\cartopy
ROUND 1
Current constraints:
  dask
  datashader
  geoviews
  holoviews
  hvplot
  jupyter
  jupyter-contrib-nbextensions
  pandas
  tqdm
  xarray

Finding the best candidates:
  found candidate dask==2.8.0 (constraint was <any>)
  found candidate datashader==0.8.0 (constraint was <any>)
  found candidate geoviews==1.6.5 (constraint was <any>)
  found candidate holoviews==1.12.6 (constraint was <any>)
  found candidate hvplot==0.5.2 (constraint was <any>)
  found candidate jupyter==1.0.0 (constraint was <any>)
  found candidate jupyter-contrib-nbextensions==0.5.1 (constraint was <any>)
  found candidate pandas==0.25.3 (constraint was <any>)
  found candidate tqdm==4.38.0 (constraint was <any>)
  found candidate xarray==0.14.1 (constraint was <any>)

Finding secondary dependencies:
  jupyter==1.0.0            requires ipykernel, ipywidgets, jupyter-console, nbconvert, notebook, qtconsole
  hvplot==0.5.2             requires bokeh>=1.0.0, colorcet, holoviews>=1.11.0, pandas
  jupyter-contrib-nbextensions==0.5.1 requires ipython-genutils, jupyter-contrib-core>=0.3.3, jupyter-core, jupyter-highlight-selected-word>=0.1.1, jupyter-latex-envs>=1.3.8, jupyter-nbextensions-configurator>=0.4.0, lxml, nbconvert>=4.2, notebook>=4.0, pyyaml, tornado, traitlets>=4.1
  tqdm==4.38.0              requires -
  datashader==0.8.0         requires bokeh, colorcet>=0.9.0, dask[complete]>=0.18.0, datashape>=0.5.1, numba>=0.37.0, numpy>=1.7, pandas>=0.20.3, param>=1.6.0, pillow>=3.1.1, pyct[cmd], scikit-image, scipy, toolz>=0.7.4, xarray>=0.9.6        dask==2.8.0               requires -
  xarray==0.14.1            requires numpy>=1.14, pandas>=0.24
  holoviews==1.12.6         requires numpy>=1.0, param<2.0,>=1.8.0, pyviz-comms>=0.7.2
  pandas==0.25.3            requires numpy>=1.13.3, python-dateutil>=2.6.1, pytz>=2017.2
  geoviews==1.6.5           requires bokeh>=1.0.0, cartopy>=0.16.0, holoviews>=1.11.1, numpy>=1.0, param>=1.6.1

New dependencies found in this round:
  adding ['bokeh', '>=1.0.0', '[]']
  adding ['cartopy', '>=0.16.0', '[]']
  adding ['colorcet', '>=0.9.0', '[]']
  adding ['dask', '>=0.18.0', "['complete']"]
  adding ['datashape', '>=0.5.1', '[]']
  adding ['holoviews', '>=1.11.0,>=1.11.1', '[]']
  adding ['ipykernel', '', '[]']
  adding ['ipython-genutils', '', '[]']
  adding ['ipywidgets', '', '[]']
  adding ['jupyter-console', '', '[]']
  adding ['jupyter-contrib-core', '>=0.3.3', '[]']
  adding ['jupyter-core', '', '[]']
  adding ['jupyter-highlight-selected-word', '>=0.1.1', '[]']
  adding ['jupyter-latex-envs', '>=1.3.8', '[]']
  adding ['jupyter-nbextensions-configurator', '>=0.4.0', '[]']
  adding ['lxml', '', '[]']
  adding ['nbconvert', '>=4.2', '[]']
  adding ['notebook', '>=4.0', '[]']
  adding ['numba', '>=0.37.0', '[]']
  adding ['numpy', '>=1.0,>=1.13.3,>=1.14,>=1.7', '[]']
  adding ['pandas', '>=0.20.3,>=0.24', '[]']
  adding ['param', '<2.0,>=1.6.0,>=1.6.1,>=1.8.0', '[]']
  adding ['pillow', '>=3.1.1', '[]']
  adding ['pyct', '', "['cmd']"]
  adding ['python-dateutil', '>=2.6.1', '[]']
  adding ['pytz', '>=2017.2', '[]']
  adding ['pyviz-comms', '>=0.7.2', '[]']
  adding ['pyyaml', '', '[]']
  adding ['qtconsole', '', '[]']
  adding ['scikit-image', '', '[]']
  adding ['scipy', '', '[]']
  adding ['toolz', '>=0.7.4', '[]']
  adding ['tornado', '', '[]']
  adding ['traitlets', '>=4.1', '[]']
  adding ['xarray', '>=0.9.6', '[]']
Removed dependencies in this round:
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 1: not stable

                          ROUND 2
Current constraints:
  bokeh>=1.0.0
  cartopy>=0.16.0
  colorcet>=0.9.0
  dask>=0.18.0
  datashader
  datashape>=0.5.1
  geoviews
  holoviews>=1.11.0,>=1.11.1
  hvplot
  ipykernel
  ipython-genutils
  ipywidgets
  jupyter
  jupyter-console
  jupyter-contrib-core>=0.3.3
  jupyter-contrib-nbextensions
  jupyter-core
  jupyter-highlight-selected-word>=0.1.1
  jupyter-latex-envs>=1.3.8
  jupyter-nbextensions-configurator>=0.4.0
  lxml
  nbconvert>=4.2
  notebook>=4.0
  numba>=0.37.0
  numpy>=1.0,>=1.13.3,>=1.14,>=1.7
  pandas>=0.20.3,>=0.24
  param<2.0,>=1.6.0,>=1.6.1,>=1.8.0
  pillow>=3.1.1
  pyct[cmd]
  python-dateutil>=2.6.1
  pytz>=2017.2
  pyviz-comms>=0.7.2
  pyyaml
  qtconsole
  scikit-image
  scipy
  toolz>=0.7.4
  tornado
  tqdm
  traitlets>=4.1
  xarray>=0.9.6

Finding the best candidates:
  found candidate bokeh==1.4.0 (constraint was >=1.0.0)
  found candidate cartopy==0.17.0 (constraint was >=0.16.0)
  found candidate colorcet==2.0.2 (constraint was >=0.9.0)
  found candidate dask[complete]==2.8.0 (constraint was >=0.18.0)
  found candidate datashader==0.8.0 (constraint was <any>)
  found candidate datashape==0.5.2 (constraint was >=0.5.1)
  found candidate geoviews==1.6.5 (constraint was <any>)
  found candidate holoviews==1.12.6 (constraint was >=1.11.0,>=1.11.1)
  found candidate hvplot==0.5.2 (constraint was <any>)
  found candidate ipykernel==5.1.3 (constraint was <any>)
  found candidate ipython-genutils==0.2.0 (constraint was <any>)
  found candidate ipywidgets==7.5.1 (constraint was <any>)
  found candidate jupyter==1.0.0 (constraint was <any>)
  found candidate jupyter-console==6.0.0 (constraint was <any>)
  found candidate jupyter-contrib-core==0.3.3 (constraint was >=0.3.3)
  found candidate jupyter-contrib-nbextensions==0.5.1 (constraint was <any>)
  found candidate jupyter-core==4.6.1 (constraint was <any>)
  found candidate jupyter-highlight-selected-word==0.2.0 (constraint was >=0.1.1)
  found candidate jupyter-latex-envs==1.4.6 (constraint was >=1.3.8)
  found candidate jupyter-nbextensions-configurator==0.4.1 (constraint was >=0.4.0)
  found candidate lxml==4.4.1 (constraint was <any>)
  found candidate nbconvert==5.6.1 (constraint was >=4.2)
  found candidate notebook==6.0.2 (constraint was >=4.0)
  found candidate numba==0.46.0 (constraint was >=0.37.0)
  found candidate numpy==1.17.4 (constraint was >=1.0,>=1.13.3,>=1.14,>=1.7)
  found candidate pandas==0.25.3 (constraint was >=0.20.3,>=0.24)
  found candidate param==1.9.2 (constraint was >=1.6.0,>=1.6.1,>=1.8.0,<2.0)
  found candidate pillow==6.2.1 (constraint was >=3.1.1)
  found candidate pyct[cmd]==0.4.6 (constraint was <any>)
  found candidate python-dateutil==2.8.1 (constraint was >=2.6.1)
  found candidate pytz==2019.3 (constraint was >=2017.2)
  found candidate pyviz-comms==0.7.2 (constraint was >=0.7.2)
  found candidate pyyaml==5.1.2 (constraint was <any>)
  found candidate qtconsole==4.6.0 (constraint was <any>)
  found candidate scikit-image==0.16.2 (constraint was <any>)
  found candidate scipy==1.3.2 (constraint was <any>)
  found candidate toolz==0.10.0 (constraint was >=0.7.4)
  found candidate tornado==6.0.3 (constraint was <any>)
  found candidate tqdm==4.38.0 (constraint was <any>)
  found candidate traitlets==4.3.3 (constraint was >=4.1)
  found candidate xarray==0.14.1 (constraint was >=0.9.6)

Finding secondary dependencies:
  jupyter==1.0.0            requires ipykernel, ipywidgets, jupyter-console, nbconvert, notebook, qtconsole
  jupyter-contrib-core==0.3.3 requires jupyter-core, notebook>=4.0, setuptools, tornado, traitlets
  scipy==1.3.2 not in cache, need to check index
  scipy==1.3.2              requires numpy>=1.13.3
  notebook==6.0.2           requires ipykernel, ipython-genutils, jinja2, jupyter-client>=5.3.4, jupyter-core>=4.6.0, nbconvert, nbformat, prometheus-client, pyzmq>=17, send2trash, terminado>=0.8.1, tornado>=5.0, traitlets>=4.2.1
  pytz==2019.3              requires -
  dask[complete]==2.8.0     requires bokeh>=1.0.0; extra == "complete", cloudpickle>=0.2.1; extra == "complete", distributed>=2.0; extra == "complete", fsspec>=0.6.0; extra == "complete", numpy>=1.13.0; extra == "complete", pandas>=0.21.0; extra == "complete", partd>=0.3.10; extra == "complete", pyyaml; extra == "complete", toolz>=0.7.3; extra == "complete"   bokeh==1.4.0 not in cache, need to check index
  bokeh==1.4.0              requires jinja2>=2.7, numpy>=1.7.1, packaging>=16.8, pillow>=4.0, python-dateutil>=2.1, pyyaml>=3.10, six>=1.5.2, tornado>=4.3
  jupyter-console==6.0.0    requires ipykernel, ipython, jupyter-client, prompt-toolkit<2.1.0,>=2.0.0, pygments
  tornado==6.0.3            requires -
  numba==0.46.0             requires llvmlite>=0.30.0dev0, numpy
  scikit-image==0.16.2      requires imageio>=2.3.0, matplotlib!=3.0.0,>=2.0.0, networkx>=2.0, pillow>=4.3.0, pywavelets>=0.4.0, scipy>=0.19.0
  colorcet==2.0.2           requires param>=1.7.0, pyct>=0.4.4
  jupyter-contrib-nbextensions==0.5.1 requires ipython-genutils, jupyter-contrib-core>=0.3.3, jupyter-core, jupyter-highlight-selected-word>=0.1.1, jupyter-latex-envs>=1.3.8, jupyter-nbextensions-configurator>=0.4.0, lxml, nbconvert>=4.2, notebook>=4.0, pyyaml, tornado, traitlets>=4.1
  datashape==0.5.2          requires multipledispatch>=0.4.7, numpy>=1.7, python-dateutil
  hvplot==0.5.2             requires bokeh>=1.0.0, colorcet, holoviews>=1.11.0, pandas
  python-dateutil==2.8.1    requires six>=1.5
  pyct[cmd]==0.4.6          requires param>=1.7.0, pyyaml; extra == "cmd", requests; extra == "cmd"
  pyviz-comms==0.7.2 not in cache, need to check index
  pyviz-comms==0.7.2        requires param
  traitlets==4.3.3          requires decorator, ipython-genutils, six
  lxml==4.4.1               requires -
  nbconvert==5.6.1          requires bleach, defusedxml, entrypoints>=0.2.2, jinja2>=2.4, jupyter-core, mistune<2,>=0.8.1, nbformat>=4.4, pandocfilters>=1.4.1, pygments, testpath, traitlets>=4.2
  ipykernel==5.1.3          requires ipython>=5.0.0, jupyter-client, tornado>=4.2, traitlets>=4.1.0
  qtconsole==4.6.0          requires ipykernel>=4.1, ipython-genutils, jupyter-client>=4.1, jupyter-core, pygments, traitlets
  pillow==6.2.1             requires -
  pyyaml==5.1.2             requires -
  pandas==0.25.3            requires numpy>=1.13.3, python-dateutil>=2.6.1, pytz>=2017.2
  xarray==0.14.1            requires numpy>=1.14, pandas>=0.24
  numpy==1.17.4             requires -
  jupyter-latex-envs==1.4.6 requires ipython, jupyter-core, nbconvert, notebook>=4.0, traitlets>=4.1
  jupyter-nbextensions-configurator==0.4.1 requires jupyter-contrib-core>=0.3.3, jupyter-core, notebook>=4.0, pyyaml, tornado, traitlets
  jupyter-core==4.6.1       requires pywin32>=1.0; sys_platform == "win32", traitlets
  toolz==0.10.0             requires -
  ipywidgets==7.5.1         requires ipykernel>=4.5.1, ipython>=4.0.0; python_version >= "3.3", nbformat>=4.2.0, traitlets>=4.3.1, widgetsnbextension~=3.5.0
  datashader==0.8.0         requires bokeh, colorcet>=0.9.0, dask[complete]>=0.18.0, datashape>=0.5.1, numba>=0.37.0, numpy>=1.7, pandas>=0.20.3, param>=1.6.0, pillow>=3.1.1, pyct[cmd], scikit-image, scipy, toolz>=0.7.4, xarray>=0.9.6        ipython-genutils==0.2.0   requires -
  geoviews==1.6.5           requires bokeh>=1.0.0, cartopy>=0.16.0, holoviews>=1.11.1, numpy>=1.0, param>=1.6.1
  tqdm==4.38.0              requires -
  holoviews==1.12.6         requires numpy>=1.0, param<2.0,>=1.8.0, pyviz-comms>=0.7.2
  cartopy==0.17.0 not in cache, need to check index
Traceback (most recent call last):
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 807, in <module>
    main()
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 803, in main
    parsed.requirements_dir, parsed.packages, parse_only=parsed.parse_only)
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 785, in _main
    resolve_packages(pre, clear, verbose, system, write, requirements_dir, packages)
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 753, in resolve_packages
    requirements_dir=requirements_dir,
  File "c:/users/andre/documents/python/jupyter/src/pipenv/pipenv/resolver.py", line 736, in resolve
    req_dir=requirements_dir
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\utils.py", line 1367, in resolve_deps
    req_dir=req_dir,
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\utils.py", line 1078, in actually_resolve_deps            resolver.resolve()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\utils.py", line 799, in resolve
    results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\resolver.py", line 102, in resolve       has_changed, best_matches = self._resolve_one_round()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\resolver.py", line 205, in _resolve_one_round
    for dep in self._iter_dependencies(best_match):
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\resolver.py", line 300, in _iter_dependencies
    dependencies = self.repository.get_dependencies(ireq)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\repositories\pypi.py", line 202, in get_dependencies
    legacy_results = self.get_legacy_dependencies(ireq)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\repositories\pypi.py", line 350, in get_legacy_dependencies
    results, ireq = self.resolve_reqs(download_dir, ireq, wheel_cache)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\piptools\repositories\pypi.py", line 309, in resolve_reqs
    results = resolver._resolve_one(reqset, ireq)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\resolve.py", line 301, in _resolve_one
    abstract_dist = self._get_abstract_dist_for(req_to_install)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\resolve.py", line 248, in _get_abstract_dist_for
    self.require_hashes
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\operations\prepare.py", line 342, in prepare_linked_requirement
    abstract_dist.prep_for_dist(finder, self.build_isolation)
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\operations\prepare.py", line 158, in prep_for_dist
    self.req.prepare_metadata()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\req\req_install.py", line 528, in prepare_metadata
    self.prepare_pep517_metadata()
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\req\req_install.py", line 573, in prepare_pep517_metadata
    metadata_dir
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_vendor\pep517\wrappers.py", line 86, in prepare_metadata_for_build_wheel
    'config_settings': config_settings,
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_vendor\pep517\wrappers.py", line 155, in _call_hook
    extra_environ={'PEP517_BUILD_BACKEND': build_backend}
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\req\req_install.py", line 511, in runner
    spinner=spinner
  File "c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_internal\utils\misc.py", line 761, in call_subprocess
    % (command_desc, proc.returncode, cwd))
pipenv.patched.notpip._internal.exceptions.InstallationError: Command "C:\Users\andre\.virtualenvs\jupyter-ZQdQwDKk\Scripts\python.exe c:\users\andre\documents\python\jupyter\src\pipenv\pipenv\patched\notpip\_vendor\pep517\_in_process.py prepare_metadata_for_build_wheel C:\Users\andre\AppData\Local\Temp\tmpw0lqc4ch" failed with error code 1 in C:\Users\andre\AppData\Local\Temp\tmpb4o7_vs3source\cartopy
Steps to replicate
[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[dev-packages]

[packages]
jupyter = "*"
jupyter-contrib-nbextensions = "*"
pandas = "*"
dask = "*"
xarray = "*"
tqdm = "*"
holoviews = "*"
geoviews = "*"
hvplot = "*"
datashader = "*"

[requires]
python_version = "3.7"
pipenv install
$ pipenv --support