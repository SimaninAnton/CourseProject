jakul commented on 15 Mar 2018
$ python -m pipenv.help output
Pipenv version: `'11.7.1'`
------------
Expected result
pipenv clean exist successfully. Virtualenv is created.
Actual result
craig@amogato2:/tmp
$ pipenv clean
Creating a virtualenv for this project…
Using /usr/local/bin/python3.6m (3.6.4) to create virtualenv…
⠋Running virtualenv with interpreter /usr/local/bin/python3.6m
Using base prefix '/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6'
New python executable in /Users/craig/.virtualenvs/tmp-agwWamBd/bin/python3.6
Also creating executable in /Users/craig/.virtualenvs/tmp-agwWamBd/bin/python
Installing setuptools, pip, wheel...done.

Virtualenv location: /Users/craig/.virtualenvs/tmp-agwWamBd
Traceback (most recent call last):
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/bin/pipenv", line 11, in <module>
    load_entry_point('pipenv==11.7.1', 'console_scripts', 'pipenv')()
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/vendor/click/decorators.py", line 17, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/cli.py", line 459, in clean
    ctx=ctx, three=three, python=python, dry_run=dry_run, verbose=verbose
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/core.py", line 2451, in do_clean
    r = get_requirement(installed)
  File "/usr/local/Cellar/pipenv/11.7.1/libexec/lib/python3.6/site-packages/pipenv/utils.py", line 128, in get_requirement
    req = [r for r in requirements.parse(dep)][0]
IndexError: list index out of range
Steps to replicate
$ cd /tmp
$ mkdir clean-bug
$ cd clean-bug
$ pipenv install requests
$ pipenv --rm
$ pipenv clean