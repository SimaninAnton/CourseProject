dantswain commented on 2 Dec 2017
I'm trying to add ansible as a development dependency to a project. I can install it the first time with pipenv install -d ansible and it gets added to Pipfile, but it does not get added to Pipfile.lock. On a fresh clone of the project with no existing virtualenv, with ansible = "*" in the [dev-packages] section of Pipfile, ansible is not installed.
Describe your environment
mac OS 10.13.1
Python version: 2.7.12
Pipenv version: 8.3.2
Expected result
ansible added to Pipfile.lock, ansible installed when running pipenv install -d
Actual result
ansible is not added to Pipfile.lock on pipenv install -d ansible. With a fresh virtualenv, ansible is not installed and not mentioned at all in pipenv install -d --verbose.
Steps to replicate
First install:
pipenv install -d ansible
grep ansible Pipfile.lock # nothing
find ~/.virtualenvs ansible # shows installed in the project's virtualenv
After this, ansible is in the virtualenv as expected and works, but ansible is not in Pipfile.lock.
On a different box (or after pipenv --rm),
pipenv install -d
pipenv shell
ansible --version # errors
find ~/.virtualenvs -name ansible # nothing
Ansible does not get installed (I assume because it's not in Pipfile.lock), and it is not in the virtualenv at all.
I've also tried deleting Pipfile.lock and running pipenv lock or pipenv install -d again, and several permutations of these steps.