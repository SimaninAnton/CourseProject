randycoulman commented on 9 Mar 2018
With pipenv 11.1.5, trying to update a git dependency is failing with the following error:
> pipenv install --selective-upgrade hats
Installing hats{'git': 'git@git-host:hats', 'editable': True}...
WARNING: Invalid requirement, parse error at ""{'git': ""
ABORTING INSTALL: You will have to reinstall any packages that failed to install
You may have to manually run pipenv lock when you are finished
The dependency in my Pipfile looks like this:
hats = {git = "git@git-host:hats", editable = true}
and was initially created by pipenv install -e git+git@git-host:hats#egg=hats.
pipenv update hats fails with the same error.
pipenv lock and pipenv install both work fine.
I'm pretty sure I remember this working in pipenv 9.1.0; I'm not sure when it broke between then and 11.1.5.
Describe your environment
OS Type: Windows 7
Python version: Python 3.6.4
Pipenv version: pipenv, version 11.1.5
Expected result
The hats dependency should have be successfully updated to the latest version in the git repository.
Actual result
See error above.
Steps to replicate
Because my test case is a private package in a private repo, I've recreated the bug using a public package/repo:
mkdir pipenv_bug
cd pipenv_bug
pipenv --three
pipenv install -e git@https://github.com/pypa/sampleproject#egg=sampleproject
pipenv update sampleproject