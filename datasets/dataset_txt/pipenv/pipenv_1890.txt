ghost commented on 25 Oct 2017
Arch recommends users to keep a bash-compatible shell as default [0]. I'm using the method of execing fish from my .bashrc.
pipenv fails on pipenv shell, apparently because it thinks that the bash activate should be executed
Spawning environment shell (/bin/bash). Use 'exit' to leave.
~/s/tmp  source /home/me/.local/share/virtualenvs/tmp-yq4UYSVl/bin/activate
~/.local/share/virtualenvs/tmp-yq4UYSVl/bin/activate (line 23): Unsupported use of '||'. In fish, please use 'COMMAND; or COMMAND'.
    if [ -n "${BASH-}" ] || [ -n "${ZSH_VERSION-}" ] ; then
                          ^
from sourcing file ~/.local/share/virtualenvs/tmp-yq4UYSVl/bin/activate
 called on standard input

source: Error while reading file “/home/me/.local/share/virtualenvs/tmp-yq4UYSVl/bin/activate”
If I replace activate with activate.fish, the pipenv works as expected.
Could there be a flag or, even better yet, a config option to force the default environment shell?
[0] https://wiki.archlinux.org/index.php/Fish#Not_setting_fish_as_default_shell
Describe you environment
OS Type
Linux tp 4.13.7-1-ARCH #1 SMP PREEMPT Sat Oct 14 20:13:26 CEST 2017 x86_64 GNU/Linux
Python version: $ python -V
Python 3.6.2
Pipenv version: $ pipenv --version
pipenv, version 8.2.7