EmperorArthur commented on 6 May 2019
Be sure to check the existing issues (both open and closed!), and make sure you are running the latest version of Pipenv.
Check the diagnose documentation for common issues before posting! We may close your issue if it is very similar to one of them. Please be considerate, or be on your way.
Make sure to mention your debugging experience if the documented solution failed.
Issue description
pipenv install libarchive fails on Windows with Python 3.7.
Expected result
The command successfully installs libarchive.
Actual result
Libarchive is not installed.
pipenv install libarchive --verbose
Installing libarchive…
[ ] Installing...Installing 'libarchive'
$ ['C:\Users\Arthur\.virtualenvs\pipenv_example-m8qs6Znp\Scripts\pip.exe', 'install', '--verbose', '--upgrade', 'libarchive', '-i', 'https://pypi.org/simple']
Adding libarchive to Pipfile's [packages]…
Installation Succeeded
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Success!
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple
                      ROUND 1
Current constraints:
libarchive
Finding the best candidates:
found candidate libarchive==0.4.6 (constraint was )
Finding secondary dependencies:
libarchive==0.4.6 requires nose
New dependencies found in this round:
adding ['nose', '', '[]']
Removed dependencies in this round:
Unsafe dependencies in this round:
Result of round 1: not stable
                      ROUND 2
Current constraints:
libarchive
nose
Finding the best candidates:
found candidate libarchive==0.4.6 (constraint was )
found candidate nose==1.3.7 (constraint was )
Finding secondary dependencies:
nose==1.3.7 requires -
libarchive==0.4.6 requires nose
Result of round 2: stable, done
Updated Pipfile.lock (e0b217)!
Installing dependencies from Pipfile.lock (e0b217)…
Installing 'libarchive'----------- 0/2 - 00:00:00
$ ['C:\Users\Arthur\.virtualenvs\pipenv_example-m8qs6Znp\Scripts\pip.exe', 'install', '--verbose', '--upgrade', '--no-deps', '-r', 'C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-hlikuyx1-requirement.txt', '-i', 'https://pypi.org/simple', '--require-hashes']
Installing 'nose'=---------------- 1/2 - 00:00:00
$ ['C:\Users\Arthur\.virtualenvs\pipenv_example-m8qs6Znp\Scripts\pip.exe', 'install', '--verbose', '--upgrade', '--no-deps', '-r', 'C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-xabcwu7a-requirement.txt', '-i', 'https://pypi.org/simple', '--require-hashes']
Config variable 'Py_DEBUG' is unset, Python ABI tag may be incorrect
Config variable 'WITH_PYMALLOC' is unset, Python ABI tag may be incorrect
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-ephem-wheel-cache-bp4efl0n
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-wsg_v87g
Created requirements tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-wsg_v87g'
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok
Collecting libarchive==0.4.6 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-hlikuyx1-requirement.txt (line 1))
1 location(s) to search for versions of libarchive:
https://pypi.org/simple/libarchive/
Getting page https://pypi.org/simple/libarchive/
Looking up "https://pypi.org/simple/libarchive/" in the cache
Request header has "max_age" as 0, cache bypassed
Starting new HTTPS connection (1): pypi.org:443
https://pypi.org:443 "GET /simple/libarchive/ HTTP/1.1" 304 0
Analyzing links from page https://pypi.org/simple/libarchive/
Found link https://files.pythonhosted.org/packages/74/32/e9a12b85cfc7b2841e166d44981fbce40d48bcf409c07f53755e3e7e4303/libarchive-0.3.7.tar.gz#sha256=43a73f8cfa9322aa75189e3d57f9b5b187498607623c45b4055549a82fff3051 (from https://pypi.org/simple/libarchive/), version: 0.3.7
Found link https://files.pythonhosted.org/packages/6b/84/3a3d1731bd55850312921df9e78640eeb1f1bce371cb1612dad4b55ed586/libarchive-0.3.8.tar.gz#sha256=270b90bde40b039f9d761b22ab0ab761a4426f01319e62205378fbeeb02a4d88 (from https://pypi.org/simple/libarchive/), version: 0.3.8
Found link https://files.pythonhosted.org/packages/db/4a/7ffa9b3eb2c0b29d8378bf524ca5323aec8d259621a9fecd4df2f2bbe1aa/libarchive-0.3.9.tar.gz#sha256=8acc4abbf1577a4f0570b0935ac3279b08bb9094a14cd1d6d42183b92a461992 (from https://pypi.org/simple/libarchive/), version: 0.3.9
Found link https://files.pythonhosted.org/packages/6f/0d/4dae3d89a9e402243bb64602c837c0fc858ce14c6c85f8dde76b8bbf5d53/libarchive-0.3.10.tar.gz#sha256=2cee21a4d7b94f934df62f68977923e004057f0d6ad416dc918ba530ca7974d2 (from https://pypi.org/simple/libarchive/), version: 0.3.10
Found link https://files.pythonhosted.org/packages/15/dd/afeabec2e0552da8b0c58322e469f966c704de286466193f57c9efb26c36/libarchive-0.4.1.tar.gz#sha256=487fca474230fc724fa79ae648f835588557e1d91e3088b92a2795ee5dfaeb32 (from https://pypi.org/simple/libarchive/), version: 0.4.1
Skipping link https://files.pythonhosted.org/packages/21/22/86667499f9ad4078a145ada390bb03983dc4db53d91642fc9e2299adbf9a/libarchive-0.4.2-py2-none-any.whl#sha256=10719aff77d95bdf26d583a180f871f104ec8fb9c3b18b849d28c55431aebae1 (from https://pypi.org/simple/libarchive/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/72/2d/af36101196110a087bf95c11ffc0b5dac1765c06b37dbaeb0c7fb002afd5/libarchive-0.4.2.tar.gz#sha256=d93e0c860333a126af8e7023d80f53b117f212960cce12d63687c373dd44a883 (from https://pypi.org/simple/libarchive/), version: 0.4.2
Skipping link https://files.pythonhosted.org/packages/73/90/39215db5b13cd8d5006f9056d3b169a26b99a50787422b8fc70f1c5bcf53/libarchive-0.4.3-py2-none-any.whl#sha256=65da680e5b93c06a56899d8c29d3cca08114ddc4713c060a68edd1638ecd6dfe (from https://pypi.org/simple/libarchive/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/f8/9d/58ac740a97260fcb25de2fd94d993d537b9c68c583a846eca75bff1599cb/libarchive-0.4.3.tar.gz#sha256=5db9bebc1ecc0949e1595c393422184b9855f1c2532689d8d216918e29aa8ca6 (from https://pypi.org/simple/libarchive/), version: 0.4.3
Found link https://files.pythonhosted.org/packages/66/32/a05f6f90d0973ee1a64e11a51f6e3679f2b78c578eb7d761f4db823c3d91/libarchive-0.4.4.tar.gz#sha256=84e61e753b7ed45b949e3304e33f076687984cb56f24ad1059a567f65e788560 (from https://pypi.org/simple/libarchive/), version: 0.4.4
Found link https://files.pythonhosted.org/packages/ef/ce/d0a87ad17d1125f18f00e3c6ccdcdf0318de1b15a8ac74e045de96da412a/libarchive-0.4.5.tar.gz#sha256=b1d813d1111a6d7a3cf3509bd9917585b66eb5bb57fa6fa5aecc9ad7c1b78e94 (from https://pypi.org/simple/libarchive/), version: 0.4.5
Found link https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from https://pypi.org/simple/libarchive/), version: 0.4.6
Using version 0.4.6 (newest of versions: 0.4.6)
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-unpack-hry39ast
Looking up "https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz" in the cache
Current age based on date: 3739
Ignoring unknown cache-control directive: immutable
Freshness lifetime from max-age: 365000000
The response is "fresh", returning cached response
365000000 > 3739
Using cached https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz
Downloading from URL https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from https://pypi.org/simple/libarchive/)
Added libarchive==0.4.6 from https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-hlikuyx1-requirement.txt (line 1)) to build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-wsg_v87g'
Running setup.py (path:C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive\setup.py) egg_info for package libarchive
Running command python setup.py egg_info
running egg_info
creating pip-egg-info\libarchive.egg-info
writing pip-egg-info\libarchive.egg-info\PKG-INFO
writing dependency_links to pip-egg-info\libarchive.egg-info\dependency_links.txt
writing requirements to pip-egg-info\libarchive.egg-info\requires.txt
writing top-level names to pip-egg-info\libarchive.egg-info\top_level.txt
writing manifest file 'pip-egg-info\libarchive.egg-info\SOURCES.txt'
reading manifest file 'pip-egg-info\libarchive.egg-info\SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'pip-egg-info\libarchive.egg-info\SOURCES.txt'
Source in c:\users\arthur\appdata\local\temp\pip-install-79qdckok\libarchive has version 0.4.6, which satisfies requirement libarchive==0.4.6 from https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-hlikuyx1-requirement.txt (line 1))
Removed libarchive==0.4.6 from https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-hlikuyx1-requirement.txt (line 1)) from build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-wsg_v87g'
Building wheels for collected packages: libarchive
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-wheel-7kzjbh_u
Building wheel for libarchive (setup.py): started
Destination directory: C:\Users\Arthur\AppData\Local\Temp\pip-wheel-7kzjbh_u
Running command 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\scripts\python.exe' -u -c 'import setuptools, tokenize;file='"'"'C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive\setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(file);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, file, '"'"'exec'"'"'))' bdist_wheel -d 'C:\Users\Arthur\AppData\Local\Temp\pip-wheel-7kzjbh_u' --python-tag cp37
running bdist_wheel
running build
running build_py
creating build
creating build\lib
creating build\lib\libarchive
copying libarchive\exception.py -> build\lib\libarchive
copying libarchive\library.py -> build\lib\libarchive
copying libarchive\log.py -> build\lib\libarchive
copying libarchive\public.py -> build\lib\libarchive
copying libarchive\test_support.py -> build\lib\libarchive
copying libarchive_init_.py -> build\lib\libarchive
creating build\lib\libarchive\adapters
copying libarchive\adapters\archive_entry.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_read.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_read_append_filter.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_read_set_format.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_read_support_filter_all.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_read_support_format_all.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_write.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_write_add_filter.py -> build\lib\libarchive\adapters
copying libarchive\adapters\archive_write_set_format.py -> build\lib\libarchive\adapters
copying libarchive\adapters_init_.py -> build\lib\libarchive\adapters
creating build\lib\libarchive\calls
copying libarchive\calls\archive_entry.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_general.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_read.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_read_append_filter.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_read_set_format.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_read_support_filter_all.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_read_support_format_all.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_write.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_write_add_filter.py -> build\lib\libarchive\calls
copying libarchive\calls\archive_write_set_format.py -> build\lib\libarchive\calls
copying libarchive\calls_init_.py -> build\lib\libarchive\calls
creating build\lib\libarchive\constants
copying libarchive\constants\archive.py -> build\lib\libarchive\constants
copying libarchive\constants\archive_entry.py -> build\lib\libarchive\constants
copying libarchive\constants_init_.py -> build\lib\libarchive\constants
creating build\lib\libarchive\types
copying libarchive\types\archive.py -> build\lib\libarchive\types
copying libarchive\types\archive_entry.py -> build\lib\libarchive\types
copying libarchive\types_init_.py -> build\lib\libarchive\types
running egg_info
writing libarchive.egg-info\PKG-INFO
writing dependency_links to libarchive.egg-info\dependency_links.txt
writing requirements to libarchive.egg-info\requires.txt
writing top-level names to libarchive.egg-info\top_level.txt
reading manifest file 'libarchive.egg-info\SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'libarchive.egg-info\SOURCES.txt'
creating build\lib\libarchive\resources
copying libarchive\resources\README.rst -> build\lib\libarchive\resources
copying libarchive\resources\requirements.txt -> build\lib\libarchive\resources
warning: build_py: byte-compiling is disabled, skipping.
installing to build\bdist.win-amd64\wheel
running install
error: [WinError 126] The specified module could not be found
Verifying that the library is accessible.
Library can not be loaded: [WinError 126] The specified module could not be found
Building wheel for libarchive (setup.py): finished with status 'error'
ERROR: Failed building wheel for libarchive
Running setup.py clean for libarchive
Running command 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\scripts\python.exe' -u -c 'import setuptools, tokenize;file='"'"'C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive\setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(file);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, file, '"'"'exec'"'"'))' clean --all
running clean
removing 'build\lib' (and everything under it)
'build\bdist.win-amd64' does not exist -- can't clean it
'build\scripts-3.7' does not exist -- can't clean it
removing 'build'
Failed to build libarchive
Installing collected packages: libarchive
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-record-eg93sm9k
Running setup.py install for libarchive: started
Running command 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\scripts\python.exe' -u -c 'import setuptools, tokenize;file='"'"'C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive\setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(file);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, file, '"'"'exec'"'"'))' install --record 'C:\Users\Arthur\AppData\Local\Temp\pip-record-eg93sm9k\install-record.txt' --single-version-externally-managed --compile --install-headers 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\include\site\python3.7\libarchive'
running install
error: [WinError 126] The specified module could not be found
Verifying that the library is accessible.
Library can not be loaded: [WinError 126] The specified module could not be found
Running setup.py install for libarchive: finished with status 'error'
Cleaning up...
Removing source in C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive
Removed build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-wsg_v87g'
ERROR: Command "'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\scripts\python.exe' -u -c 'import setuptools, tokenize;file='"'"'C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive\setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(file);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, file, '"'"'exec'"'"'))' install --record 'C:\Users\Arthur\AppData\Local\Temp\pip-record-eg93sm9k\install-record.txt' --single-version-externally-managed --compile --install-headers 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\include\site\python3.7\libarchive'" failed with error code 1 in C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive
Exception information:
Traceback (most recent call last):
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\cli\base_command.py", line 178, in main
status = self.run(options, args)
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\commands\install.py", line 414, in run
use_user_site=options.use_user_site,
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\req_init_.py", line 58, in install_given_reqs
**kwargs
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\req\req_install.py", line 953, in install
spinner=spinner,
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\utils\misc.py", line 776, in call_subprocess
% (command_desc, proc.returncode, cwd))
pip._internal.exceptions.InstallationError: Command "'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\scripts\python.exe' -u -c 'import setuptools, tokenize;file='"'"'C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive\setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(file);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, file, '"'"'exec'"'"'))' install --record 'C:\Users\Arthur\AppData\Local\Temp\pip-record-eg93sm9k\install-record.txt' --single-version-externally-managed --compile --install-headers 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\include\site\python3.7\libarchive'" failed with error code 1 in C:\Users\Arthur\AppData\Local\Temp\pip-install-79qdckok\libarchive
An error occurred while installing libarchive==0.4.6 --hash=sha256:37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04! Will try again.
Config variable 'Py_DEBUG' is unset, Python ABI tag may be incorrect
Config variable 'WITH_PYMALLOC' is unset, Python ABI tag may be incorrect
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-ephem-wheel-cache-t3nl90q6
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-ju9sc383
Created requirements tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-ju9sc383'
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-install-2cdcyav3
1 location(s) to search for versions of nose:
https://pypi.org/simple/nose/
Getting page https://pypi.org/simple/nose/
Looking up "https://pypi.org/simple/nose/" in the cache
Request header has "max_age" as 0, cache bypassed
Starting new HTTPS connection (1): pypi.org:443
https://pypi.org:443 "GET /simple/nose/ HTTP/1.1" 304 0
Analyzing links from page https://pypi.org/simple/nose/
Skipping link https://files.pythonhosted.org/packages/15/f1/f8eef5e98ddeeac545b9abffa7eb59d90587eb0bd58ba6afddf4a5925442/nose-1.0.0-py3.1.egg#sha256=4074ba3705077980921d846e68cec759d9e7f0dbae02e41877bc97deebcc0c11 (from https://pypi.org/simple/nose/); unsupported archive format: .egg
Found link https://files.pythonhosted.org/packages/82/14/8d5a795de5d3b5f2284af19773b8832faee027a4c04e5aa151a5e3600671/nose-1.0.0.tar.gz#sha256=0f8d6e6e0223b8fb04114b4a7209380e1acf27e0a1dd1ab98fece085a7c3c525 (from https://pypi.org/simple/nose/), version: 1.0.0
Found link https://files.pythonhosted.org/packages/0b/4d/eba792c9e37a0d010e231839aa28a913e8cb17698717ee2467bd56c05abc/nose-1.1.0.tar.gz#sha256=3de8a9ec8380bf5ee5d2d33fa5aad31158dc6b256403b36542ff77b73ce19246 (from https://pypi.org/simple/nose/), version: 1.1.0
Found link https://files.pythonhosted.org/packages/fe/41/c79f39e4f05ce3b3a3ba2210f609f06d53224900c6ea3c16581b5a1f9443/nose-1.1.1.tar.gz#sha256=83dbaf09aa25d1cc3ea5f2839b027a99156c37b40f78661d5257123a8f6e7b34 (from https://pypi.org/simple/nose/), version: 1.1.1
Found link https://files.pythonhosted.org/packages/38/96/7aa1c2583ddec558a230175d6aeddba796cde7191852bf3e6eb3cfb873e1/nose-1.1.2.tar.gz#sha256=b1ba12c1c45323fd8695be68ce7228456b86e51234f167027ebbc4ccda852c61 (from https://pypi.org/simple/nose/), version: 1.1.2
Found link https://files.pythonhosted.org/packages/af/42/704c843a177dacd76f718f009c526d70640ff6a6c5b0fef8bb7e45204179/nose-1.2.0.tar.gz#sha256=93c1d8b4741c69aa95e4a7c3e095414472473831869ccb9e8dd98a461f39529d (from https://pypi.org/simple/nose/), version: 1.2.0
Found link https://files.pythonhosted.org/packages/d0/50/cfc93700ec57b5f124e5f16e267039a0dbb3b8e96e8dd32b326a26fa867f/nose-1.2.1.tar.gz#sha256=2171e9202d118d302d5db1decb52dd862b79e2a626ca19653a6914574a6ca7d9 (from https://pypi.org/simple/nose/), version: 1.2.1
Found link https://files.pythonhosted.org/packages/de/f4/b205776cf5cbddbc1e2c3223fa29c0d05f18a9b8afad8cfa23438c217434/nose-1.3.0.tar.gz#sha256=4e63cc3325de75cf98ffad40be72fa69753de824695173178f74c034fe4f5260 (from https://pypi.org/simple/nose/), version: 1.3.0
Found link https://files.pythonhosted.org/packages/1d/a3/6df9d0d59cf0b20c505359ddef33d7ce4fe4388dba0948aadf3e75722f33/nose-1.3.1.tar.gz#sha256=85273b87ab3db9307e3b1452b071e25c1db1cc812bc337d2a97ea0b0cf2ab6ba (from https://pypi.org/simple/nose/), version: 1.3.1
Found link https://files.pythonhosted.org/packages/51/cb/bc138b0cf36070ab308311a85bf4562819ca5b96d8cc38a7b91b31f6fc69/nose-1.3.2.tar.gz#sha256=b65e0f0c76ff586bedba756d722c6a9f13673d06a7a58fd86a494543c3416787 (from https://pypi.org/simple/nose/), version: 1.3.2
Found link https://files.pythonhosted.org/packages/54/a4/32d15f534c2b0ec899f8058da165aaa920a84d6eeaf77ed64f03716dd7f0/nose-1.3.3.tar.gz#sha256=b40c2ff268beb85356ada25f626ca0dabc89705f31051649772cf00fc9510326 (from https://pypi.org/simple/nose/), version: 1.3.3
Skipping link https://files.pythonhosted.org/packages/79/61/6b0f82f55dd2307439ae89a92550458633221a652d75b49608a77071c2be/nose-1.3.4-py2-none-any.whl#sha256=78b03116badd0dbb2ed4dedc96a4a3d42138b94bb89fc2eb99f7f3bdfd199f56 (from https://pypi.org/simple/nose/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/07/c6/0667b318b01832320829b32b9858bc8897710b373d3f7c88a0e6fca742e9/nose-1.3.4-py3-none-any.whl#sha256=cc8aebdec5a5fb989912f157f77b3c21a5e2f2da623af90a7b476b106a834abf (from https://pypi.org/simple/nose/), version: 1.3.4
Found link https://files.pythonhosted.org/packages/97/48/4ffd60717dd66325e98e185055c0746f4c07808f23884d61dd80c0cfb3b2/nose-1.3.4.tar.gz#sha256=76bc63a4e2d5e5a0df77ca7d18f0f56e2c46cfb62b71103ba92a92c79fab1e03 (from https://pypi.org/simple/nose/), version: 1.3.4
Skipping link https://files.pythonhosted.org/packages/df/37/989287c470262fd36ecbe9e170a273529dc9a123d10a264ab4fab5000465/nose-1.3.6-py2-none-any.whl#sha256=4772ab5189229392d16c70ba7b8bb66b5d3c18076694c55347afb98c950b283c (from https://pypi.org/simple/nose/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/91/dc/1211a07f7c3a4e3b02a7e6e2c726fb763d13357d712987151a4ca44f821a/nose-1.3.6-py3-none-any.whl#sha256=e19b4f8a495681c367ab56c3c04f8bef30ddd7907ddfd9bee663a3f3286762b6 (from https://pypi.org/simple/nose/), version: 1.3.6
Found link https://files.pythonhosted.org/packages/70/c7/469e68148d17a0d3db5ed49150242fd70a74a8147b8f3f8b87776e028d99/nose-1.3.6.tar.gz#sha256=f61e0909a743eed37b1207e38a8e7b4a2fe0a82185e36f2be252ef1b3f901758 (from https://pypi.org/simple/nose/), version: 1.3.6
Skipping link https://files.pythonhosted.org/packages/99/4f/13fb671119e65c4dce97c60e67d3fd9e6f7f809f2b307e2611f4701205cb/nose-1.3.7-py2-none-any.whl#sha256=dadcddc0aefbf99eea214e0f1232b94f2fa9bd98fa8353711dacb112bfcbbb2a (from https://pypi.org/simple/nose/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/15/d8/dd071918c040f50fa1cf80da16423af51ff8ce4a0f2399b7bf8de45ac3d9/nose-1.3.7-py3-none-any.whl#sha256=9ff7c6cc443f8c51994b34a667bbcf45afd6d945be7477b52e97516fd17c53ac (from https://pypi.org/simple/nose/), version: 1.3.7
Found link https://files.pythonhosted.org/packages/58/a5/0dc93c3ec33f4e281849523a5a913fa1eea9a3068acfa754d44d88107a44/nose-1.3.7.tar.gz#sha256=f1bffef9cbc82628f6e7d7b40d7e255aefaa1adb6a1b1d26c69a8b79e6208a98 (from https://pypi.org/simple/nose/), version: 1.3.7
Installed version (1.3.7) is most up-to-date (past versions: 1.3.7)
Requirement already up-to-date: nose==1.3.7 in c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-xabcwu7a-requirement.txt (line 1)) (1.3.7)
Since it is already installed, we are trusting this package without checking its hash. To ensure a completely repeatable environment, install into an empty virtualenv.
Cleaning up...
Removed build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-ju9sc383'
================================ 2/2 - 00:00:02
Installing initially failed dependencies…
Installing 'libarchive'-------------- 0/1 - 00:00:00
$ ['C:\Users\Arthur\.virtualenvs\pipenv_example-m8qs6Znp\Scripts\pip.exe', 'install', '--verbose', '--upgrade', '--no-deps', '-r', 'C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-bhgfxtx2-requirement.txt', '-i', 'https://pypi.org/simple', '--require-hashes']
Config variable 'Py_DEBUG' is unset, Python ABI tag may be incorrect
Config variable 'WITH_PYMALLOC' is unset, Python ABI tag may be incorrect
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-ephem-wheel-cache-jh1bgynm
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-3xzs87sn
Created requirements tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-3xzs87sn'
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-install-csfjywiv
Collecting libarchive==0.4.6 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-bhgfxtx2-requirement.txt (line 1))
1 location(s) to search for versions of libarchive:
https://pypi.org/simple/libarchive/
Getting page https://pypi.org/simple/libarchive/
Looking up "https://pypi.org/simple/libarchive/" in the cache
Request header has "max_age" as 0, cache bypassed
Starting new HTTPS connection (1): pypi.org:443
https://pypi.org:443 "GET /simple/libarchive/ HTTP/1.1" 304 0
Analyzing links from page https://pypi.org/simple/libarchive/
Found link https://files.pythonhosted.org/packages/74/32/e9a12b85cfc7b2841e166d44981fbce40d48bcf409c07f53755e3e7e4303/libarchive-0.3.7.tar.gz#sha256=43a73f8cfa9322aa75189e3d57f9b5b187498607623c45b4055549a82fff3051 (from https://pypi.org/simple/libarchive/), version: 0.3.7
Found link https://files.pythonhosted.org/packages/6b/84/3a3d1731bd55850312921df9e78640eeb1f1bce371cb1612dad4b55ed586/libarchive-0.3.8.tar.gz#sha256=270b90bde40b039f9d761b22ab0ab761a4426f01319e62205378fbeeb02a4d88 (from https://pypi.org/simple/libarchive/), version: 0.3.8
Found link https://files.pythonhosted.org/packages/db/4a/7ffa9b3eb2c0b29d8378bf524ca5323aec8d259621a9fecd4df2f2bbe1aa/libarchive-0.3.9.tar.gz#sha256=8acc4abbf1577a4f0570b0935ac3279b08bb9094a14cd1d6d42183b92a461992 (from https://pypi.org/simple/libarchive/), version: 0.3.9
Found link https://files.pythonhosted.org/packages/6f/0d/4dae3d89a9e402243bb64602c837c0fc858ce14c6c85f8dde76b8bbf5d53/libarchive-0.3.10.tar.gz#sha256=2cee21a4d7b94f934df62f68977923e004057f0d6ad416dc918ba530ca7974d2 (from https://pypi.org/simple/libarchive/), version: 0.3.10
Found link https://files.pythonhosted.org/packages/15/dd/afeabec2e0552da8b0c58322e469f966c704de286466193f57c9efb26c36/libarchive-0.4.1.tar.gz#sha256=487fca474230fc724fa79ae648f835588557e1d91e3088b92a2795ee5dfaeb32 (from https://pypi.org/simple/libarchive/), version: 0.4.1
Skipping link https://files.pythonhosted.org/packages/21/22/86667499f9ad4078a145ada390bb03983dc4db53d91642fc9e2299adbf9a/libarchive-0.4.2-py2-none-any.whl#sha256=10719aff77d95bdf26d583a180f871f104ec8fb9c3b18b849d28c55431aebae1 (from https://pypi.org/simple/libarchive/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/72/2d/af36101196110a087bf95c11ffc0b5dac1765c06b37dbaeb0c7fb002afd5/libarchive-0.4.2.tar.gz#sha256=d93e0c860333a126af8e7023d80f53b117f212960cce12d63687c373dd44a883 (from https://pypi.org/simple/libarchive/), version: 0.4.2
Skipping link https://files.pythonhosted.org/packages/73/90/39215db5b13cd8d5006f9056d3b169a26b99a50787422b8fc70f1c5bcf53/libarchive-0.4.3-py2-none-any.whl#sha256=65da680e5b93c06a56899d8c29d3cca08114ddc4713c060a68edd1638ecd6dfe (from https://pypi.org/simple/libarchive/); it is not compatible with this Python
Found link https://files.pythonhosted.org/packages/f8/9d/58ac740a97260fcb25de2fd94d993d537b9c68c583a846eca75bff1599cb/libarchive-0.4.3.tar.gz#sha256=5db9bebc1ecc0949e1595c393422184b9855f1c2532689d8d216918e29aa8ca6 (from https://pypi.org/simple/libarchive/), version: 0.4.3
Found link https://files.pythonhosted.org/packages/66/32/a05f6f90d0973ee1a64e11a51f6e3679f2b78c578eb7d761f4db823c3d91/libarchive-0.4.4.tar.gz#sha256=84e61e753b7ed45b949e3304e33f076687984cb56f24ad1059a567f65e788560 (from https://pypi.org/simple/libarchive/), version: 0.4.4
Found link https://files.pythonhosted.org/packages/ef/ce/d0a87ad17d1125f18f00e3c6ccdcdf0318de1b15a8ac74e045de96da412a/libarchive-0.4.5.tar.gz#sha256=b1d813d1111a6d7a3cf3509bd9917585b66eb5bb57fa6fa5aecc9ad7c1b78e94 (from https://pypi.org/simple/libarchive/), version: 0.4.5
Found link https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from https://pypi.org/simple/libarchive/), version: 0.4.6
Using version 0.4.6 (newest of versions: 0.4.6)
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-unpack-nq10k1jo
Looking up "https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz" in the cache
Current age based on date: 3741
Ignoring unknown cache-control directive: immutable
Freshness lifetime from max-age: 365000000
The response is "fresh", returning cached response
365000000 > 3741
Using cached https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz
Downloading from URL https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from https://pypi.org/simple/libarchive/)
Added libarchive==0.4.6 from https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-bhgfxtx2-requirement.txt (line 1)) to build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-3xzs87sn'
Running setup.py (path:C:\Users\Arthur\AppData\Local\Temp\pip-install-csfjywiv\libarchive\setup.py) egg_info for package libarchive
Source in c:\users\arthur\appdata\local\temp\pip-install-csfjywiv\libarchive has version 0.4.6, which satisfies requirement libarchive==0.4.6 from https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-bhgfxtx2-requirement.txt (line 1))
Removed libarchive==0.4.6 from https://files.pythonhosted.org/packages/b8/89/2952eefad82d9361f539de16ea85a2d98a7fb68eae2ba9ab0869aa2cee0f/libarchive-0.4.6.tar.gz#sha256=37e8cca1eb85d30583cdcffc58116d83abc09be7549d5d6c9ead563c0a8d7b04 (from -r C:\Users\Arthur\AppData\Local\Temp\pipenv-8av5xapj-requirements\pipenv-bhgfxtx2-requirement.txt (line 1)) from build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-3xzs87sn'
Building wheels for collected packages: libarchive
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-wheel-5iedp2u1
Building wheel for libarchive (setup.py): started
Destination directory: C:\Users\Arthur\AppData\Local\Temp\pip-wheel-5iedp2u1
Building wheel for libarchive (setup.py): finished with status 'error'
Running setup.py clean for libarchive
Failed to build libarchive
Installing collected packages: libarchive
Created temporary directory: C:\Users\Arthur\AppData\Local\Temp\pip-record-hgw4zfib
Running setup.py install for libarchive: started
Running setup.py install for libarchive: finished with status 'error'
Cleaning up...
Removing source in C:\Users\Arthur\AppData\Local\Temp\pip-install-csfjywiv\libarchive
Removed build tracker 'C:\Users\Arthur\AppData\Local\Temp\pip-req-tracker-3xzs87sn'
Exception information:
Traceback (most recent call last):
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\cli\base_command.py", line 178, in main
status = self.run(options, args)
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\commands\install.py", line 414, in run
use_user_site=options.use_user_site,
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\req_init_.py", line 58, in install_given_reqs
**kwargs
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\req\req_install.py", line 953, in install
spinner=spinner,
File "c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\lib\site-packages\pip_internal\utils\misc.py", line 776, in call_subprocess
% (command_desc, proc.returncode, cwd))
pip._internal.exceptions.InstallationError: Command "'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\scripts\python.exe' -u -c 'import setuptools, tokenize;file='"'"'C:\Users\Arthur\AppData\Local\Temp\pip-install-csfjywiv\libarchive\setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(file);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, file, '"'"'exec'"'"'))' install --record 'C:\Users\Arthur\AppData\Local\Temp\pip-record-hgw4zfib\install-record.txt' --single-version-externally-managed --compile --install-headers 'c:\users\arthur.virtualenvs\pipenv_example-m8qs6znp\include\site\python3.7\libarchive'" failed with error code 1 in C:\Users\Arthur\AppData\Local\Temp\pip-install-csfjywiv\libarchive
Traceback (most recent call last):
File "c:\program files\python37\lib\runpy.py", line 193, in _run_module_as_main
"main", mod_spec)
File "c:\program files\python37\lib\runpy.py", line 85, in run_code
exec(code, run_globals)
File "C:\Program Files\Python37\Scripts\pipenv.exe_main.py", line 9, in
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\core.py", line 764, in call
return self.main(*args, **kwargs)
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\core.py", line 717, in main
rv = self.invoke(ctx)
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\core.py", line 1137, in invoke
return _process_result(sub_ctx.command.invoke(sub_ctx))
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\core.py", line 956, in invoke
return ctx.invoke(self.callback, **ctx.params)
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\core.py", line 555, in invoke
return callback(*args, **kwargs)
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\decorators.py", line 64, in new_func
return ctx.invoke(f, obj, *args, **kwargs)
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\core.py", line 555, in invoke
return callback(*args, **kwargs)
File "c:\program files\python37\lib\site-packages\pipenv\vendor\click\decorators.py", line 17, in new_func
return f(get_current_context(), *args, **kwargs)
File "c:\program files\python37\lib\site-packages\pipenv\cli\command.py", line 254, in install
editable_packages=state.installstate.editables,
File "c:\program files\python37\lib\site-packages\pipenv\core.py", line 1992, in do_install
skip_lock=skip_lock,
File "c:\program files\python37\lib\site-packages\pipenv\core.py", line 1253, in do_init
pypi_mirror=pypi_mirror,
File "c:\program files\python37\lib\site-packages\pipenv\core.py", line 859, in do_install_dependencies
retry_list, procs, failed_deps_queue, requirements_dir, **install_kwargs
File "c:\program files\python37\lib\site-packages\pipenv\core.py", line 763, in batch_install
_cleanup_procs(procs, not blocking, failed_deps_queue, retry=retry)
File "c:\program files\python37\lib\site-packages\pipenv\core.py", line 681, in _cleanup_procs
raise exceptions.InstallError(c.dep.name, extra=err_lines)
pipenv.exceptions.InstallError: ERROR: ERROR: Package installation failed...
================================ 0/1 - 00:00:02
Steps to replicate
On a Windows machine running Python 3.7, run the command above.
Failure occurs even if no other modules are installed.
$ pipenv --support