hulucc commented on 23 Oct 2018 â€¢
edited
Issue description
It works on version 2018.7.1, but fails after update.
Expected result
Lock success.
Actual result
ptools\repositories\pypi.py", line 415, in get_legacy_dependencies
    results, ireq = self.resolve_reqs(download_dir, ireq, wheel_cache)
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\piptools\repositories\pypi.py", line 297, in resolve_reqs
    results = resolver._resolve_one(reqset, ireq)
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\notpip\_internal\resolve.py", line 263, in _resolve_one
    abstract_dist = self._get_abstract_dist_for(req_to_install)
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\notpip\_internal\resolve.py", line 213, in _get_abstract_dist_for
    self.require_hashes
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\notpip\_internal\operations\prepare.py", line 294, in prepare_linked_requirement
    abstract_dist.prep_for_dist(finder, self.build_isolation)
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\notpip\_internal\operations\prepare.py", line 127, in prep_for_dist
    self.req.run_egg_info()
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\notpip\_internal\req\req_install.py", line 636, in run_egg_info
    command_desc='python setup.py egg_info')
  File "c:\users\hulucc\appdata\local\programs\python\python36\lib\site-packages\pipenv\patched\notpip\_internal\utils\misc.py", line 701, in call_subprocess
    % (command_desc, proc.returncode, cwd))
pipenv.patched.notpip._internal.exceptions.InstallationError: Command "python setup.py egg_info" failed with error code 1 in C:\Users\hulucc\AppData\Local\Temp\tmpxls4tv_cbuild\uwsgi\
Steps to replicate
uwsgi = { version = "==2.0.15", sys_platform = "!= 'win32'" }
pipenv lock
$ pipenv --support