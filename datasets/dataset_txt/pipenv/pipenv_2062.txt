Contributor
audiolion commented on 27 Sep 2017 â€¢
edited
Ran into this situation, wanted to use pipenv on CircleCI, before I was using python-virtualenv package and would install it through the package manager of Ubuntu (sudo apt-get python-virtualenv and then I would be able to call virtualenv on the command line. However the only way I can get pipenv is pip install --user pipenv and it stores it in ~/.local/bin, due to how CircleCI is setup I would need to modify the path to include that location before every command that is run.
It would be nice it pipenv could have the same functionality to sudo apt-get python-pipenv so it is available at the system level in a Docker image.
Right now my best path forward is
virtualenv .venv
source .venv/bin/activate
pip install pipenv
# run pipenv under the virtualenv
Making a virtualenv to install pipenv which will run a virtualenv seems silly. Since we are using pipenv in dev I want to keep the process the same as how the developers build the project and not use pip/virtualenv/requirements.txt on the CI server
edit: To get around this I added pip install --user pipenv and ENV PATH="~/.local/bin:${PATH}" to my Dockerfile and it found pipenv