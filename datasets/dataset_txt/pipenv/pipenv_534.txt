kristjanvalur commented on 18 Oct 2018
Issue description
pip 18.1 enabled PEP508 urls in setup.py requirements, as long as the parent pacage doesn't come from PyPI.
This is not apparently supported in the latest pipenv
Expected result
In a pipenv, latest version, pip 18.1. I install a local package in dev mode. this package has a url-requirement in setup.py
../mypacage/setup.py has a line:
install_requires=[
# url requirement for mypackage2
'mypackage2@git+https://github.com/foo/mypackage2.git',
pipenv install -e "../mypackage"
I expect dependency resolution to work, with mypackage2 being fetched from githum.
In fact, "pip install -e "../mypackage" works.
Actual result
pipenv install -e "../mypakacage"
results in the following error:
pipenv.patched.notpip._internal.exceptions.InstallationError: Direct url requirement (like mypapackage2@ git+https://github.com/foo/mypajckage2.git) are not allowed for dependencies
This is in fact a similar error that pip version 18.0 used to produce.
2