bobort commented on 13 Nov 2018
Pipenv version: 2018.10.13
Issue description
I'm installing a whl file directly on Windows due to incompatibilities from pip. The whl file comes from Gohlke.
I'm able to workaround the issue by manually modifying the SHA value on the lock file. But anytime I run install or update again, I get the same error message.
Expected result
The whl file is installed without errors.
Actual result
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Updated Pipfile.lock (8ccf84)!
Installing dependencies from Pipfile.lock (8ccf84)…
An error occurred while installing ./python_ldap-3.1.0-cp37-cp37m-win_amd64.whl --hash=sha256:41975e79406502c092732c57ef0c2c2eb318d91e8e765f81f5d4ab6c1db727c5!
Will try again.
================================ 49/49 - 00:00:12
Installing initially failed dependencies…
Processing [........]\python_ldap-3.1.0-cp37-cp37m-win_amd64.whl
THESE PACKAGES DO NOT MATCH THE HASHES FROM Pipfile.lock!. If you have updated the package versions, please update the hashes. Otherwise, examine the package contents carefully; someone may have tampered with them.
python-ldap==3.1.0 from [......]/python_ldap-3.1.0-cp37-cp37m-win_amd64.whl (from -r [..........]pipenv-[...]-requirement.txt (line 1)):
Expected sha256 41975e79406502c092732c57ef0c2c2eb318d91e8e765f81f5d4ab6c1db727c5
Got a424ecb9f16ab7723d570c12713dd2f3ae84c605c93ee19d6cc1c47fec61815b
Steps to replicate
pipenv install python_ldap-3.1.0-cp37-cp37m-win_amd64.whl
pipenv update