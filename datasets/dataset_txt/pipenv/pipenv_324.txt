9034725985 commented on 22 Jan 2019
Be sure to check the existing issues (both open and closed!), and make sure you are running the latest version of Pipenv.
Check the diagnose documentation for common issues before posting! We may close your issue if it is very similar to one of them. Please be considerate, or be on your way.
Make sure to mention your debugging experience if the documented solution failed.
Issue description
pipenv uninstall --all-dev does not work.
It tells me ModuleNotFoundError: No module named 'pipenv.vendor.packaging'
Expected result
pipenv uninstall --all-dev works as expected
Describe what you expected.
Actual result
When possible, provide the verbose output (--verbose), especially for locking and dependencies resolving issues.
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
Please follow these steps to reproduce:
create a new folder
cd into new folder
pipenv install
pipenv uninstall --all-dev
watch error
it should not give an error.
[kus@asus-vivobook scripts]$ cd ~/src/personal/
[kus@asus-vivobook personal]$ mkdir -p myrequest
[kus@asus-vivobook personal]$ cd myrequest/
[kus@asus-vivobook myrequest]$ ls -a
. ..
[kus@asus-vivobook myrequest]$ pipenv install
Creating a virtualenv for this project…
Pipfile: /home/kus/src/personal/myrequest/Pipfile
Using /usr/bin/python3 (3.7.2) to create virtualenv…
⠼ Creating virtual environment...Already using interpreter /usr/bin/python3
Using base prefix '/usr'
New python executable in /home/kus/.local/share/virtualenvs/myrequest-fayK9fOV/bin/python3
Also creating executable in /home/kus/.local/share/virtualenvs/myrequest-fayK9fOV/bin/python
Installing setuptools, pip, wheel...done.
✔ Successfully created virtual environment!
Virtualenv location: /home/kus/.local/share/virtualenvs/myrequest-fayK9fOV
Creating a Pipfile for this project…
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Updated Pipfile.lock (a65489)!
Installing dependencies from Pipfile.lock (a65489)…
▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 0/0 — 00:00:00
To activate this project's virtualenv, run pipenv shell.
Alternatively, run a command inside the virtualenv with pipenv run.
[kus@asus-vivobook myrequest]$ pipenv uninstall --all-dev
Traceback (most recent call last):
File "/usr/bin/pipenv", line 11, in
load_entry_point('pipenv==2018.11.26', 'console_scripts', 'pipenv')()
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 764, in call
return self.main(*args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 717, in main
rv = self.invoke(ctx)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 1137, in invoke
return _process_result(sub_ctx.command.invoke(sub_ctx))
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 956, in invoke
return ctx.invoke(self.callback, **ctx.params)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 555, in invoke
return callback(*args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/decorators.py", line 64, in new_func
return ctx.invoke(f, obj, *args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 555, in invoke
return callback(*args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/decorators.py", line 17, in new_func
return f(get_current_context(), *args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/cli/command.py", line 301, in uninstall
ctx=ctx
File "/usr/lib/python3.7/site-packages/pipenv/core.py", line 2012, in do_uninstall
from .vendor.packaging.utils import canonicalize_name
ModuleNotFoundError: No module named 'pipenv.vendor.packaging'
Please run $ pipenv --support, and paste the results here. Don't put backticks (`) around it! The output already contains Markdown formatting.
If you're on macOS, run the following:
$ pipenv --support | pbcopy
If you're on Windows, run the following:
> pipenv --support | clip
If you're on Linux, run the following:
$ pipenv --support | xclip
$ pipenv --support
$ pipenv --support
[kus@asus-vivobook scripts]$ pipenv run python pinpoint.py
Creating a virtualenv for this project…
Pipfile: /home/kus/src/personal/scripts/Pipfile
Using /usr/bin/python3.7m (3.7.2) to create virtualenv…
⠧ Creating virtual environment...Using base prefix '/usr'
New python executable in /home/kus/.local/share/virtualenvs/scripts-Vch89g9b/bin/python3.7m
Also creating executable in /home/kus/.local/share/virtualenvs/scripts-Vch89g9b/bin/python
Installing setuptools, pip, wheel...done.
Running virtualenv with interpreter /usr/bin/python3.7m
✔ Successfully created virtual environment!
Virtualenv location: /home/kus/.local/share/virtualenvs/scripts-Vch89g9b
/home/kus/.local/share/virtualenvs/scripts-Vch89g9b/bin/python: can't open file 'pinpoint.py': [Errno 2] No such file or directory
[kus@asus-vivobook scripts]$ pipenv uninstall --all-dev
Traceback (most recent call last):
File "/usr/bin/pipenv", line 11, in
load_entry_point('pipenv==2018.11.26', 'console_scripts', 'pipenv')()
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 764, in call
return self.main(*args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 717, in main
rv = self.invoke(ctx)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 1137, in invoke
return _process_result(sub_ctx.command.invoke(sub_ctx))
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 956, in invoke
return ctx.invoke(self.callback, **ctx.params)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 555, in invoke
return callback(*args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/decorators.py", line 64, in new_func
return ctx.invoke(f, obj, *args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/core.py", line 555, in invoke
return callback(*args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/vendor/click/decorators.py", line 17, in new_func
return f(get_current_context(), *args, **kwargs)
File "/usr/lib/python3.7/site-packages/pipenv/cli/command.py", line 301, in uninstall
ctx=ctx
File "/usr/lib/python3.7/site-packages/pipenv/core.py", line 2012, in do_uninstall
from .vendor.packaging.utils import canonicalize_name
ModuleNotFoundError: No module named 'pipenv.vendor.packaging'