BeyondEvil commented on 27 Nov 2017
Trying to install from github using ref and tag fails, because pipenv "destroys" the format of the url removing git: from the reference.
Describe your environment
OS Type OSX 10.12.6
Python version: $ python -V 3.6.3
Pipenv version: $ pipenv --version 8.3.2
Expected result
The reference in Pipfile looks like this (which is correct)
pytest-tags = {git = "git://github.com/Projectplace/pytest-tags.git", editable = true, ref = "1.5"}
But in the Pipfile.lock file, it's
"git": "//github.com/Projectplace/pytest-tags.git"
Workaround is to re-add git: to the pipfile.lock manually.
Actual result
Locking [dev-packages] dependencies‚Ä¶
Locking [packages] dependencies‚Ä¶
Updated Pipfile.lock (24ab2e)!
Installing dependencies from Pipfile.lock (24ab2e)‚Ä¶
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 19/19 ‚Äî 00:00:05
An error occurred while installing -e git+//github.com/Projectplace/pytest-tags.git@c8cf057c03a1fa30769c0328efa41d4826e03bcf#egg=pytest-tags! Will try again.
Installing initially‚Äìfailed dependencies‚Ä¶
Obtaining pytest-tags from git+//github.com/Projectplace/pytest-tags.git@c8cf057c03a1fa30769c0328efa41d4826e03bcf#egg=pytest-tags
  Cloning github.com/Projectplace/pytest-tags.git (to c8cf057c03a1fa30769c0328efa41d4826e03bcf) to /Users/jimbrannlund/.local/share/virtualenvs/dpo-automation-NuB7OARD/src/pytest-tags
fatal: repository 'github.com/Projectplace/pytest-tags.git' does not exist

Command "git clone -q github.com/Projectplace/pytest-tags.git /Users/jimbrannlund/.local/share/virtualenvs/dpo-automation-NuB7OARD/src/pytest-tags" failed with error code 128 in None```