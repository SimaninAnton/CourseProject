hexchain commented on 3 Jul 2018
Issue description
In Python 2.7, installing from Pipfile{,lock} containing tornado does not install its singledispatch dependency.
Expected result
singledispatch is installed.
Actual result
singledispatch is not installed and tornado is unusable.
Steps to replicate
Create a Pipfile according to detailed info below.
Run pipenv install --two
$ pipenv run python
Python 2.7.13 (default, Nov 24 2017, 17:33:09) 
[GCC 6.3.0 20170516] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import tornado
>>> import tornado.web
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/thc/.local/share/virtualenvs/test-50RnJwkM/local/lib/python2.7/site-packages/tornado/web.py", line 86, in <module>
    from tornado import gen
  File "/home/thc/.local/share/virtualenvs/test-50RnJwkM/local/lib/python2.7/site-packages/tornado/gen.py", line 112, in <module>
    from singledispatch import singledispatch  # backport
ImportError: No module named singledispatch
>>> 
$ pipenv --support
1