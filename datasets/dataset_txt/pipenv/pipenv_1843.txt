ghost commented on 8 Nov 2017
Hi,
I'm trying to install a local setup.py into my virtual environment/Pipfile:
I get this error : TypeError: coercing to Unicode: need string or buffer, NoneType found
Do you have any idea of the problem ?
Thank you in advance
Describe your environment
Mac OS X - Sierra
Python version: 3.6.3
Pipenv version: 8.3.1
Expected result
Actual result
pipenv install -e .
Installing -e .â€¦
Traceback (most recent call last):
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/bin/pipenv", line 11, in <module>
    load_entry_point('pipenv==8.3.1', 'console_scripts', 'pipenv')()
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/cli.py", line 1869, in install
    converted = convert_deps_from_pip(package_name)
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/site-packages/pipenv/utils.py", line 540, in convert_deps_from_pip
    os.path.isfile(req.name)) and not req.vcs:
  File "/usr/local/Cellar/pipenv/8.3.1/libexec/lib/python2.7/genericpath.py", line 37, in isfile
    st = os.stat(path)
TypeError: coercing to Unicode: need string or buffer, NoneType found
Steps to replicate
brew install pipenv
pipenv --python 3.6.3
pipenv install --dev
Pipfile
[[source]]

url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"

[dev-packages]

keyring = "*"
twine = "*"
"flake8" = "*"
pytest = "*"
"pytest-cov" = "*"

[packages]

requests = "*"
click = "*"
2