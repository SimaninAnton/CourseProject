Contributor
gzzo commented on 13 Mar 2018
Since pipenv install tries to lock when the lockfile is out of date, the command can fail trying to lock dev dependencies when --dev was not specified.
Pipenv version: `'11.6.3'`
------------
Expected result
I would dev dependencies to not interfere with pipenv install
Actual result
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
q_install.py", line 82, in __init__
    req = Requirement(req)
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/vendor/pip9/_vendor/packaging/requirements.py", line 96, in __init__
    requirement_string[e.loc:e.loc + 8]))
pip9._vendor.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at "'/does/no'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/pipenv/resolver.py", line 66, in <module>
    main()
  File "/usr/local/lib/python3.6/site-packages/pipenv/resolver.py", line 54, in main
    results = resolve(packages, pre=do_pre, sources=project.sources, verbose=is_verbose, clear=do_clear)
  File "/usr/local/lib/python3.6/site-packages/pipenv/resolver.py", line 52, in resolve
    return pipenv.utils.resolve_deps(packages, which, project=project, pre=pre, sources=sources, clear=clear, verbose=verbose)
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/utils.py", line 397, in resolve_deps
    resolved_tree, resolver = actually_resolve_reps(deps, index_lookup, markers_lookup, project, sources, verbose, clear, pre)
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/utils.py", line 290, in actually_resolve_reps
    constraint = [c for c in req.parse_requirements(t, session=pip_requests)][0]
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/utils.py", line 290, in <listcomp>
    constraint = [c for c in req.parse_requirements(t, session=pip_requests)][0]
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/vendor/pip9/req/req_file.py", line 93, in parse_requirements
    for req in req_iter:
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/vendor/pip9/req/req_file.py", line 158, in process_line
    isolated=isolated, options=req_options, wheel_cache=wheel_cache
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/vendor/pip9/req/req_install.py", line 235, in from_line
    wheel_cache=wheel_cache, constraint=constraint)
  File "/usr/local/lib/python3.6/site-packages/pipenv/../pipenv/vendor/pip9/req/req_install.py", line 91, in __init__
    "Invalid requirement: '%s'\n%s" % (req, add_msg))
pip9.exceptions.InstallationError: Invalid requirement: '/does/not/exist'
It looks like a path. Does it exist ?
Steps to replicate
The Pipfile I provided is enough to reproduce with pipenv install