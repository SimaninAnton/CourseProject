gf2crypto commented on 17 Dec 2018
Hi,
pipenv does not work with paths which contains non-latin symbols (for example russian words), see PWD below (in output of pipenv --support).
Traceback (most recent call last):
  File "/usr/local/bin/pipenv", line 11, in <module>
    sys.exit(cli())
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 764, in __call__
    return self.main(*args, **kwargs)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 717, in main
    rv = self.invoke(ctx)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 1137, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 956, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 555, in invoke
    return callback(*args, **kwargs)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/decorators.py", line 64, in new_func
    return ctx.invoke(f, obj, *args, **kwargs)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 555, in invoke
    return callback(*args, **kwargs)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/vendor/click/decorators.py", line 17, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/cli/command.py", line 254, in install
    editable_packages=state.installstate.editables,
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/core.py", line 1741, in do_install
    pypi_mirror=pypi_mirror,
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/core.py", line 574, in ensure_project
    pypi_mirror=pypi_mirror,
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/core.py", line 489, in ensure_virtualenv
    if not project.virtualenv_exists:
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/project.py", line 272, in virtualenv_exists
    if self.pipfile_exists and os.path.exists(self.virtualenv_location):
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/project.py", line 437, in virtualenv_location
    self._virtualenv_location = self.get_location_for_virtualenv()
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/project.py", line 294, in get_location_for_virtualenv
    return str(get_workon_home().joinpath(self.virtualenv_name))
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/project.py", line 421, in virtualenv_name
    sanitized, encoded_hash = self._get_virtualenv_hash(self.name)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/project.py", line 390, in _get_virtualenv_hash
    clean_name, encoded_hash = get_name(name, self.pipfile_location)
  File "/home/surehand/.local/lib/python2.7/site-packages/pipenv/project.py", line 386, in get_name
    hash = hashlib.sha256(location.encode()).digest()[:6]
UnicodeDecodeError: 'ascii' codec can't decode byte 0xd0 in position 15: ordinal not in range(128)
$ pipenv --support