dimbleby commented on 8 May 2018
$ python -m pipenv.help output
Expected result
pipenv update will update lockfile etc
Actual result
Failure with following traceback:
$ pipenv update
Running $ pipenv lock then $ pipenv sync.
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Traceback (most recent call last):
  File "/data/dch/.local/bin/pipenv", line 11, in <module>
    sys.exit(cli())
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/vendor/click/core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/vendor/click/decorators.py", line 17, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/cli.py", line 788, in update
    verbose=verbose, clear=clear, pre=pre, keep_outdated=keep_outdated
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/core.py", line 1168, in do_lock
    project.write_lockfile(lockfile)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/project.py", line 644, in write_lockfile
    with atomic_open_for_write(self.lockfile_location, newline=newlines) as f:
  File "/usr/lib64/python3.4/contextlib.py", line 59, in __enter__
    return next(self.gen)
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/utils.py", line 1333, in atomic_open_for_write
    delete=False,
  File "/data/dch/.local/lib/python3.4/site-packages/pipenv/_compat.py", line 263, in NamedTemporaryFile
    (fd, name) = _mkstemp_inner(dir, prefix, suffix, flags, output_type)
TypeError: _mkstemp_inner() takes 4 positional arguments but 5 were given
Steps to replicate
Brand new pipenv environment, then pipenv update.