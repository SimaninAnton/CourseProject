a108483 commented on 27 Mar 2019
Be sure to check the existing issues (both open and closed!), and make sure you are running the latest version of Pipenv.
Check the diagnose documentation for common issues before posting! We may close your issue if it is very similar to one of them. Please be considerate, or be on your way.
Make sure to mention your debugging experience if the documented solution failed.
Issue description
I want to install flask ,so i run the command "pipenv install flask"
and then there will sure i have install success , and ,in the next it output the pipenv.lock is out of data,and sure "lock failed".in the below , it will show two Repeated Error Messages，such as "No versions found....".
so i run the command "pipenv uninstall flask",it sure the Pipenv.lock updated to the leatest.
after it ,i run "pipenv install flask ".what!!!!!! the same error!!!!!
how to deal with it?
Expected result
i want it run right!!!!!
Actual result
When possible, provide the verbose output (--verbose), especially for locking and dependencies resolving issues.
Installing flask…
⠋ Installing...Installing 'flask'
✔ Installation Succeeded
Pipfile.lock (662286) out of date, updating to (a65489)…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
✘ Locking Failed!
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple
                      ROUND 1                           
Current constraints:
flask
Finding the best candidates:
Traceback (most recent call last):
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 385, in resolve
results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 102, in resolve
has_changed, best_matches = self._resolve_one_round()
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in _resolve_one_round
best_matches = {self.get_best_match(ireq) for ireq in constraints}
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in
best_matches = {self.get_best_match(ireq) for ireq in constraints}
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 263, in get_best_match
best_match = self.repository.find_best_match(ireq, prereleases=self.prereleases)
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/repositories/pypi.py", line 175, in find_best_match
raise NoCandidateFound(ireq, all_candidates, self.finder)
pipenv.patched.piptools.exceptions.NoCandidateFound: Could not find a version that matches flask
No versions found
Was https://pypi.org/simple reachable?
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 126, in
main()
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 119, in main
parsed.requirements_dir, parsed.packages)
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 85, in _main
requirements_dir=requirements_dir,
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 69, in resolve
req_dir=requirements_dir
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 726, in resolve_deps
req_dir=req_dir,
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 480, in actually_resolve_deps
resolved_tree = resolver.resolve()
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 395, in resolve
raise ResolutionFailure(message=str(e))
pipenv.exceptions.ResolutionFailure: ERROR: ERROR: Could not find a version that matches flask
No versions found
Was https://pypi.org/simple reachable?
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple
                      ROUND 1                           
Current constraints:
flask
Finding the best candidates:
Traceback (most recent call last):
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 385, in resolve
results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 102, in resolve
has_changed, best_matches = self._resolve_one_round()
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in _resolve_one_round
best_matches = {self.get_best_match(ireq) for ireq in constraints}
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in
best_matches = {self.get_best_match(ireq) for ireq in constraints}
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 263, in get_best_match
best_match = self.repository.find_best_match(ireq, prereleases=self.prereleases)
File "/root/.local/lib/python3.7/site-packages/pipenv/patched/piptools/repositories/pypi.py", line 175, in find_best_match
raise NoCandidateFound(ireq, all_candidates, self.finder)
pipenv.patched.piptools.exceptions.NoCandidateFound: Could not find a version that matches flask
No versions found
Was https://pypi.org/simple reachable?
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 126, in
main()
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 119, in main
parsed.requirements_dir, parsed.packages)
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 85, in _main
requirements_dir=requirements_dir,
File "/root/.local/lib/python3.7/site-packages/pipenv/resolver.py", line 69, in resolve
req_dir=requirements_dir
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 726, in resolve_deps
req_dir=req_dir,
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 480, in actually_resolve_deps
resolved_tree = resolver.resolve()
File "/root/.local/lib/python3.7/site-packages/pipenv/utils.py", line 395, in resolve
raise ResolutionFailure(message=str(e))
pipenv.exceptions.ResolutionFailure: ERROR: ERROR: Could not find a version that matches flask
No versions found
Was https://pypi.org/simple reachable?
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
Please run $ pipenv --support, and paste the results here. Don't put backticks (`) around it! The output already contains Markdown formatting.
If you're on macOS, run the following:
$ pipenv --support | pbcopy
If you're on Windows, run the following:
> pipenv --support | clip
If you're on Linux, run the following:
$ pipenv --support | xclip
the file.txt