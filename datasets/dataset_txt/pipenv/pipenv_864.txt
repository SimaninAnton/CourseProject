chgad commented on 5 Jul 2018 â€¢
edited
Please refer to our StackOverflow tag for more information.
If Pipenv is not functioning as you would like it to, consider filing either a bug report, or a feature request instead.
Please run $ pipenv --support, and paste the results here. Don't put backticks (`) around it! The output already contains Markdown formatting.
$ pipenv --support
Hello everyone, i just upgraded pipenv to the newest verison and wanted to update my "fairly old" Pipflie.lock. When doing this, in the "locking phase" i get the following error :
Locking [dev-packages] dependencies...
line 87, in
main()
File "/usr/local/lib/python3.5/dist-packages/pipenv/resolver.py", line 76, in main
system=system,
File "/usr/local/lib/python3.5/dist-packages/pipenv/resolver.py", line 63, in resolve
allow_global=system,
File "/usr/local/lib/python3.5/dist-packages/pipenv/utils.py", line 402, in resolve_deps
req_dir=req_dir
File "/usr/local/lib/python3.5/dist-packages/pipenv/utils.py", line 293, in actually_resolve_deps
results = resolver.resolve(max_rounds=PIPENV_MAX_ROUNDS)
File "/usr/local/lib/python3.5/dist-packages/pipenv/patched/piptools/resolver.py", line 104, in resolve
has_changed, best_matches = self._resolve_one_round()
File "/usr/local/lib/python3.5/dist-packages/pipenv/patched/piptools/resolver.py", line 209, in _resolve_one_round
for dep in self._iter_dependencies(best_match):
File "/usr/local/lib/python3.5/dist-packages/pipenv/patched/piptools/resolver.py", line 311, in _iter_dependencies
yield InstallRequirement.from_line(dependency_string, constraint=ireq.constraint)
File "/usr/local/lib/python3.5/dist-packages/pipenv/patched/notpip/_internal/req/req_install.py", line 193, in from_line
markers = Marker(markers)
File "/usr/local/lib/python3.5/dist-packages/pipenv/patched/notpip/_vendor/packaging/markers.py", line 280, in init
raise InvalidMarker(err_str)
pipenv.patched.notpip._vendor.packaging.markers.InvalidMarker: Invalid marker: 'sys_platform != "win32"; sys_platform != "win32"', parse error at '; sys_pl'
I allready considered #2359. In my current Pipfile.lock there exists a dependency of Pexpect which has this marker set, so i assume to have it tracke down to this package. Unfortunatly I do not install this directly (see Pipfile above) and it does not occur in pipenv graph either. Where is the error ?
Thanks in advance.
1