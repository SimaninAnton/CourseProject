Peque commented on 4 Mar 2019 â€¢
edited
I created this simple project in Gitlab:
https://gitlab.com/PequeX/deleteme
With a Pipfile that installs only a couple of packages:
[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[dev-packages]
pytest = "*"

[packages]
requests = "*"

[requires]
python_version = "3.7"
And a very simple .gitlab-ci.yml file:
image: peque/python-devel

before_script:
  - pipenv sync --dev

python36:
  script:
    - pipenv run pytest
There is also the autogenerated Pipfile.lock file. Which I will not paste here as it is not very interesting.
Now, the problem is Gitlab seems to get blocked when calling pipenv sync:
https://gitlab.com/PequeX/deleteme/-/jobs/171273142
There is no output printed on the log and no error. It just gets blocked forever. And then, eventually, it timeouts (because Gitlab would not let you run a pipeline forever).