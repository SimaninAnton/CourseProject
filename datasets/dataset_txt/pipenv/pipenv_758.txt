m-stolle commented on 8 Aug 2018
Issue description
pipenv run throws OSERROR on Windows installation. No other python installations present.
It works If I change the following line in pipenv\core.py", line 2201, in do_run_nt
subprocess.Popen([command] + script.args, **options)
to
subprocess.Popen(['python', command] + script.args, **options)
>assoc .py
.py=Python.File

>ftype Python.File
Python.File="C:\WINDOWS\py.exe" "%L" %*
Expected result
pipenv run without any exceptions
Actual result
> pipenv run manage.py test
Traceback (most recent call last):
  File "d:\python36-32\lib\runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "d:\python36-32\lib\runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "D:\Python36-32\Scripts\pipenv.exe\__main__.py", line 9, in <module>
  File "d:\python36-32\lib\site-packages\pipenv\vendor\click\core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "d:\python36-32\lib\site-packages\pipenv\vendor\click\core.py", line 697, in main
    rv = self.invoke(ctx)
  File "d:\python36-32\lib\site-packages\pipenv\vendor\click\core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "d:\python36-32\lib\site-packages\pipenv\vendor\click\core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "d:\python36-32\lib\site-packages\pipenv\vendor\click\core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "d:\python36-32\lib\site-packages\pipenv\cli.py", line 701, in run
    do_run(command=command, args=args, three=three, python=python, pypi_mirror=pypi_mirror)
  File "d:\python36-32\lib\site-packages\pipenv\core.py", line 2253, in do_run
    do_run_nt(script)
  File "d:\python36-32\lib\site-packages\pipenv\core.py", line 2201, in do_run_nt
    p = subprocess.Popen([command] + script.args, **options)
  File "d:\python36-32\lib\subprocess.py", line 709, in __init__
    restore_signals, start_new_session)
  File "d:\python36-32\lib\subprocess.py", line 997, in _execute_child
    startupinfo)
OSError: [WinError 193] %1 ist keine zul√§ssige Win32-Anwendung
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
$ pipenv --support