Contributor
sersorrel commented on 9 Aug 2017
0 $ pipenv run foo
The command (/home/josh/.local/share/virtualenvs/[redacted]/bin/foo) was not found within the virtualenv!
0 $ pipenv run foo --bar
The command (/home/josh/.local/share/virtualenvs/[redacted]/bin/foo) was not found within the virtualenv!
0 $ pipenv run foo --help
Usage: pipenv run [OPTIONS] COMMAND [ARGS]...

  Spawns a command installed into the virtualenv.

Options:
  --three / --two  Use Python 3/2 when creating virtualenv.
  --python TEXT    Specify which version of Python virtualenv should use.
  --help           Show this message and exit.
Instead, help text should only be printed if invoked with --help as first argument to run (i.e. pipenv run --help) -- even if a flag after the first argument to run is recognised as a pipenv flag, it should be passed to the program being run. IOW, pipenv run my_program --my-flag should always run my_program --my-flag, even if pipenv someday learns to recognise --my-flag.
Similarly with other options, not just --help:
$ pipenv run foo --python
Error: --python option requires an argument
(message is from pipenv, since foo binary doesn't exist)
Finally, pipenv run foo --three (or --two) removes the virtualenv automatically and creates a new one!
1