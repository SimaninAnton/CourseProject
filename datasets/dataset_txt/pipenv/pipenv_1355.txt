iddan commented on 14 Mar 2018
Docker build is failing.
$ python -m pipenv.help output
Pipenv version: `'11.7.1'`
Expected result
Dockre to build image
Actual result
Docker fails with:
Sending build context to Docker daemon  50.62MB
Step 1/2 : FROM kennethreitz/pipenv
# Executing 3 build triggers
 ---> Using cache
 ---> Using cache
 ---> Running in f5d7c75920c7
+ pipenv install --deploy --system
Installing dependencies from Pipfile.lock (87bff2)â€¦
Traceback (most recent call last):
  File "/usr/bin/pipenv", line 11, in <module>
    load_entry_point('pipenv==11.1.11', 'console_scripts', 'pipenv')()
  File "/usr/lib/python3/dist-packages/pipenv/vendor/click/core.py", line 722, in __call__
    return self.main(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/pipenv/vendor/click/core.py", line 697, in main
    rv = self.invoke(ctx)
  File "/usr/lib/python3/dist-packages/pipenv/vendor/click/core.py", line 1066, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/lib/python3/dist-packages/pipenv/vendor/click/core.py", line 895, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/lib/python3/dist-packages/pipenv/vendor/click/core.py", line 535, in invoke
    return callback(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/pipenv/cli.py", line 197, in install
    selective_upgrade=selective_upgrade
  File "/usr/lib/python3/dist-packages/pipenv/core.py", line 1873, in do_install
    pre=pre, requirements_dir=requirements_directory
  File "/usr/lib/python3/dist-packages/pipenv/core.py", line 1410, in do_init
    requirements_dir=requirements_dir.name)
  File "/usr/lib/python3/dist-packages/pipenv/core.py", line 894, in do_install_dependencies
    requirements_dir=requirements_dir
  File "/usr/lib/python3/dist-packages/pipenv/core.py", line 1511, in pip_install
    c = delegator.run(pip_command, block=block)
  File "/usr/lib/python3/dist-packages/pipenv/vendor/delegator.py", line 267, in run
    c.run(block=block, binary=binary)
  File "/usr/lib/python3/dist-packages/pipenv/vendor/delegator.py", line 156, in run
    s = PopenSpawn(self._popen_args, **pexpect_kwargs)
  File "/usr/lib/python3/dist-packages/pipenv/vendor/pexpect/popen_spawn.py", line 46, in __init__
    self.proc = subprocess.Popen(cmd, **kwargs)
  File "/usr/lib/python3.6/subprocess.py", line 709, in __init__
    restore_signals, start_new_session)
  File "/usr/lib/python3.6/subprocess.py", line 1344, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: '/bin/pip': '/bin/pip'
The command '/bin/sh -c set -ex && pipenv install --deploy --system' returned a non-zero code: 1
Steps to replicate
Dockerfile
FROM kennethreitz/pipenv
COPY . /app