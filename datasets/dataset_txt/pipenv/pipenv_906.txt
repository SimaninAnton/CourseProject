adhh852 commented on 28 Jun 2018
Describe the issue briefly here.
Run: $pipenv install -r requirements.txt
Got error:
Creating a virtualenv for this project...
Pipfile: /home/ec2-user/test/Pipfile
Using /usr/bin/python2.7 (2.7.14) to create virtualenv...
â ‹Already using interpreter /usr/bin/python2.7
New python executable in /home/ec2-user/.local/share/virtualenvs/test-LVXQY0Nl/bin/python2.7
Also creating executable in /home/ec2-user/.local/share/virtualenvs/test-LVXQY0Nl/bin/python
Installing setuptools, pip, wheel...done.
Setting project for test-LVXQY0Nl to /home/ec2-user/test
Virtualenv location: /home/ec2-user/.local/share/virtualenvs/test-LVXQY0Nl
Creating a Pipfile for this project...
Requirements file provided! Importing into Pipfile...
Traceback (most recent call last):
File "/usr/local/bin/pipenv", line 11, in
sys.exit(cli())
File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 722, in call
return self.main(*args, **kwargs)
File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 697, in main
rv = self.invoke(ctx)
File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 1066, in invoke
return _process_result(sub_ctx.command.invoke(sub_ctx))
File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 895, in invoke
return ctx.invoke(self.callback, **ctx.params)
File "/usr/local/lib/python2.7/site-packages/pipenv/vendor/click/core.py", line 535, in invoke
return callback(*args, **kwargs)
File "/usr/local/lib/python2.7/site-packages/pipenv/cli.py", line 416, in install
selective_upgrade=selective_upgrade,
File "/usr/local/lib/python2.7/site-packages/pipenv/core.py", line 1854, in do_install
import_requirements(r=project.path_to(requirements), dev=dev)
File "/usr/local/lib/python2.7/site-packages/pipenv/core.py", line 228, in import_requirements
project.recase_pipfile()
File "/usr/local/lib/python2.7/site-packages/pipenv/project.py", line 766, in recase_pipfile
if self.ensure_proper_casing():
File "/usr/local/lib/python2.7/site-packages/pipenv/project.py", line 802, in ensure_proper_casing
casing_changed = self.proper_case_section(pfile.get('packages', {}))
File "/usr/local/lib/python2.7/site-packages/pipenv/project.py", line 826, in proper_case_section
self.register_proper_name(new_casing)
File "/usr/local/lib/python2.7/site-packages/pipenv/project.py", line 366, in register_proper_name
f.write('{0}\n'.format(name))
TypeError: write() argument 1 must be unicode, not str
/usr/local/lib/python2.7/site-packages/pipenv/_compat.py:108: ResourceWarning: Implicitly cleaning up <TemporaryDirectory '/tmp/pipenv-2ttppI-requirements'>
warnings.warn(warn_message, ResourceWarning)
Please run $ python -m pipenv.help, and paste the results here.
$ python -m pipenv.help output
If you're on MacOS, just run the following:
$ python -m pipenv.help | pbcopy
Expected result
Describe what you expected.
Actual result
When possible, provide the verbose output (--verbose), especially for locking and dependencies resolving issues.