ansrivas commented on 2 Nov 2017
Not very sure if this is an expected behavior, but from a usage perspective this appears to be a bug:
Issue:
pipenv install <package_name> is creating a new virtualenv even though the virtualenv is activated using pipenv shell.
When does it occur:
if we are not in the same directory where Pipfile is located.
Describe your environment
OS Type: Linux (Ubuntu 16.04)
Python version: $ python -V== 3.6.3
Pipenv version: $ pipenv --version == version 8.3.1
Expected result
If we are in an activated virtualenv shell, (irrespective of the pwd) pipenv install should respect it and correctly update the Pipfile and should not create a new Pipfile.
Actual result
A new Pipfile gets created, even if in the same activated virtualenv but in a different directory.
Steps to replicate
$ mkdir -p testproject/app
$ cd  testproject/app
$ pipenv install flask
$ pipenv shell # environment gets activated here
$ <my_new_environment>$  cd ..  # Now we are inside testproject
$ pipenv install requests
$ New Pipfile gets created here