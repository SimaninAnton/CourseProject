Hammond95 commented on 16 Jul 2019 â€¢
edited
Issue description
It seems that pipenv ignores specific version of a package when defined in the Pipfile.
I have the following Pipfile:
name = "pypi"
url = "https://pypi.python.org/simple"
verify_ssl = true

[[source]]
name = "nexus"
url = "https://nexus.internalrepo.ai/repository/pypi-all/simple"
verify_ssl = true

[dev-packages]
pipreqs = {version="*", index="pypi"}
bump2version = {version="*", index="pypi"}

# Starting from sphinx 2.1, they added the option
# to exclude type hints from methods signatures.
# This makes the docs more readable.
sphinx = {version=">=2.1", index="pypi"}
sphinx-rtd-theme = {version="==0.4.3", index="pypi"}
m2r = {version="==0.2.1", index="pypi"}
pylint = {version="*", index="pypi"}
black = {version="==18.9b0", index="pypi"}
pytest = {version="*", index="pypi"}
pytest-runner = {version="*", index="pypi"}

[packages]
click = {version="*", index="pypi"}
pyfiglet = {version="*", index="pypi"}
pandas = {verison="~=0.24.0", index="pypi"}
psycopg2-binary = {verison="==2.7.5", index="pypi"}

[requires]
python_version = "3.6"
Expected result
Since I pinned psycopg2-binary==2.7.5 I expect that pipenv installs that specific version.
Actual result
But actually pipenv keeps installing psycopg2-binary==2.8.3 as you can see from the Pipfile.lock:
Click Here to Open the full Pipfile.lock
Verbose output (--verbose)
Click Here to Open the full verbose output.
Steps to replicate
My Environment:
MacOs 10.14.4
pipenv version 2018.11.26 (installed with brew)
python 3.6.4 interpreter (installed using pyenv)
Steps to replicate:
Copy the Pipfile in a new folder on your Mac and run pipenv install --python <path_to_your_python3.6.4>.