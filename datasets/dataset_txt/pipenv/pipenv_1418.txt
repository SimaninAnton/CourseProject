Member
brosner commented on 10 Mar 2018
I am installing django-oidc-provider and have noticed that Pipfile.lock is missing its dependencies. When I install from the lock file the dependencies are not installed leading to import errors.
I did notice that if I pin django-oidc-provider to 0.5.2 everything works. 0.5.3 was released today I believe.
Pipenv version: '11.2.0'
Pipenv location: '/Users/brian/.local/venvs/pipenv/lib/python3.6/site-packages/pipenv'
Python location: '/Users/brian/.local/venvs/pipenv/bin/python'
Other Python installations in PATH:
2.7: /Users/brian/.pyenv/shims/python2.7
2.7: /Users/brian/.pyenv/shims/python2.7
2.7: /usr/bin/python2.7
3.6: /Users/brian/.pyenv/shims/python3.6m
3.6: /Users/brian/.pyenv/shims/python3.6
3.6: /usr/local/bin/python3.6
3.6.4: /Users/brian/.pyenv/shims/python
3.6.4: /usr/local/bin/python
2.7.10: /usr/bin/python
2.7.14: /Users/brian/.pyenv/shims/python2
3.6.4: /Users/brian/.pyenv/shims/python3
3.6.4: /usr/local/bin/python3
PEP 508 Information:
{'implementation_name': 'cpython',
 'implementation_version': '3.6.4',
 'os_name': 'posix',
 'platform_machine': 'x86_64',
 'platform_python_implementation': 'CPython',
 'platform_release': '17.4.0',
 'platform_system': 'Darwin',
 'platform_version': 'Darwin Kernel Version 17.4.0: Sun Dec 17 09:19:54 PST '
                     '2017; root:xnu-4570.41.2~1/RELEASE_X86_64',
 'python_full_version': '3.6.4',
 'python_version': '3.6',
 'sys_platform': 'darwin'}
System environment variables:
TERM_SESSION_ID
SSH_AUTH_SOCK
Apple_PubSub_Socket_Render
COLORFGBG
ITERM_PROFILE
XPC_FLAGS
LANG
PWD
SHELL
TERM_PROGRAM_VERSION
TERM_PROGRAM
PATH
COLORTERM
TERM
HOME
TMPDIR
USER
XPC_SERVICE_NAME
LOGNAME
__CF_USER_TEXT_ENCODING
ITERM_SESSION_ID
SHLVL
OLDPWD
NVM_DIR
NVM_CD_FLAGS
NVM_BIN
PYENV_ROOT
PYENV_SHELL
EDITOR
PYTHONDONTWRITEBYTECODE
GPGKEY
SSH_KEY_PATH
CLICOLOR
LSCOLORS
VIRTUAL_ENV_DISABLE_PROMPT
PYTHONSTARTUP
GPG_TTY
GIT_PS1_SHOWDIRTYSTATE
_
PIP_PYTHON_PATH
Pipenv–specific environment variables:
Debug–specific environment variables:
PATH: /Users/brian/.local/bin:/Users/brian/.cargo/bin:/Users/brian/.config/yarn/global/node_modules/.bin:/Applications/Postgres.app/Contents/Versions/latest/bin:/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/bin:/Users/brian/.pyenv/shims:/Users/brian/.pyenv/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin
SHELL: /usr/local/bin/zsh
EDITOR: nvim
LANG: en_US.UTF-8
PWD: /Users/brian/o
Contents of Pipfile ('/Users/brian/o/Pipfile'):
[[source]]

url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"


[packages]

django-oidc-provider = "*"


[dev-packages]



[requires]

python_version = "3.6"
Contents of Pipfile.lock ('/Users/brian/o/Pipfile.lock'):
{
    "_meta": {
        "hash": {
            "sha256": "c9edf25ec27dba42bb0e2a4bedbbbc4481eed9dae2b64f565d0e25d437b7fee4"
        },
        "pipfile-spec": 6,
        "requires": {
            "python_version": "3.6"
        },
        "sources": [
            {
                "name": "pypi",
                "url": "https://pypi.python.org/simple",
                "verify_ssl": true
            }
        ]
    },
    "default": {
        "django-oidc-provider": {
            "hashes": [
                "sha256:963b39ebc1e289e1812d462eb5913a0dd4e6ac1d6f178581b411fa838b3f62b1"
            ],
            "version": "==0.5.3"
        }
    },
    "develop": {}
}
Expected result
The dependencies of django-oidc-provider locked in Pipfile.lock.
Actual result
See above Pipfile.lock from python -m pipenv.help.
Steps to replicate
pipenv install django-oidc-provider
Like I mentioned above when using 0.5.2 it works. Here's the Pipfile.lock when using 0.5.2:
{
    "_meta": {
        "hash": {
            "sha256": "7c52ead668bf09236495d2b396f9a43ba490e99ef36c264d58f8a039bc51502a"
        },
        "pipfile-spec": 6,
        "requires": {
            "python_version": "3.6"
        },
        "sources": [
            {
                "name": "pypi",
                "url": "https://pypi.python.org/simple",
                "verify_ssl": true
            }
        ]
    },
    "default": {
        "certifi": {
            "hashes": [
                "sha256:14131608ad2fd56836d33a71ee60fa1c82bc9d2c8d98b7bdbc631fe1b3cd1296",
                "sha256:edbc3f203427eef571f79a7692bb160a2b0f7ccaa31953e99bd17e307cf63f7d"
            ],
            "version": "==2018.1.18"
        },
        "chardet": {
            "hashes": [
                "sha256:84ab92ed1c4d4f16916e05906b6b75a6c0fb5db821cc65e70cbd64a3e2a5eaae",
                "sha256:fc323ffcaeaed0e0a02bf4d117757b98aed530d9ed4531e3e15460124c106691"
            ],
            "version": "==3.0.4"
        },
        "django-oidc-provider": {
            "hashes": [
                "sha256:9981855f2965893c053353bd7d0a8bb7217f92d8fc94178ae9dd6bad5120a271"
            ],
            "version": "==0.5.2"
        },
        "future": {
            "hashes": [
                "sha256:e39ced1ab767b5936646cedba8bcce582398233d6a627067d4c6a454c90cfedb"
            ],
            "version": "==0.16.0"
        },
        "idna": {
            "hashes": [
                "sha256:2c6a5de3089009e3da7c5dde64a141dbc8551d5b7f6cf4ed7c2568d0cc520a8f",
                "sha256:8c7309c718f94b3a625cb648ace320157ad16ff131ae0af362c9f21b80ef6ec4"
            ],
            "version": "==2.6"
        },
        "pycryptodomex": {
            "hashes": [
                "sha256:16ab612ca9164e971dc00f8fe895ac835e8bfe64c3174b368f80172ff5a98300",
                "sha256:299a79efba6152ea438cc37f7349161e7bbd914f918342cad6316a4a5f29f2d7",
                "sha256:2a55e8fd69c84287b44e2c9c07eaad314e76680b86e873774314c27266728670",
                "sha256:2f71dc2b91288cf4a164287858eaccdc7053bf5765ebc47c5188f94eccc35e80",
                "sha256:2f81caf3ee08f00a957fd074c33430e8781958c616e864c5a1e709fb954750bc",
                "sha256:3d4c77f1d4273ae753e49dac5c916f2278b0dd354a0c5f2a29fcf88bbae4efa9",
                "sha256:563512542dcab3e95d8cef70e45cc5a43ef35ff84bc040c388b305015343e51e",
                "sha256:5d058decae88f86833a430afc0517df815d9efa4255b3a6d576c7fb305cb56d4",
                "sha256:5ec5903197d256b4559ff5c6a4756c34219ec81aff92be1174681623ba1e6383",
                "sha256:67f6573ff84ce7f7ea8ffc01ba5821c15dc85bf43291e4f8e11d7b6e2d5f504e",
                "sha256:729da9aa2b8ea0bd8e35bc89ecd1ff4e482e6e9c2275e2e19de8b68dd8156fb5",
                "sha256:82df0a7cda5c94e9e4c62fb8d6507d5418f6593c8ed1b40b538a771ca003b597",
                "sha256:91b87c3abb24da1a980cb0f05e150eb0525235129bc5cb59277ea96860677f0a",
                "sha256:a02b1b17d7c86b12bc1d4ede75846a7971e7df6d75508cd0696e383c18cad4ce",
                "sha256:a36d5a5b73e51d66e3f1da53ce00e56de860a9c529f2811bb8d95374d9da06df",
                "sha256:a7d836d6284c4734841c7c9d851be546650302ebca281de851129c22f1298ad5",
                "sha256:bb60d38111ebc383a5a1c909545562926c66c846d03fc65ba7b8a3487cb23078",
                "sha256:bf2e6cf6e78c8e6d63eeaa9641cad5008a382af98f2dc25cb7c6444f13133df9",
                "sha256:e303a4a1b242d3277e8dea07ab4e3737d0d1ed122990c713d6f88b0dda10c378",
                "sha256:e378bd7a09257a7a9a58f7f04b088991cf23a99847e9f42d6f996b4e52a11c33",
                "sha256:e75e7fe725dd5989e89da25a2fe7e3d35ed8123ac30eaae2f2340d0ba0431a88",
                "sha256:eac46844350302c93f3fd3eaa37353ee9e25cffcd1c574dfffb22de157ddce17",
                "sha256:f0ca00abf69827e78415050780cf838c7af9f378e591611210e25a03d6d0ea90"
            ],
            "version": "==3.5.1"
        },
        "pyjwkest": {
            "hashes": [
                "sha256:128e3c81d02993ac4cd7e29ef7aac767d91daa59380e6883ae589092945e4aad"
            ],
            "version": "==1.4.0"
        },
        "requests": {
            "hashes": [
                "sha256:6a1b267aa90cac58ac3a765d067950e7dbbf75b1da07e895d1f594193a40a38b",
                "sha256:9c443e7324ba5b85070c4a818ade28bfabedf16ea10206da1132edaa6dda237e"
            ],
            "version": "==2.18.4"
        },
        "six": {
            "hashes": [
                "sha256:70e8a77beed4562e7f14fe23a786b54f6296e34344c23bc42f07b15018ff98e9",
                "sha256:832dc0e10feb1aa2c68dcc57dbb658f1c7e65b9b61af69048abc87a2db00a0eb"
            ],
            "version": "==1.11.0"
        },
        "urllib3": {
            "hashes": [
                "sha256:06330f386d6e4b195fbfc736b297f58c5a892e4440e54d294d7004e3a9bbea1b",
                "sha256:cc44da8e1145637334317feebd728bd869a35285b93cbb4cca2577da7e62db4f"
            ],
            "version": "==1.22"
        }
    },
    "develop": {}
}