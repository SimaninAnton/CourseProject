Contributor
jayvdb commented on 25 Mar 2019
As test_specific_package_environment_markers uses requests, the following will always succeed in a test environment where requests is always available because PYTHONPATH has been modified to include all de-vendored libraries
c = p.pipenv('run python -c "import requests;"')
A simple fix should be to use a package name which is not even real, as the environment marker should ensure the package name isnt even resolved. But maybe it does resolve it anyway, in which case perhaps the test could use tablib instead?
Also test_pipenv_graph and test_pipenv_graph_reverse fail when requests is de-vendored, likely for the same reason.