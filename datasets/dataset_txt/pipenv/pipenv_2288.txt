jjangsangy commented on 14 Jun 2017 â€¢
edited
It looks like bash understands $SHELL but this shell is not a login shell which means people who have customized their $PROMPT_COMMAND in their Dotfiles end up with weird errors.
A couple of solutions I can think of.
Run bash with --login --interactive
Rather than just running $SHELL, you can run exec and source the virtualenv.
This has the added bonus of having the same virtualenv flow and running `deactivate.
Running Ctrl-D is error prone, I quit the shell thinking I'm inside pipenv shell many many times.