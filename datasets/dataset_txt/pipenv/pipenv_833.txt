newtonne commented on 15 Jul 2018
Issue description
When trying to install ruamel.yaml==0.15.0 using Python 3.6, pipenv tries to build ruamel.ordereddict even though this package is only a dependency for Python 2.7. Interestingly though, pipenv does not attempt to build ruamel.ordereddict when installing ruamel.yaml==0.15.1, which changed the way the dependency is defined:
ruamel.yaml 0.15.0 - __init__.py
install_requires=dict(
    any=[],
    py27=['ruamel.ordereddict'],
),
ruamel.yaml 0.15.1 - __init__.py
extras_require={':platform_python_implementation=="CPython" and python_version<="2.7"': [
    'ruamel.ordereddict',
    ]},
I'm not terribly familiar with python dependencies, but I've never seen them defined as in ruamel.yaml 0.15.0, so I'm thinking that may be the issue.
Expected result
pipenv not to attempt to build ruamel.ordereddict when running Python 3.6.
Actual result
pipenv tries to build ruamel.ordereddict, which is an issue since the ordereddict package is not only not required when running Python 3.6, but it doesn't even build :-(.
Steps to replicate
pipenv --python 3.6
pipenv install ruamel.yaml==0.15.0
or just run pipenv install with pipfile included below.
$ pipenv --support
1