jcppkkk commented on 11 Dec 2017
I use markers to specify some packages to be only installed on windows, but i can't find a way to update my packages with markers in Pipfile
$ grep psyco Pipfile 
psyco = {version = "*", os_name = "== 'windows'"}
$ pipenv install --skip-lock
$ pipenv update
....
Could not find a version that matches psyco
Tried: (no version found at all)
Please check your version specifier and version number. See PEP440 for more information.
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches psyco
Tried: (no version found at all)
Please check your version specifier and version number. See PEP440 for more information.
Describe your environment
OS Type
Distributor ID: LinuxMint
Description: Linux Mint 18.2 Sonya
Release: 18.2
Codename: sonya
Python version: Python 2.7.12
Pipenv version: pipenv, version 9.0.0
Expected result
pip update works even if pywinusb = {version = "*", os_name = "== 'windows'"} in Pipfile
Actual result
pipenv update --verbose
Courtesy Notice: Pipenv found itself running within a virtual environment, so it will automatically use that environment, instead of creating its own for any project.
Updating all dependencies from Pipfile…
Found 89 installed package(s), purging…
Uninstalling amqp-2.2.2:
  Successfully uninstalled amqp-2.2.2
Uninstalling argh-0.26.2:
  Successfully uninstalled argh-0.26.2
Uninstalling asn1crypto-0.23.0:
  Successfully uninstalled asn1crypto-0.23.0
Uninstalling backports.functools-lru-cache-1.4:
  Successfully uninstalled backports.functools-lru-cache-1.4
Uninstalling BeautifulSoup-3.2.1:
  Successfully uninstalled BeautifulSoup-3.2.1
Uninstalling beautifulsoup4-4.6.0:
  Successfully uninstalled beautifulsoup4-4.6.0
Uninstalling billiard-3.5.0.3:
  Successfully uninstalled billiard-3.5.0.3
Uninstalling bitstring-3.1.5:
  Successfully uninstalled bitstring-3.1.5
Uninstalling celery-4.1.0:
  Successfully uninstalled celery-4.1.0
Uninstalling censys-0.0.8:
  Successfully uninstalled censys-0.0.8
Uninstalling certifi-2017.11.5:
  Successfully uninstalled certifi-2017.11.5
Uninstalling cffi-1.11.2:
  Successfully uninstalled cffi-1.11.2
Uninstalling chardet-3.0.4:
  Successfully uninstalled chardet-3.0.4
Uninstalling cryptography-2.1.4:
  Successfully uninstalled cryptography-2.1.4
Uninstalling cssselect-1.0.1:
  Successfully uninstalled cssselect-1.0.1
Uninstalling cycler-0.10.0:
  Successfully uninstalled cycler-0.10.0
Uninstalling Cython-0.27.3:
  Successfully uninstalled Cython-0.27.3
Uninstalling Django-1.11.8:
  Successfully uninstalled Django-1.11.8
Uninstalling dnspython-1.15.0:
  Successfully uninstalled dnspython-1.15.0
Uninstalling dpkt-1.9.1:
  Successfully uninstalled dpkt-1.9.1
Uninstalling EasyProcess-0.2.3:
  Successfully uninstalled EasyProcess-0.2.3
Uninstalling elasticsearch-6.0.0:
  Successfully uninstalled elasticsearch-6.0.0
Uninstalling enum34-1.1.6:
  Successfully uninstalled enum34-1.1.6
Uninstalling feedparser-5.2.1:
  Successfully uninstalled feedparser-5.2.1
Uninstalling future-0.16.0:
  Successfully uninstalled future-0.16.0
Uninstalling html2text-2017.10.4:
  Successfully uninstalled html2text-2017.10.4
Uninstalling html5lib-1.0.1:
  Successfully uninstalled html5lib-1.0.1
Uninstalling idna-2.6:
  Successfully uninstalled idna-2.6
Uninstalling impacket-0.9.15:
  Successfully uninstalled impacket-0.9.15
Uninstalling ipaddr-2.2.0:
  Successfully uninstalled ipaddr-2.2.0
Uninstalling ipaddress-1.0.18:
  Successfully uninstalled ipaddress-1.0.18
Uninstalling ipwhois-1.0.0:
  Successfully uninstalled ipwhois-1.0.0
Uninstalling kombu-4.1.0:
  Successfully uninstalled kombu-4.1.0
Uninstalling langid-1.1.6:
  Successfully uninstalled langid-1.1.6
Uninstalling lxml-4.1.1:
  Successfully uninstalled lxml-4.1.1
Uninstalling matplotlib-2.1.0:
  Successfully uninstalled matplotlib-2.1.0
Uninstalling mechanize-0.3.6:
  Successfully uninstalled mechanize-0.3.6
Uninstalling meld3-1.0.2:
  Successfully uninstalled meld3-1.0.2
Uninstalling meliae-0.5.0.dev0:
  Successfully uninstalled meliae-0.5.0.dev0
Uninstalling MySQL-python-1.2.5:
  Successfully uninstalled MySQL-python-1.2.5
Uninstalling mysqlclient-1.3.12:
  Successfully uninstalled mysqlclient-1.3.12
Uninstalling netaddr-0.7.19:
  Successfully uninstalled netaddr-0.7.19
Uninstalling netifaces-0.10.6:
  Successfully uninstalled netifaces-0.10.6
Uninstalling nexmo-2.0.0:
  Successfully uninstalled nexmo-2.0.0
Uninstalling numpy-1.13.3:
  Successfully uninstalled numpy-1.13.3
Uninstalling olefile-0.44:
  Successfully uninstalled olefile-0.44
Uninstalling oletools-0.51:
  Successfully uninstalled oletools-0.51
Uninstalling pathtools-0.1.2:
  Successfully uninstalled pathtools-0.1.2
Uninstalling pcapy-0.11.1:
  Successfully uninstalled pcapy-0.11.1
Uninstalling pdfminer-20140328:
  Successfully uninstalled pdfminer-20140328
Uninstalling pefile-2017.11.5:
  Successfully uninstalled pefile-2017.11.5
Uninstalling Pillow-4.3.0:
  Successfully uninstalled Pillow-4.3.0
Uninstalling poster-0.8.1:
  Successfully uninstalled poster-0.8.1
Uninstalling pyasn1-0.4.2:
  Successfully uninstalled pyasn1-0.4.2
Uninstalling pycparser-2.18:
  Successfully uninstalled pycparser-2.18
Uninstalling pygeoip-0.3.2:
  Successfully uninstalled pygeoip-0.3.2
Uninstalling PyJWT-1.5.3:
  Successfully uninstalled PyJWT-1.5.3
Uninstalling pyodbc-4.0.21:
  Successfully uninstalled pyodbc-4.0.21
Uninstalling pyparsing-2.2.0:
  Successfully uninstalled pyparsing-2.2.0
Uninstalling PyPDF2-1.26.0:
  Successfully uninstalled PyPDF2-1.26.0
Uninstalling pyquery-1.3.0:
  Successfully uninstalled pyquery-1.3.0
Uninstalling python-dateutil-2.6.1:
  Successfully uninstalled python-dateutil-2.6.1
Uninstalling python-magic-0.4.15:
  Successfully uninstalled python-magic-0.4.15
Uninstalling python-xlib-0.21:
  Successfully uninstalled python-xlib-0.21
Uninstalling pythonwhois-2.4.3:
  Successfully uninstalled pythonwhois-2.4.3
Uninstalling pytz-2017.3:
  Successfully uninstalled pytz-2017.3
Uninstalling pyunpack-0.1.2:
  Successfully uninstalled pyunpack-0.1.2
Uninstalling pywinauto-0.6.3:
  Successfully uninstalled pywinauto-0.6.3
Uninstalling PyYAML-3.12:
  Successfully uninstalled PyYAML-3.12
Uninstalling rarfile-3.0:
  Successfully uninstalled rarfile-3.0
Uninstalling requests-2.18.4:
  Successfully uninstalled requests-2.18.4
Uninstalling requests-file-1.4.2:
  Successfully uninstalled requests-file-1.4.2
Uninstalling retrying-1.3.3:
  Successfully uninstalled retrying-1.3.3
Uninstalling shortid-0.1.2:
  Successfully uninstalled shortid-0.1.2
Uninstalling simplejson-3.13.2:
  Successfully uninstalled simplejson-3.13.2
Uninstalling smartencoding-0.3:
  Successfully uninstalled smartencoding-0.3
Uninstalling splunk-sdk-1.6.2:
  Successfully uninstalled splunk-sdk-1.6.2
Uninstalling ssdeep-3.2:
  Successfully uninstalled ssdeep-3.2
Uninstalling subprocess32-3.2.7:
  Successfully uninstalled subprocess32-3.2.7
Uninstalling supervisor-3.3.3:
  Successfully uninstalled supervisor-3.3.3
Uninstalling tika-1.15:
  Successfully uninstalled tika-1.15
Uninstalling tld-0.7.9:
  Successfully uninstalled tld-0.7.9
Uninstalling tldextract-2.2.0:
  Successfully uninstalled tldextract-2.2.0
Uninstalling urllib3-1.22:
  Successfully uninstalled urllib3-1.22
Uninstalling vine-1.1.4:
  Successfully uninstalled vine-1.1.4
Uninstalling watchdog-0.8.3:
  Successfully uninstalled watchdog-0.8.3
Uninstalling webencodings-0.5.1:
  Successfully uninstalled webencodings-0.5.1
Uninstalling whois-0.7:
  Successfully uninstalled whois-0.7
Uninstalling yara-python-3.4.0:
  Successfully uninstalled yara-python-3.4.0

Environment now purged and fresh!
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches psyco
Tried: (no version found at all)
Please check your version specifier and version number. See PEP440 for more information.
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches psyco
Tried: (no version found at all)
Please check your version specifier and version number. See PEP440 for more information.
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
use markers to specify some packages to be only installed on windows
pywinusb = {version = "*", os_name = "== 'windows'"}
install on linux need to use --skip-lock
pipenv install --skip-lock
update packages
pipenv update