pevisscher commented on 17 Nov 2017 â€¢
edited
Dependencies of editables are not included in the lock file, so they do not get installed during a fresh pipenv install, this is due to the no_deps switch in https://github.com/kennethreitz/pipenv/blob/023696e46993bf55cd2807eae1801f8884a6357a/pipenv/cli.py#L775
A minimal example is demonstrated in the following gist
https://gist.github.com/PaulVisscher/f20d2d56fff66414b85ed77622a3aa66
Describe your environment
Debian GNU/Linux 8
Python version: Python 3.6.3
Pipenv version: 3.8.2
Expected result
Dependencies of editable packages are added to the lock file and installed
Actual result
Editable packages are installed shallow: dependencies of editable packages are not added to the lock file, and thus not installed.
pipenv shell
python
>>> import foo
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/dummy/foo/foo/__init__.py", line 1, in <module>
    import jsonschema
ModuleNotFoundError: No module named 'jsonschema'
Steps to replicate
Replicate the structure from the linked gist or download the included test folder from the test-case.zip.
Run
pipenv install
pipenv shell
Run
python
>>> import foo