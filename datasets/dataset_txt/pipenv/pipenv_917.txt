Contributor
greysteil commented on 27 Jun 2018 â€¢
edited
Weird one, but I can reproduce the below consistently. I think it's due to resolution relying on the existing state of the virtualenv, but I could be missing something.
Note: This bug is new in 2018.6.25 - I don't get it in 2018.5.18.
$ python -m pipenv.help output
Expected result
Running pyenv exec pipenv lock -v should work fine
Actual result
Running pyenv exec pipenv lock -v produces:
Error details
I only get the above error when I run the command for the first time in a fresh virtual env. Running a second time I get successful resolution.
Steps to replicate
rm -rf ~/.local/share/virtualenvs/ # Remove virtual envs
pyenv exec pipenv lock             # Generate lockfile with Pipfile foud in environment details above
Note, I have Python 3.6.5 (default) and Python 2.7.15 installed via pyenv.