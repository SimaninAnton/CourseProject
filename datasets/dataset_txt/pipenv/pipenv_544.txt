Tyilo commented on 16 Oct 2018
Issue description
When installing django-constance using pipenv install "django-constance[database]", it will correctly install the dependency django-picklefield.
However when installing in another venv usingpipenv install, django-picklefield is not installed.
Expected result
pipenv install should install django-picklefield.
Actual result
django-picklefield is not installed. Pipenv gives the warning:
Ignoring django-picklefield: markers 'extra == "database"' don't match your environment
Full install output:
$ pipenv install
Creating a virtualenv for this project‚Ä¶
Pipfile: /tmp/test/Pipfile
Using /usr/bin/python3.7 (3.7.0) to create virtualenv‚Ä¶
‚†ßRunning virtualenv with interpreter /usr/bin/python3.7
Using base prefix '/usr'
/home/tyilo/.local/lib/python3.7/site-packages/virtualenv.py:1041: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
  import imp
New python executable in /home/tyilo/.local/share/virtualenvs/test-hxkKlP5o/bin/python3.7
Also creating executable in /home/tyilo/.local/share/virtualenvs/test-hxkKlP5o/bin/python
Installing setuptools, pip, wheel...done.

Virtualenv location: /home/tyilo/.local/share/virtualenvs/test-hxkKlP5o
Installing dependencies from Pipfile.lock (eb14ba)‚Ä¶
Ignoring django-picklefield: markers 'extra == "database"' don't match your environment
  üêç   ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ‚ñâ 2/2 ‚Äî 00:00:00
To activate this project's virtualenv, run pipenv shell.
Alternatively, run a command inside the virtualenv with pipenv run.
Steps to replicate
$ mkdir /tmp/pipenv-markers-test
$ cd mkdir /tmp/pipenv-markers-test
$ pipenv install "django-constance[database]"
...
$ pipenv graph
django-constance==2.3.1
django-picklefield==1.1.0

$ pipenv --rm
$ pipenv install
...
$ pipenv graph
django-constance==2.3.1
$ pipenv --support
3