Member
sbidoul commented on 29 Sep 2017 â€¢
edited
It seems pipenv does not propagate the PIP_SRC environment variable to pip, or uses pip internals without setting the --src option.
There is at least one place where --src is forced to $VIRTUAL_ENV/src.
But there are other places where editable dependencies are git cloned in /tmp instead of $PIP_SRC. I suppose that behaviour comes from pip-tools but I'm not sure.
Below my typical use case. odoo being a multi-gb git clone, we want to have it pre-cloned in $PIP_SRC.
[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"

[dev-packages]

[packages]
odoo = {ref = "10.0", git = "https://github.com/odoo/odoo.git", editable = true}
Kudos, btw, pipenv has gone a long way since I started looking at it a few weeks ago.