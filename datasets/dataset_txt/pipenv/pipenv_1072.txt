Contributor
OrangeDog commented on 11 May 2018
Not sure how hard this is, but it would fill a current hole in the locking mechanism.
All of these Pipfile entries are locked as-is:
package = {git = "ssh://git@bitbucket.org/user/repo.git"}
package = {ref="master", git = "ssh://git@bitbucket.org/user/repo.git"}
package = {ref="v1.0", git = "ssh://git@bitbucket.org/user/repo.git"}
package = {ref="dd9e921", git = "ssh://git@bitbucket.org/user/repo.git"}
"package": {
    "git": "ssh://git@bitbucket.org/user/repo.git",
    "ref": "master"
}
Instead, to ensure the target is actually fixed, the ref should be resolved to its current target when locking.
"package": {
    "git": "ssh://git@bitbucket.org/user/repo.git",
    "ref": "dd9e921f0fa31c50ffb7bff91c5c9c6d552f1b3a",
    "version": "==1.0.2"
}
The hashes can then also be included.