wushuzh commented on 30 Oct 2017
I tried to follow the developing restful apis with python and flask
When I tried to install marshmallow with pipenv, there is error msg. I try --verbose and then use --skip-lock, it seems that marshmallow was indeed installed by checking cmd pipenv graph, but I cannot generate lock file.
Describe you environment
archlinux
Python version: Python 3.6.2
Pipenv version: pipenv, version 8.2.7
Expected result
lock file is generated.
Actual result
$ pipenv install marshmallow
Installing marshmallow…
Collecting marshmallow
  Downloading marshmallow-2.14.0-py2.py3-none-any.whl (45kB)
Installing collected packages: marshmallow
Successfully installed marshmallow-2.14.0

Adding marshmallow to Pipfile's [packages]…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches flask
Tried: (no version found at all)
$ pipenv lock --verbose
Locking [dev-packages] dependencies…
Using pip: -i https://pypi.python.org/simple

                          ROUND 1                           
Current constraints:

Finding the best candidates:

Finding secondary dependencies:
------------------------------------------------------------
Result of round 1: stable, done
Locking [packages] dependencies…
Using pip: -i https://pypi.python.org/simple

                          ROUND 1                           
Current constraints:
  flask
  marshmallow

Finding the best candidates:
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches flask
Tried: (no version found at all)

$ pipenv lock --clear
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.
  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.
Could not find a version that matches flask
Tried: (no version found at all)

$ pipenv install --skip-lock
Installing dependencies from Pipfile…
    ▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 2/2 — 00:00:00
$ pipenv graph
Flask==0.12.2
  - click [required: >=2.0, installed: 6.7]
  - itsdangerous [required: >=0.21, installed: 0.24]
  - Jinja2 [required: >=2.4, installed: 2.9.6]
    - MarkupSafe [required: >=0.23, installed: 1.0]
  - Werkzeug [required: >=0.7, installed: 0.12.2]
marshmallow==2.14.0
Steps to replicate
$ cat Pipfile 
[[source]]

url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"


[packages]

flask = "*"
marshmallow = "*"


[dev-packages]



[requires]

python_version = "3.6"