martinstein commented on 11 Oct 2018
Issue description
On Windows 10 in the standard cmd-shell, after activating pipenv shell from my project directory and then executing from within that shell:
pipenv install
all the packages from the Pipfile where installed into the site-packages directory of my main Python installation, instead of the virtualenv from pipenv. This happened three times now, so it doesn't seem to be an isolated incident.
Note: The pipenv shell ran correctly, I believe, because my prompt was prefixed with (myproject-abcd...) afterwards.
Expected result
The packages from pipfile/pipfile.lock should be installed into the pipenv-managed virtualenv and the site-packages directory there, not the global/main Python installation.
Actual result
Instead, all the packages ended up in my main Python37\Lib\site-packages directory.
Steps to replicate
Steps that I executed with a brand-new Python-3.7 (64bit) installation on Windows (I had to uninstall and re-install it, after the previous site-packages was messed up from the pipenv command), with pipenv already installed via pip install --user pipenv.
pipenv shell (from within the project directory, where at some point previously a virtual environment had already been created with pipenv --python 3.7. It looks like the virtual environment got activated correctly, because the shell had the prompt with the prefix (ktapi-ECP2Oyww) (ktapi was the project name).
pipenv install (from within that virtual environment).
$ pipenv --support