murrple-1 commented on 12 Apr 2018
See title. Erroring with TypeError: format() argument after ** must be a mapping, not NoneType.
Expected result
Help info should be output successfully
Actual result
Help info only partially succeeds, before erroring. Example output:
$ python -m pipenv.help
<details><summary>$ python -m pipenv.help output</summary>
Pipenv version: `'11.10.0'`
Pipenv location: `'/home/travis/virtualenv/python3.6.3/lib/python3.6/site-packages/pipenv'`
Python location: `'/home/travis/virtualenv/python3.6.3/bin/python'`
Other Python installations in `PATH`:
  - `2.7`: `/opt/pyenv/shims/python2.7`
  - `2.7`: `/opt/pyenv/shims/python2.7`
  - `2.7`: `/usr/bin/python2.7`
  - `3.4`: `/usr/bin/python3.4m`
  - `3.4`: `/usr/bin/python3.4`
Traceback (most recent call last):
  File "/opt/python/3.6.3/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/opt/python/3.6.3/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/travis/virtualenv/python3.6.3/lib/python3.6/site-packages/pipenv/help.py", line 89, in <module>
    main()
  File "/home/travis/virtualenv/python3.6.3/lib/python3.6/site-packages/pipenv/help.py", line 24, in main
    found = find_python_in_path(python_v)
  File "/home/travis/virtualenv/python3.6.3/lib/python3.6/site-packages/pipenv/core.py", line 355, in find_python_in_path
    version = python_version(p)
  File "/home/travis/virtualenv/python3.6.3/lib/python3.6/site-packages/pipenv/utils.py", line 218, in python_version
    return u'{major}.{minor}.{micro}'.format(**version)
TypeError: format() argument after ** must be a mapping, not NoneType
The command "python -m pipenv.help" exited with 1.
Steps to replicate
Please see minimum-reproducible code at this repo, with this Travis-CI.