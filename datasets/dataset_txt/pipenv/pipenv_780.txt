connormclaud commented on 31 Jul 2018
Issue description
Run pipenv lock. Wait for an hour without visible progress
Expected result
Pipenv locks in reasonable time
Actual result
When possible, provide the verbose output (--verbose), especially for locking and dependencies resolving issues.
$ pipenv lock --verbose
Courtesy Notice: Pipenv found itself running within a virtual environment, so it will automatically use that environment, instead of creating its own for any project. You can set PIPENV_IGNORE_VIRTUALENVS=1 to force pipenv to ignore that environment and create its own instead.
Locking [dev-packages] dependencies...
using sources: [{'url': 'https://pypi.org/simple', 'verify_ssl': True, 'name': 'pypi'}]
Using pip: -i https://pypi.org/simple

                          ROUND 1                           
Current constraints:
  httpie (from -r /tmp/pipenv-zzh9cqpj-requirements/pipenv-r5vz8p2t-constraints.txt (line 2))

Finding the best candidates:
  found candidate httpie==0.9.9 (constraint was <any>)

Finding secondary dependencies:
  httpie==0.9.9             requires certifi>=2017.4.17, chardet<3.1.0,>=3.0.2, httpie==0.9.9; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4", idna<2.8,>=2.5, pygments>=2.1.3, requests>=2.11.0, urllib3<1.24,>=1.21.1

New dependencies found in this round:
  adding ['certifi', '>=2017.4.17', '[]']
  adding ['chardet', '<3.1.0,>=3.0.2', '[]']
  adding ['httpie', '==0.9.9', '[]']
  adding ['idna', '<2.8,>=2.5', '[]']
  adding ['pygments', '>=2.1.3', '[]']
  adding ['requests', '>=2.11.0', '[]']
  adding ['urllib3', '<1.24,>=1.21.1', '[]']
Removed dependencies in this round:
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 1: not stable

                          ROUND 2                           
Current constraints:
  certifi>=2017.4.17
  chardet<3.1.0,>=3.0.2
  httpie==0.9.9 (from -r /tmp/pipenv-zzh9cqpj-requirements/pipenv-r5vz8p2t-constraints.txt (line 2))
  idna<2.8,>=2.5
  pygments>=2.1.3
  requests>=2.11.0
  urllib3<1.24,>=1.21.1

Finding the best candidates:
  found candidate certifi==2018.4.16 (constraint was >=2017.4.17)
  found candidate chardet==3.0.4 (constraint was >=3.0.2,<3.1.0)
  found candidate httpie==0.9.9 (constraint was ==0.9.9)
  found candidate idna==2.7 (constraint was >=2.5,<2.8)
  found candidate pygments==2.2.0 (constraint was >=2.1.3)
  found candidate requests==2.19.1 (constraint was >=2.11.0)
  found candidate urllib3==1.23 (constraint was >=1.21.1,<1.24)

Finding secondary dependencies:
  idna==2.7                 requires idna==2.7
  httpie==0.9.9             requires certifi>=2017.4.17, chardet<3.1.0,>=3.0.2, httpie==0.9.9; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4", idna<2.8,>=2.5, pygments>=2.1.3, requests>=2.11.0, urllib3<1.24,>=1.21.1
  certifi==2018.4.16        requires -
  requests==2.19.1          requires certifi>=2017.4.17, chardet<3.1.0,>=3.0.2, idna<2.8,>=2.5, requests==2.19.1; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4", urllib3<1.24,>=1.21.1
  chardet==3.0.4            requires -
  urllib3==1.23             requires urllib3==1.23; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4"
  pygments==2.2.0           requires -

New dependencies found in this round:
  adding ['idna', '<2.8,==2.7,>=2.5', '[]']
  adding ['requests', '==2.19.1,>=2.11.0', '[]']
  adding ['urllib3', '<1.24,==1.23,>=1.21.1', '[]']
Removed dependencies in this round:
  removing ['idna', '<2.8,>=2.5', '[]']
  removing ['requests', '>=2.11.0', '[]']
  removing ['urllib3', '<1.24,>=1.21.1', '[]']
Unsafe dependencies in this round:
------------------------------------------------------------
Result of round 2: not stable

                          ROUND 3                           
Current constraints:
  certifi>=2017.4.17
  chardet<3.1.0,>=3.0.2
  httpie==0.9.9 (from -r /tmp/pipenv-zzh9cqpj-requirements/pipenv-r5vz8p2t-constraints.txt (line 2))
  idna<2.8,==2.7,>=2.5
  pygments>=2.1.3
  requests==2.19.1,>=2.11.0
  urllib3<1.24,==1.23,>=1.21.1

Finding the best candidates:
  found candidate certifi==2018.4.16 (constraint was >=2017.4.17)
  found candidate chardet==3.0.4 (constraint was >=3.0.2,<3.1.0)
  found candidate httpie==0.9.9 (constraint was ==0.9.9)
  found candidate idna==2.7 (constraint was >=2.5,==2.7,<2.8)
  found candidate pygments==2.2.0 (constraint was >=2.1.3)
  found candidate requests==2.19.1 (constraint was >=2.11.0,==2.19.1)
  found candidate urllib3==1.23 (constraint was >=1.21.1,==1.23,<1.24)

Finding secondary dependencies:
  requests==2.19.1          requires certifi>=2017.4.17, chardet<3.1.0,>=3.0.2, idna<2.8,>=2.5, requests==2.19.1; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4", urllib3<1.24,>=1.21.1
  httpie==0.9.9             requires certifi>=2017.4.17, chardet<3.1.0,>=3.0.2, httpie==0.9.9; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4", idna<2.8,>=2.5, pygments>=2.1.3, requests>=2.11.0, urllib3<1.24,>=1.21.1
  idna==2.7                 requires idna==2.7
  pygments==2.2.0           requires -
  certifi==2018.4.16        requires -
  urllib3==1.23             requires urllib3==1.23; python_version != "3.3.*" and python_version != "3.1.*" and python_version != "3.0.*" and python_version >= "2.6" and python_version != "3.2.*" and python_version < "4"
  chardet==3.0.4            requires -
------------------------------------------------------------
Result of round 3: stable, done

Locking [packages] dependencies...
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
Run pipenv lock on following file:
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
falcon = "*"
docker-compose = "*"
gunicorn = "*"
gensim = "*"

[dev-packages]
httpie = "*"

[requires]
python_version = "3.6"
Please run $ pipenv --support, and paste the results here. Don't put backticks (`) around it! The output already contains Markdown formatting.
If you're on macOS, run the following:
$ pipenv --support | pbcopy
If you're on Windows, run the following:
> pipenv --support | clip
If you're on Linux, run the following:
$ pipenv --support | xclip
$ pipenv --support
9