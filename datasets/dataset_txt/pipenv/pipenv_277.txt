DachuanZhao commented on 20 Feb 2019 •
edited
Be sure to check the existing issues (both open and closed!), and make sure you are running the latest version of Pipenv.
Check the diagnose documentation for common issues before posting! We may close your issue if it is very similar to one of them. Please be considerate, or be on your way.
Make sure to mention your debugging experience if the documented solution failed.
Issue description
pipenv install tornado failed
Expected result
Describe what you expected.
Actual result
Installing tornado…
Adding tornado to Pipfile's [packages]…
✔ Installation Succeeded 
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
✘ Locking Failed! 
Traceback (most recent call last):
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 126, in <module>
    main()
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 119, in main
    parsed.requirements_dir, parsed.packages)
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 85, in _main
    requirements_dir=requirements_dir,
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 69, in resolve
    req_dir=requirements_dir
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/utils.py", line 726, in resolve_deps
    req_dir=req_dir,
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/utils.py", line 477, in actually_resolve_deps
    deps, index_lookup, markers_lookup, project, sources,
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/utils.py", line 224, in get_resolver_metadata
    req = Requirement.from_line(dep)
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/vendor/requirementslib/models/requirements.py", line 1068, in from_line
    if isinstance(line, pip_shims.shims.InstallRequirement):
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/vendor/pip_shims/shims.py", line 254, in __getattr__
    return super(_shims, self).__getattribute__(*args, **kwargs)
AttributeError: '_shims' object has no attribute 'InstallRequirement'
File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 126, in <module>
    main()
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 119, in main
    parsed.requirements_dir, parsed.packages)
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 85, in _main
    requirements_dir=requirements_dir,
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/resolver.py", line 69, in resolve
    req_dir=requirements_dir
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/utils.py", line 726, in resolve_deps
    req_dir=req_dir,
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/utils.py", line 477, in actually_resolve_deps
    deps, index_lookup, markers_lookup, project, sources,
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/utils.py", line 224, in get_resolver_metadata
    req = Requirement.from_line(dep)
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/vendor/requirementslib/models/requirements.py", line 1068, in from_line
    if isinstance(line, pip_shims.shims.InstallRequirement):
  File "/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/pipenv/vendor/pip_shims/shims.py", line 254, in __getattr__
    return super(_shims, self).__getattribute__(*args, **kwargs)
AttributeError: '_shims' object has no attribute 'InstallRequirement'
Steps to replicate
Provide the steps to replicate (which usually at least includes the commands and the Pipfile).
Please run $ pipenv --support, and paste the results here. Don't put backticks (`) around it! The output already contains Markdown formatting.
$ pipenv --support
1