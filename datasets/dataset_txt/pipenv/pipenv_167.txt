revmischa commented on 14 May 2019
Issue description
I want to develop an application and a (private) dependency of it simultaneously.
I understand that I can add something like mydep = {editable = true, path = "../mydep"} to Pipfile, but I can't commit and push this because others won't be able to build it.
I can switch it out for mydep = {editable = true, path = "git+ssh://git@github.com/...."} before pushing but that is extremely tedious.
To get around this, I tried symlinking mydep in my site-packages directory, similar to what yarn link does in the JS world (which is really what I would love, feature-wise, for pipenv).
Expected result
I expected that I could work on my dependency in its normal directory, and have it be used by my application as a normal dependency.
Actual result
When running any pipenv install ...:
An error occurred while installing -e git+ssh://git@github.com/......! Will try again.
Installing initially failed dependenciesâ€¦
Obtaining mydep from git+ssh://git@github.com/.......

  WARNING: Directory /Users/cyber/.virtualenvs/myapp-8LV4K5cs/src/mydep already exists, and is not a git clone.
  WARNING: The plan is to install the git repository ssh://git@github.com/....
  WARNING: Deleting /Users/cyber/.virtualenvs/myapp-8LV4K5cs/src/mydep
ERROR: Could not install packages due to an EnvironmentError: Cannot call rmtree on a symbolic link
And when I looked at mydep/ later, its permissions were 0300 or something wild.
"is not a git clone" is not true; that directory was a git clone.
Steps to replicate
create application, create mydep in separate directory
symlink mydep to ~/.virtualenvs/...site-packages/
do pipenv install (anything)
Thanks!!
Appreciate the help.
Feature Request:
I would really love something that works exactly like yarn link
(this is from later, so the pipfile/lock won't match up)
$ pipenv --support