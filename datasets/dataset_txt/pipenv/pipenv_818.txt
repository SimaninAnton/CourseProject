dmtucker commented on 20 Jul 2018 •
edited
I want to remove a virtualenv created by pipenv, but pipenv --rm says there isn't one unless a Pipfile is present.
Expected result
The virtualenv is found and removed.
Actual result
I get an error saying there is no virtualenv.
Steps to replicate
Setup:
dtucker@dtucker-wkstn:/tmp $ pipenv shell
Creating a virtualenv for this project...
Pipfile: /tmp/Pipfile
Using /usr/bin/python3 (3.5.3) to create virtualenv...
⠋Already using interpreter /usr/bin/python3
Using base prefix '/usr'
New python executable in /home/dtucker/.local/share/virtualenvs/tmp-XVr6zr33/bin/python3
Also creating executable in /home/dtucker/.local/share/virtualenvs/tmp-XVr6zr33/bin/python
Installing setuptools, pip, wheel...done.
Setting project for tmp-XVr6zr33 to /tmp

Virtualenv location: /home/dtucker/.local/share/virtualenvs/tmp-XVr6zr33
Creating a Pipfile for this project...
Launching subshell in virtual environment…
 . /home/dtucker/.local/share/virtualenvs/tmp-XVr6zr33/bin/activate
dtucker@dtucker-wkstn:/tmp $  . /home/dtucker/.local/share/virtualenvs/tmp-XVr6zr33/bin/activate
(tmp-XVr6zr33) dtucker@dtucker-wkstn:/tmp $ exit
Reproduce:
dtucker@dtucker-wkstn:/tmp $ rm Pipfile
dtucker@dtucker-wkstn:/tmp $ pipenv --rm
No virtualenv has been created for this project yet!
Workaround:
dtucker@dtucker-wkstn:/tmp $ touch Pipfile
dtucker@dtucker-wkstn:/tmp $ pipenv --rm
Removing virtualenv (/home/dtucker/.local/share/virtualenvs/tmp-XVr6zr33)...
dtucker@dtucker-wkstn:/tmp $ rm Pipfile