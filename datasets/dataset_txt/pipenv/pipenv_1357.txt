alexbecker commented on 14 Mar 2018
Running pipenv install --ignore-pipfile breaks with the message WARNING: Invalid requirement, parse error at "'--extra-'". Latest working version is 11.6.1, confirmed broken at both 11.6.2 and 11.6.9.
Expected result
Packages installed normally.
Actual result
$ pipenv install --ignore-pipfile --verbose
Creating a virtualenv for this project…
Using /usr/local/bin/python (3.6.4) to create virtualenv…
Already using interpreter /usr/local/bin/python
Using base prefix '/usr/local'
New python executable in /root/.local/share/virtualenvs/app-4PlAip0Q/bin/python
Installing setuptools, pip, wheel...done.

Virtualenv location: /root/.local/share/virtualenvs/app-4PlAip0Q
Creating a Pipfile for this project…
Installing dependencies from Pipfile.lock (5e019a)…
Installing 'my-private-package==5.1.1  --extra-index-url https://packagecloud.io/pypi/simple'
WARNING: Invalid requirement, parse error at "'--extra-'"
ABORTING INSTALL... You will have to reinstall any packages that failed to install.
Steps to replicate
Use the following Pipfile.lock:
{
    "_meta": {
        "hash": {
            "sha256": "7c7b3a5dbc4c43dd9b9ef5182ea9baa5d5b584ace52a4887f83c8112fd5e019a"
        },
        "pipfile-spec": 6,
        "requires": {
            "python_version": "3.6"
        },
        "sources": [
            {
                "name": "pypi",
                "url": "https://pypi.python.org/simple",
                "verify_ssl": true
            },
            {
                "name": "packagecloud",
                "url": "https://packagecloud.io/pypi/simple",
                "verify_ssl": true
            }
        ]
    },
    "default": {
        "my-private-package": {
            "hashes": [],
            "version": "==5.1.1"
        }
    },
    "develop": {}
}
Here my-private-package must be a package that (presumably) exists on the private package index but not PyPI. Obviously this will fail since I made up the credentials and package name, but it fails first with the error noted above, and with correct package and credentials still fails.