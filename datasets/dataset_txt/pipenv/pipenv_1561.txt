Collaborator
jtratner commented on 17 Feb 2018
I was trying to debug why pipenv was failing on an IPython install in OSX. I was getting errors like this:
›› pipenv install --verbose
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Traceback (most recent call last):
  File "/usr/local/bin/pipenv", line 11, in <module>
    load_entry_point('pipenv', 'console_scripts', 'pipenv')()
<long traceback>
  File "/Users/jtratner/pipenv/pipenv/patched/pip/utils/__init__.py", line 707, in call_subprocess
    % (command_desc, proc.returncode, cwd))
pip.exceptions.InstallationError: Command "python setup.py egg_info" failed with error code 1 in /var/folders/fm/sjgpzb856kld04jvq82bxrcw0000gp/T/tmp4cQKivbuild/ipython/
but with no ability to actually look at what the error was because temp file got removed.
By adding
logger.setLevel(std_logging.INFO)
to pipenv/pipenv/patched/pip/utils/init.py, I was able to get to underlying error message. But just using --verbose flag didn't really get anywhere.
It'd be nice to either be able to specify a loglevel to pip/pipenv so you can see build failures or have the --verbose flag pass through to pip itself. (and if there's a way to do this or a way you'd like to do this, perhaps we could add it to the documentation).
(It turned out it was the good old error like this:
INFO:pip.utils:Complete output from command python setup.py egg_info:
INFO:pip.utils:
IPython 6.0+ does not support Python 2.6, 2.7, 3.0, 3.1, or 3.2.
When using Python 2.7, please install IPython 5.x LTS Long Term Support version.
Beginning with IPython 6.0, Python 3.3 and above is required.

See IPython `README.rst` file for more information:

    https://github.com/ipython/ipython/blob/master/README.rst

Python sys.version_info(major=2, minor=7, micro=14, releaselevel='final', serial=0) detected.
)
Describe your environment
OS Type OS X
Python version: 2.7.14
Pipenv version: (latest master)