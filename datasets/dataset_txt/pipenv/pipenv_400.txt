mskoenz commented on 28 Nov 2018
I checked the diagnose.
Issue description
installing a package from pip with a namespace, i.e. fsc.export results in locking-failure, since (I assume) pipenv looks for fsc-export on https://pypi.org/simple and not for fsc.export (which is available). This package is not a pre-release.
Expected result
That it would work just fine, like pip install fsc.export
Actual result
Creating a Pipfile for this project…
Installing fsc.export…
⠋ Installing...Installing 'fsc.export'
$ ['/Users/mskoenz/.virtualenvs/hello-vT9ljSkH/bin/pip', 'install', '--verbose', '--upgrade', '"fsc.export"', '-i', 'https://pypi.org/simple']

Adding fsc.export to Pipfile's [packages]…
✔ Installation Succeeded
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
✘ Locking Failed!
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple

                          ROUND 1
Current constraints:
  fsc-export

Finding the best candidates:
Traceback (most recent call last):
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 385, in resolve
    results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 102, in resolve
    has_changed, best_matches = self._resolve_one_round()
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in _resolve_one_round
    best_matches = {self.get_best_match(ireq) for ireq in constraints}
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in <setcomp>
    best_matches = {self.get_best_match(ireq) for ireq in constraints}
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 263, in get_best_match
    best_match = self.repository.find_best_match(ireq, prereleases=self.prereleases)
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/repositories/pypi.py", line 175, in find_best_match
    raise NoCandidateFound(ireq, all_candidates, self.finder)
pipenv.patched.piptools.exceptions.NoCandidateFound: Could not find a version that matches fsc-export
No versions found
Was https://pypi.org/simple reachable?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 126, in <module>
    main()
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 119, in main

    parsed.requirements_dir, parsed.packages)
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 85, in _main
    requirements_dir=requirements_dir,
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 69, in resolve
    req_dir=requirements_dir
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 726, in resolve_deps
    req_dir=req_dir,
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 480, in actually_resolve_deps
    resolved_tree = resolver.resolve()
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 395, in resolve
    raise ResolutionFailure(message=str(e))
pipenv.exceptions.ResolutionFailure: ERROR: ERROR: Could not find a version that matches fsc-export
No versions found
Was https://pypi.org/simple reachable?
Using pip: -i https://pypi.org/simple
Using pip: -i https://pypi.org/simple

                          ROUND 1
Current constraints:
  fsc-export
Finding the best candidates:
Traceback (most recent call last):
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 385, in resolve
    results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)

  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 102, in resolve
    has_changed, best_matches = self._resolve_one_round()
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in _resolve_one_round
    best_matches = {self.get_best_match(ireq) for ireq in constraints}
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 198, in <setcomp>
    best_matches = {self.get_best_match(ireq) for ireq in constraints}
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/resolver.py", line 263, in get_best_match
    best_match = self.repository.find_best_match(ireq, prereleases=self.prereleases)
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/patched/piptools/repositories/pypi.py", line 175, in find_best_match
    raise NoCandidateFound(ireq, all_candidates, self.finder)
pipenv.patched.piptools.exceptions.NoCandidateFound: Could not find a version that matches fsc-export
No versions found
Was https://pypi.org/simple reachable?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 126, in <module>
    main()
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 119, in main
    parsed.requirements_dir, parsed.packages)
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 85, in _main
    requirements_dir=requirements_dir,
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/resolver.py", line 69, in resolve
    req_dir=requirements_dir
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 726, in resolve_deps
    req_dir=req_dir,
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 480, in actually_resolve_deps
    resolved_tree = resolver.resolve()
  File "/Users/mskoenz/.virtualenvs/tmp-92509552f3b388/lib/python3.7/site-packages/pipenv/utils.py", line 395, in resolve
    raise ResolutionFailure(message=str(e))
pipenv.exceptions.ResolutionFailure: ERROR: ERROR: Could not find a version that matches fsc-export
No versions found
Was https://pypi.org/simple reachable?
Steps to replicate
in a completely fresh folder (no Pipfile), run:
pipenv install fsc.export
$ pipenv --support