akefeli commented on 3 Aug 2018
This works with older version:
pipenv version: 11.10.1
pipenv install -e git+git@github.com:some/repo.git#egg=foo\&subdirectory=sub
Running same command with version: 2018.7.1.
First part succeeds, then second part fails.
Installing ...
Obtaining foo from git+git@github.com:CloudVLab/fusion.git#egg=Fusion&subdirectory=python
...
Successfully installed foo

Adding -e git+git@github.com:... to Pipfile's [packages]...

Pipfile.lock (a34c46) out of date, updating to (0c0917)...
Locking [dev-packages] dependencies...
Locking [packages] dependencies...
...
Command "git clone -q ssh://git@github.com:some/repo.git /tmp/tmptsmueli7source/foo" failed with error code 128 in None
...
Pipenv should either do(both commands are exactly same AFAIK):
git clone git@github.com:some/repo.git
or
git clone ssh://git@github.com/some/repo.git
notice the : vs /
instead it is doing:
ssh://git@github.com:some/repo.git
which obviously not working.
As a workaround I had to do:
pipenv install -e git+ssh://git@github.com/some/repo.git
1