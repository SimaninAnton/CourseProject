zyv commented on 9 Mar 2018
The latest release of pipenv (11.1.6) somehow cannot be installed correctly by pip on the official python:3.6 Docker image, because it doesn't pull in virtualenv as a dependency, even though it still seems to be present in setup.py.
Describe your environment
OS Type
Official Python 3.6 Docker image from Docker Hub:
$ docker run -it --rm python:3.6 /bin/bash

root@655cf1e07441:/# pip --version
pip 9.0.1 from /usr/local/lib/python3.6/site-packages (python 3.6)
Python version: $ python -V
root@655cf1e07441:/# python -V
Python 3.6.4
Pipenv version: $ pipenv --version
N/A
Expected result
virtualenv dependency is installed.
Actual result
virtualenv dependency is not installed.
Steps to replicate
$ docker run -it --rm python:3.6 /bin/bash

root@655cf1e07441:/# pip install pipenv==11.1.6
Collecting pipenv
  Downloading pipenv-11.1.6.tar.gz (4.1MB)
    100% |████████████████████████████████| 4.1MB 514kB/s 
Requirement already satisfied: setuptools>=36.2.1virtualenv in /usr/local/lib/python3.6/site-packages (from pipenv)
Collecting virtualenv-clone>=0.2.5 (from pipenv)
  Downloading virtualenv_clone-0.3.0-py2.py3-none-any.whl
Building wheels for collected packages: pipenv
  Running setup.py bdist_wheel for pipenv ... done
  Stored in directory: /root/.cache/pip/wheels/ee/bb/e2/3c8a67b115b7fe036ffa6ba776b5bcc692c35fa958a6d8507c
Successfully built pipenv
Installing collected packages: virtualenv-clone, pipenv
Successfully installed pipenv-11.1.6 virtualenv-clone-0.3.0

root@655cf1e07441:/# virtualenv
bash: virtualenv: command not found
root@655cf1e07441:/# pip install pipenv==11.1.5
Collecting pipenv==11.1.5
  Downloading pipenv-11.1.5.tar.gz (4.1MB)
    100% |████████████████████████████████| 4.1MB 464kB/s 
Collecting virtualenv (from pipenv==11.1.5)
  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)
    100% |████████████████████████████████| 1.8MB 1.1MB/s 
Requirement already satisfied: virtualenv-clone>=0.2.5 in /usr/local/lib/python3.6/site-packages (from pipenv==11.1.5)
Building wheels for collected packages: pipenv
  Running setup.py bdist_wheel for pipenv ... done
  Stored in directory: /root/.cache/pip/wheels/0a/c4/18/93d03dc61aa0e86ad82a01ab6e082e9a30db943c58fac80ef7
Successfully built pipenv
Installing collected packages: virtualenv, pipenv
  Found existing installation: pipenv 11.1.6
    Uninstalling pipenv-11.1.6:
      Successfully uninstalled pipenv-11.1.6
Successfully installed pipenv-11.1.5 virtualenv-15.1.0

root@655cf1e07441:/# virtualenv
You must provide a DEST_DIR
Usage: virtualenv [OPTIONS] DEST_DIR
2