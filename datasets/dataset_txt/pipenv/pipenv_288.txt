ricodude commented on 12 Feb 2019
Issue description
I cannot install tables via pipenv.
Expected result
Successful install.
Actual result
Ends up with "ERROR: ERROR: Package installation failed..."
Steps to replicate
Start with a completely new directory.
Run pipenv to install tables:
$ pipenv install tables
Output below - fails:
Creating a virtualenv for this project…
Pipfile: /Users/richard/Dropbox/Developer/Python-projects/tables_test/Pipfile
Using /Users/richard/.pyenv/versions/3.7.1/bin/python3.7 (3.7.1) to create virtualenv…
⠴ Creating virtual environment...Already using interpreter /Users/richard/.pyenv/versions/3.7.1/bin/python3.7
Using base prefix '/Users/richard/.pyenv/versions/3.7.1'
New python executable in /Users/richard/.local/share/virtualenvs/tables_test-LLkngvaS/bin/python3.7
Also creating executable in /Users/richard/.local/share/virtualenvs/tables_test-LLkngvaS/bin/python
Installing setuptools, pip, wheel...
done.
✔ Successfully created virtual environment!
Virtualenv location: /Users/richard/.local/share/virtualenvs/tables_test-LLkngvaS
Creating a Pipfile for this project…
Installing tables…
Adding tables to Pipfile's [packages]…
✔ Installation Succeeded
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
✔ Success!
Updated Pipfile.lock (e5545a)!
Installing dependencies from Pipfile.lock (e5545a)…
An error occurred while installing tables==3.4.4 --hash=sha256:07bb9e96b762874e239ad8cec2cab2c4129abf576fffcdd4e961482dc7d5a0a6 --hash=sha256:09eed21e12a1286ac2e8c5e67a75d9c7a7f262883535a31ac0b985540135d8d6 --hash=sha256:0bd7e5d7ff90df3751bfb2494d41858b96118965edd8cc03758bbc638e2e2f2c --hash=sha256:2379bc98dd8caa6f5824daae4b3b1e53008af32c7b684c67deaeebc1a89a929e --hash=sha256:2cd49a98e750fe78b7a2b8e0efd69be608c8358f664f3705c98cc6f04da18a53 --hash=sha256:415731ae46dfdef7fbe305399a700a54b06a82c4331ba20cc64004fb40e79069 --hash=sha256:44289caf89efac435f49fa4bd298eb48969c026dec25d3a76e7955f1281d1bdf --hash=sha256:714f7162ffa4d470da8c9a067935520e5925384445bdb23989351b48d236345c --hash=sha256:82d98123cf67c012d6c7cb69c6733b51eb10d17fc40547bbb71ffedae8da4f90 --hash=sha256:b625fc71f082011806a60d3b7370f75e34b141dab549ed65957aed54d1f12f63 --hash=sha256:bc1621bd84769ff3f84cfd1481f93ed0c537db4b3355576270bdbb79bb390b1f --hash=sha256:bdc5c073712af2a43babd139c4855fc99496bb2c3f3f5d1b4770a985e6f9ce29 --hash=sha256:bed4f423dd33600907f1c3b88f994920f2b879b12bf83d4372f861ef4085e085 --hash=sha256:c3ac22e3391f67a381d9a3018fd7e0a1ccfcc88b5f61b0d051fe5eba8196388f --hash=sha256:d263f4380a5dad862efac774428bacb04c2339c4f165f2efdd228867abaffcf6 --hash=sha256:da98c8abfeefefad40110b994d5d06ac28d89b00d085530d377376b201566ebf --hash=sha256:e2e4e40d010a6aa0464e5e281d4aa15f64acd99fd881c0e1e4c1c567b7167dba --hash=sha256:e3bd7084dbf80ef347ad5d33645584e0fe7f8353cf2c33d8922a4c00034fa015 --hash=sha256:e8f9b20b9623c900e7007b89a9d3e315280b666ac70b38b0c191345f7d4d8585 --hash=sha256:f786d310cf954eaf52340680dfbc5c1190afc276093f5c454fab605a11488306 --hash=sha256:f97c8b5ebec23894fc56af25c6e73bc86b463cbccb1f9b9887def24cd7811e2c --hash=sha256:fd3e774ff048de838df39b018c171bff3ecd9f34a908395a475ba07ac270a34a! Will try again.
▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 4/4 — 00:00:05
Installing initially failed dependencies…
[pipenv.exceptions.InstallError]: File "/Users/richard/.pyenv/versions/3.7.1/lib/python3.7/site-packages/pipenv/core.py", line 1992, in do_install
[pipenv.exceptions.InstallError]: skip_lock=skip_lock,
[pipenv.exceptions.InstallError]: File "/Users/richard/.pyenv/versions/3.7.1/lib/python3.7/site-packages/pipenv/core.py", line 1253, in do_init
[pipenv.exceptions.InstallError]: pypi_mirror=pypi_mirror,
[pipenv.exceptions.InstallError]: File "/Users/richard/.pyenv/versions/3.7.1/lib/python3.7/site-packages/pipenv/core.py", line 859, in do_install_dependencies
[pipenv.exceptions.InstallError]: retry_list, procs, failed_deps_queue, requirements_dir, **install_kwargs
[pipenv.exceptions.InstallError]: File "/Users/richard/.pyenv/versions/3.7.1/lib/python3.7/site-packages/pipenv/core.py", line 763, in batch_install
[pipenv.exceptions.InstallError]: _cleanup_procs(procs, not blocking, failed_deps_queue, retry=retry)
[pipenv.exceptions.InstallError]: File "/Users/richard/.pyenv/versions/3.7.1/lib/python3.7/site-packages/pipenv/core.py", line 681, in _cleanup_procs
[pipenv.exceptions.InstallError]: raise exceptions.InstallError(c.dep.name, extra=err_lines)
[pipenv.exceptions.InstallError]: ['Collecting tables==3.4.4 (from -r /var/folders/h2/x_t3tq6x2lqf_58yh1syy8w40000gn/T/pipenv-k4a888sn-requirements/pipenv-wmentora-requirement.txt (line 1))', ' Using cached https://files.pythonhosted.org/packages/4d/53/8f34ce887c2a2ad80518980419a5f6f41defc85a287a355987e559ce9385/tables-3.4.4.tar.gz', ' Complete output from command python setup.py egg_info:', " /var/folders/h2/x_t3tq6x2lqf_58yh1syy8w40000gn/T/H5closeryxpk8x2.c:1:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]", ' main (int argc, char **argv) {', ' ^', " /var/folders/h2/x_t3tq6x2lqf_58yh1syy8w40000gn/T/H5closeryxpk8x2.c:2:5: warning: implicit declaration of function 'H5close' is invalid in C99 [-Wimplicit-function-declaration]", ' H5close();', ' ^', ' 2 warnings generated.', ' ld: library not found for -lhdf5', ' clang: error: linker command failed with exit code 1 (use -v to see invocation)', ' * Using Python 3.7.1 (default, Dec 28 2018, 22:42:29)', ' * USE_PKGCONFIG: True', ' .. ERROR:: Could not find a local HDF5 installation.', ' You may need to explicitly state where your local HDF5 headers and', ' library can be found by setting the HDF5_DIR environment', ' variable or by using the --hdf5 command-line option.', ' ', ' ----------------------------------------']
[pipenv.exceptions.InstallError]: ['Command "python setup.py egg_info" failed with error code 1 in /private/var/folders/h2/x_t3tq6x2lqf_58yh1syy8w40000gn/T/pip-install-zexnlhoy/tables/']
ERROR: ERROR: Package installation failed...
☤ ▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 0/1 — 00:00:02
$ pipenv --support