shvenkat commented on 23 Oct 2017
Description
A package specified in Pipfile is not installed if there is a top-level directory with the same name. If the directory is removed/renamed, the next pipenv install installs the package.
Environment
OS Type: Mac OS 10.11.6
Python version: Python 3.6.0
Pipenv version: pipenv, version 8.2.7
Steps to reproduce
mkdir /tmp/pipenv_test && cd /tmp/pipenv_test
echo -e "[requires]\npython_version = \"3.6\"\n\n[packages]\nrequests = \"*\"" > Pipfile
mkdir requests
PIPENV_VENV_IN_PROJECT=1 pipenv install
Expected result
Package requests is installed into the virtual environment in .venv.
Actual result
Package requests is not installed into the virtual environment in .venv. Deleting or renaming the directory requests, and running PIPENV_VENV_IN_PROJECT=1 pipenv install does result in the package requests being installed.