insysion commented on 5 Mar 2019
Issue description
$ pipenv lock produces a set of dependencies that are inconsistent in their sub-dependencies
Expected result
Regardless of the pipenv approach to setuptools et al (#2364), I expect the set of packages locked to be internally consistent. In this case, cairocffi==1.0.0 would resolve the inconsistency.
Actual result
cairocffi==1.0.2 is locked, which requires setuptools>=39.2.0 and tensorflow==1.9.0 requires setuptools<=39.1.0
Steps to replicate
$ pipenv update

$ pip check
tensorflow 1.9.0 has requirement setuptools<=39.1.0, but you have setuptools 40.8.0.

$ pip install setuptools==39.1.0
Looking in indexes: https://cam.devpimirror.piointernal.prowler.io/prowler-io/prod/+simple/
Collecting setuptools==39.1.0
  Using cached https://cam.devpimirror.piointernal.prowler.io/root/pypi/+f/0cb/8b8625bfdcc2d/setuptools-39.1.0-py2.py3-none-any.whl
cairocffi 1.0.2 has requirement setuptools>=39.2.0, but you'll have setuptools 39.1.0 which is incompatible.
Installing collected packages: setuptools
  Found existing installation: setuptools 40.8.0
    Uninstalling setuptools-40.8.0:
      Successfully uninstalled setuptools-40.8.0
Successfully installed setuptools-39.1.0
$ pipenv --support