Gijom commented on 28 Jun 2018
When using a private repository with login and setting verify_ssl = false the resulting pip command is not correct and the installation of a package fails.
$ python -m pipenv.help output
Expected result
When using USER="name" PASS="test" pipenv install numpy -v I am expecting to have the numpy package installed.
Note that the USER and PASS variables are set in my Pipfile (see details above)
Actual result
When using the command the SSL authentication fails. And this is not surprising given the corresponding generated pip command obtained using the -v option:
/home/USER/.local/share/virtualenvs/USER-_5wChY8u/bin/pip" install --verbose "numpy" -i https://name:test@myserver.corp/pypi/simple --trusted-host name --exists-action w
As can be seen the trusted-host parameter is not the server name but the user name...
Additional comments and questions
I am not sure this is a very good idea to show the login and password when using a verbose output (as it appears in the resulting pip command after the -i option)
I am using verify_ssl = false because I could not find any certificate option (I tried cert = path/to/cert/pem/format without success - it does not appear as a --cert pip option)