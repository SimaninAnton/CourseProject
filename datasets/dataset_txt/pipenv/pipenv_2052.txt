bersace commented on 28 Sep 2017 â€¢
edited
Hi,
The patched pip shipped with pipenv contains bugs pypa/setuptools#885 .
$ pipenv --venv
  File "/home/bersace/.local/lib/python3.5/site-packages/pipenv/patched/pip/_vendor/pkg_resources/__init__.py", line 3004, in _call_aside
    f(*args, **kwargs)
  File "/home/bersace/.local/lib/python3.5/site-packages/pipenv/patched/pip/_vendor/pkg_resources/__init__.py", line 3046, in _initialize_master_working_set
    dist.activate(replace=False)
  File "/home/bersace/.local/lib/python3.5/site-packages/pipenv/patched/pip/_vendor/pkg_resources/__init__.py", line 2578, in activate
    declare_namespace(pkg)
  File "/home/bersace/.local/lib/python3.5/site-packages/pipenv/patched/pip/_vendor/pkg_resources/__init__.py", line 2152, in declare_namespace
    _handle_ns(packageName, path_item)
  File "/home/bersace/.local/lib/python3.5/site-packages/pipenv/patched/pip/_vendor/pkg_resources/__init__.py", line 2092, in _handle_ns
    _rebuild_mod_path(path, packageName, module)
  File "/home/bersace/.local/lib/python3.5/site-packages/pipenv/patched/pip/_vendor/pkg_resources/__init__.py", line 2121, in _rebuild_mod_path
    orig_path.sort(key=position_in_sys_path)
AttributeError: '_NamespacePath' object has no attribute 'sort'
$ cd /home/bersace/.local/lib/python3.5/site-packages
$ rsync -av pkg_resources/ pipenv/patched/pip/_vendor/pkg_resources/

sent 869,388 bytes  received 679 bytes  1,740,134.00 bytes/sec
total size is 866,503  speedup is 1.00
$ cd -
$ pipenv --venv
/home/bersace/.local/share/virtualenvs/testbed-ujqxzTi8
$
https://www.kennethreitz.org/essays/be-cordial-or-be-on-your-way