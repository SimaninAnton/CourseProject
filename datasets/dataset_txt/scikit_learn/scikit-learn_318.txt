kool7d commented on Aug 23, 2019 â€¢
edited
Description
I am trying to get permutation importances for my 200x928 dataset, with 4 different classes for each sample.
Steps/Code to Reproduce
import sklearn
import pandas as pd
import sklearn.ensemble as ens
import numpy as np
X = pd.read_csv("Data/normalizeddata.csv, header=None)
Y = pd.read_csv("Data/classifications.csv, header=None)
X2 = np.array(X)
Y2 = np.array(Y).flatten()
Xtrainer = ens.RandomForestClassifier(n_estimators = 100)
Xtrainer.fit(X2,Y2)
Ximp = permutation_importance(Xtrainer, X2, Y2)
Ximp
Same problem with eli5 perm importance:
import eli5
from eli5.sklearn import PermutationImportance
from sklearn.svm import SVC
svc = SVC().fit(X2, Y2)
perm = PermutationImportance(svc).fit(X2, Y2)
eli5.show_weights(perm)
Expected Results
Expected importance values, but both return only zeroes. This is definitely not correct, based on other thorough analyses and what I know about the dataset. I can't share the data, it is not my property, but the predictor matrix is 200 samples by 928 features, normalized for each feature. Output array (Y) is a 928 length array of classes from the range [1,2,3,4].
Actual Results
A matrix full of "0."s.
Versions
Could not locate executable g77
Could not locate executable f77
Could not locate executable ifort
Could not locate executable ifl
Could not locate executable f90
Could not locate executable DF
Could not locate executable efl
Could not locate executable gfortran
Could not locate executable f95
Could not locate executable g95
Could not locate executable efort
Could not locate executable efc
Could not locate executable flang
don't know how to compile Fortran code on platform 'nt'
System:
python: 3.7.3 (default, Mar 27 2019, 17:13:21) [MSC v.1915 64 bit (AMD64)]
executable: C:\ProgramData\Anaconda3\python.exe
machine: Windows-10-10.0.17134-SP0
BLAS:
macros:
lib_dirs:
cblas_libs: cblas
Python deps:
pip: 19.0.3
setuptools: 40.8.0
sklearn: 0.20.3
numpy: 1.16.2
scipy: 1.2.1
Cython: 0.29.6
pandas: 0.24.2