GiuseppeLaurenza commented on Jul 9, 2019
Description
Using GridSearchCV with Jupiter notebook cause a TerminatedWorkerError and no result.
Steps/Code to Reproduce
from sklearn import datasets
from sklearn.model_selection import GridSearchCV
from sklearn.ensemble import RandomForestClassifier

digits = datasets.load_digits()
n_samples = len(digits.images)
X = digits.images.reshape((n_samples, -1))
y = digits.target
max_depth = list(range(10,30,10))
max_depth.append(None)
rf_params = [{"max_depth": max_depth},
             {"min_samples_split":list(range(10,30,10))},
             {"min_samples_leaf":list(range(1,2))},
             {"max_features":["sqrt","log2","auto"]},
             {"bootstrap":[True, False]}]

scoring = ['accuracy', 'precision_macro']
clf = GridSearchCV(RandomForestClassifier(), rf_params, scoring=scoring, refit='accuracy', cv=5, n_jobs=2)
clf.fit(X, y)
Expected Results
No errors
Actual Results
'TerminatedWorkerError: A worker process managed by the executor was unexpectedly terminated. This could be caused by a segmentation fault while calling the function or by an excessive memory usage causing the Operating System to kill the worker. The exit codes of the workers are {EXIT(1)}'
Versions
System:
python: 3.7.3 (default, Jun 19 2019, 07:38:49) [Clang 10.0.1 (clang-1001.0.46.4)]
executable: /usr/local/opt/python/bin/python3.7
machine: Darwin-18.6.0-x86_64-i386-64bit
BLAS:
macros: NO_ATLAS_INFO=3, HAVE_CBLAS=None
lib_dirs:
cblas_libs: cblas
Python deps:
pip: 19.1.1
setuptools: 41.0.1
sklearn: 0.21.2
numpy: 1.16.4
scipy: 1.3.0
Cython: None
pandas: 0.24.2