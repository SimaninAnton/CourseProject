DonBeo commented on Jan 18, 2018
Description
Error when running example from the documentation.
Steps/Code to Reproduce
import numpy as np                                                                                                                                                                                          
import scipy                                                                                                                                                                                                
import scipy.sparse                                                                                                                                                                                         
from sklearn import datasets                                                                                                                                                                                
from sklearn.semi_supervised import LabelSpreading                                                                                                                                                          
label_prop_model = LabelSpreading()                                                                                                                                                                         
iris = datasets.load_iris()                                                                                                                                                                                 
rng = np.random.RandomState(42)                                                                                                                                                                             
random_unlabeled_points = rng.rand(len(iris.target)) < 0.3                                                                                                                                                  
labels = np.copy(iris.target)                                                                                                                                                                               
labels[random_unlabeled_points] = -1                                                                                                                                                                        
label_prop_model.fit(iris.data, labels)                                                                                                                                                                     
                                                 
(python3_6) lucas-MacBook-Pro:~ lucapuggini$ python Desktop/label_spreading.py
Traceback (most recent call last):
  File "Desktop/label_spreading.py", line 38, in <module>
    label_prop_model.fit(iris.data, labels)
  File "/Users/lucapuggini/VirtualEnvs/python3_6/lib/python3.6/site-packages/sklearn/semi_supervised/label_propagation.py", line 229, in fit
    graph_matrix = self._build_graph()
  File "/Users/lucapuggini/VirtualEnvs/python3_6/lib/python3.6/site-packages/sklearn/semi_supervised/label_propagation.py", line 517, in _build_graph
    laplacian = sparse.csgraph.laplacian(affinity_matrix, normed=True)
AttributeError: module 'scipy.sparse' has no attribute 'csgraph'
(python3_6) lucas-MacBook-Pro:~ lucapuggini$ 
>>> sklearn.__version__
'0.19.1'
>>> import scipy
>>> scipy.__version__
'1.0.0'
>>> 
Running on macos