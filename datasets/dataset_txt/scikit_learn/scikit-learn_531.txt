aman39 commented on May 10, 2019 â€¢
edited by rth
I am getting the following error whenever I am trying to make " n_jobs=-1 " in this line of code
classifier=KerasClassifier(build_fn=build_classifier,batch_size=10,epochs=100)
accuracies = cross_val_score(estimator=classifier, X=x_train, y=y_train, cv=10, n_jobs=-1)
when I am not using any value for n_jobs then it is training the model, but throwing error only for the case of n_jobs=-1
This is the error which is generated in the Console window
  File "<ipython-input-11-c32e9de5409c>", line 3, in <module>
    accuracies=cross_val_score(estimator=gclassifier,X=x_train,y=y_train,cv=10,n_jobs=-1)

  File "C:\Users\NEW-PC\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py", line 402, in cross_val_score
    error_score=error_score)

  File "C:\Users\NEW-PC\Anaconda3\lib\site-packages\sklearn\model_selection\_validation.py", line 240, in cross_validate
    for train, test in cv.split(X, y, groups))

  File "C:\Users\NEW-PC\Anaconda3\lib\site-packages\sklearn\externals\joblib\parallel.py", line 930, in __call__
    self.retrieve()

  File "C:\Users\NEW-PC\Anaconda3\lib\site-packages\sklearn\externals\joblib\parallel.py", line 833, in retrieve
    self._output.extend(job.get(timeout=self.timeout))

  File "C:\Users\NEW-PC\Anaconda3\lib\site-packages\sklearn\externals\joblib\_parallel_backends.py", line 521, in wrap_future_result
    return future.result(timeout=timeout)

  File "C:\Users\NEW-PC\Anaconda3\lib\concurrent\futures\_base.py", line 432, in result
    return self.__get_result()

  File "C:\Users\NEW-PC\Anaconda3\lib\concurrent\futures\_base.py", line 384, in __get_result
    raise self._exception

**BrokenProcessPool: A task has failed to un-serialize. Please ensure that the arguments of the function are all picklable.**