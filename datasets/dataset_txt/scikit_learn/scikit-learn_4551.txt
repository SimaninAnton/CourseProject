Contributor
cli248 commented on Jan 10, 2014
When I was testing using nose as follow,
nosetests --exe sklearn
I got Ran 2966 tests in 122.078s and FAILED (SKIP=16, failures=4)
The followings are the four failures. All of them are AssertionError: First warning for fit is not a from assert_warns function in sklearn/utils/tesing.py. I notice comment # To remove when we support numpy 1.7 before the assert_warns function. As current version of numpy is 1.8, I am wondering if assert_warns should be removed.
FAIL: Check that oob prediction is a good estimation of the generalization

Traceback (most recent call last):
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/nose/case.py", line 198, in runTest
    self.test(*self.arg)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/ensemble/tests/test_bagging.py", line 205, in test_oob_score_classification
y_train)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/utils/testing.py", line 121, in assert_warns
% (func.__name__, warning_class, w[0]))
AssertionError: First warning for fit is not a <class 'UserWarning'>( is {message :  DeprecationWarning('using a non-integer number instead of an integer will result in an error in the future',), category : 'DeprecationWarning', filename : '/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/svm/base.py', lineno : 233, line : None})
FAIL: sklearn.linear_model.tests.test_least_angle.test_lasso_lars_vs_lasso_cd_ill_conditioned

Traceback (most recent call last):
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/nose/case.py", line 198, in runTest
self.test(*self.arg)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/linear_model/tests/test_least_angle.py", line 326, in test_lasso_lars_vs_lasso_cd_ill_conditioned
linear_model.lars_path, X, y, method='lasso')
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/utils/testing.py", line 167, in assert_warns_message
% (func.__name__, warning_class, w[0]))
AssertionError: First warning for lars_path is not a <class 'UserWarning'>( is {message : DeprecationWarning('converting an array with ndim > 0 to an index will result in an error in the future',), category : 'DeprecationWarning', filename : '/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/linear_model/least_angle.py', lineno : 368, line : None})
FAIL: sklearn.svm.tests.test_sparse.test_timeout

Traceback (most recent call last):
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/nose/case.py", line 198, in runTest
self.test(*self.arg)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/svm/tests/test_sparse.py", line 284, in test_timeout
assert_warns(ConvergenceWarning, sp.fit, X_sp, Y)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/utils/testing.py", line 121, in assert_warns
% (func.__name__, warning_class, w[0]))
AssertionError: First warning for fit is not a <class 'sklearn.utils.ConvergenceWarning'>( is {message : DeprecationWarning('using a non-integer number instead of an integer will result in an error in the future',), category : 'DeprecationWarning', filename : '/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/svm/base.py', lineno : 233, line : None})
FAIL: sklearn.svm.tests.test_svm.test_timeout

Traceback (most recent call last):
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/nose/case.py", line 198, in runTest
self.test(*self.arg)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/svm/tests/test_svm.py", line 657, in test_timeout
assert_warns(ConvergenceWarning, a.fit, X, Y)
  File "/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/utils/testing.py", line 121, in assert_warns
% (func.__name__, warning_class, w[0]))
AssertionError: First warning for fit is not a <class 'sklearn.utils.ConvergenceWarning'>( is {message : DeprecationWarning('using a non-integer number instead of an integer will result in an error in the future',), category : 'DeprecationWarning', filename : '/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/site-packages/sklearn/svm/base.py', lineno : 233, line : None})