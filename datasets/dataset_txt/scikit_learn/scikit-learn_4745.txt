Contributor
pgervais commented on Jul 24, 2013
I realized that in many places in the code, it was assumed that the astype() method copied data only if required, which is not the case: a copy is always made, even if the array dtype doesn't change. This causes useless copies to be made in several places (one of them being all metrics functions)
A quick fix is to replace any invocation of astype() by asarray(). Another is to use the copy=False flag on astype(), but the latter is only available starting with numpy 1.7.
Doing this will reduce memory consumption with little or no effort.