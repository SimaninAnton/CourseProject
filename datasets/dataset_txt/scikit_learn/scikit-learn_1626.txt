Contributor
glemaitre commented on Jan 9, 2018
Description
Imputer is not tested for inf and NaN in common tests. However, the behaviour when there is infinite values is not raising an error and give corrupted results.
Steps/Code to Reproduce
import numpy as np
from sklearn.preprocessing import Imputer
X = np.random.random((15, 2))
X[10, 1] = np.inf
trans = Imputer()
trans.fit_transform(X)
Expected Results
Probably an error raised.
Actual Results
array([[ 0.05474523],
       [ 0.28225035],
       [ 0.88486772],
       [ 0.04597665],
       [ 0.81064025],
       [ 0.74707339],
       [ 0.76993154],
       [ 0.83412231],
       [ 0.70485293],
       [ 0.37253154],
       [ 0.03512374],
       [ 0.19351743],
       [ 0.6085533 ],
       [ 0.70629771],
       [ 0.33378636]])
ma.mean will masked the column where there is the infinite number.
Therefore, the second column is discarded.
Versions