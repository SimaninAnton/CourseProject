mrocklin commented on Feb 17, 2015
Consider the following NumPy array of data with a record dtype
In [1]: import numpy as np

In [2]: X = np.array([(1, 0), (2, 0), (3, 0)],
                     dtype=[('x', 'i4'), ('y', 'i4')])

In [3]: X.shape, X.dtype
Out[3]: ((3,), dtype([('x', '<i4'), ('y', '<i4')]))
By default this does not interact well with sklearn algorithms
In [4]: from sklearn import linear_model

In [5]: clf = linear_model.Lasso(alpha = 0.1)

In [6]: clf.fit(X, [1, 2 ,3])
ValueError: shapes (3,1) and (3,) not aligned: 1 (dim 1) != 3 (dim 0)
This might be resolved with the following check in the appropriate place (perhaps utils/validation.py:check_array()?)
if isinstance(X.dtype.descr, list):
    X = np.hstack(X[name][:, None] for name in X.dtype.names)
Of course, if there is some way to actually use the field names that I'm not seeing I'd also love to know about that.