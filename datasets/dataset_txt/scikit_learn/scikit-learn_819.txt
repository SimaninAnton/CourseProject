urigoren commented on Jan 2, 2019
Description
When pickling a FunctionTransformer transformer instance, the wrapped function does not get pickled:
AttributeError: Can't get attribute 'f' on <module 'main' ...>
Steps/Code to Reproduce
from sklearn.preprocessing import FunctionTransformer
import joblib

def f(x): return x*x
joblib.dump(FunctionTransformer(f), "t.tmp")

del f
unpickled = joblib.load("t.tmp") # Causes an exception
Versions
Windows-7-6.1.7601-SP1
Python 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 16:07:46) [MSC v.1900 32 bit (Intel)]
NumPy 1.14.4
SciPy 1.1.0
Scikit-Learn 0.19.1