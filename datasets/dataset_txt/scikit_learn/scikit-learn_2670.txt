riastrad commented on Oct 12, 2016
Currently if you try to vectorize a dictionary object that has nested values, DictVectorizer throws an error.
Example:
from sklearn.feature_extraction import DictVectorizer

data = [{'foo': {'bar': 'spam', 'baz': 4}}, {'foo2': 'bar2'}]

vectorizer = DictVectorizer
X = vectorizer.fit_transform(data) # <-- where error is thrown
Result: TypeError: float() argument must be a string or a number, not 'dict'
Recommended enhancement (to improve ease of use with NoSQL databases or .json dataobjects) would be to incorporate FlatDict or a similar function to 'flatten' the dictionaries in the array prior to applying the vectorizer.