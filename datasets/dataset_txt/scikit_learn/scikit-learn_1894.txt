Contributor
oliblum90 commented on Sep 14, 2017
if I run
z_all = np.random.rand(100000, 256)
z_anc = np.random.rand(256, 256)
nn = NearestNeighbors(n_neighbors=5).fit(z_all)


t = time()
dists = pairwise_distances(z_anc, z_all)
idxs_sk = np.argsort(dists, axis=1)[:, :5]
print time() - t

t = time()
dists, idxs_nn = nn.kneighbors(z_anc)
print time() - t
I get the times 2.95766997337 sec, 12.827755928 sec
How can that be possible? I thoguht by fitting the nearest neighbor method automatically looks for the fastest way to find the nearest neighbors