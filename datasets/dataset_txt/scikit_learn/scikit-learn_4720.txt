Member
NelleV commented on Jul 28, 2013
The following test fails right now, while it worked fine in 0.13::
def test_cross_val_score_score_func():
    clf = MockClassifier()
   _score_func1_args = []
   _score_func2_args = []

   def score_func1(data):
       _score_func1_args.append(data)
       return 1.0

   def score_func2(y_test, y_predict):
       _score_func2_args.append((y_test, y_predict))
      return 1.0

   score1 = cval.cross_val_score(clf, X, score_func=score_func1)
   assert_array_equal(score1, [1.0, 1.0, 1.0])
   assert len(_score_func1_args) == 3

   score2 = cval.cross_val_score(clf, X, y, score_func=score_func2)
   assert_array_equal(score2, [1.0, 1.0, 1.0])
   assert len(_score_func2_args) == 3