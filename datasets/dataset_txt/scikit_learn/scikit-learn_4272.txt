nathanathan commented on Aug 11, 2014
When I use FeatureUnion on large feature vectors (> 1000 entries) I get this errors like this:
Traceback (most recent call last):
  File "/home/ubuntu/notebooks/nathan/grits_api/train.py", line 228, in <module>
    r['cleanContent'] for r in training_set
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/sklearn/pipeline.py", line 183, in transform
    Xt = transform.transform(Xt)
  File "/home/ubuntu/notebooks/nathan/grits_api/diagnosis/KeywordExtractor.py", line 45, in transform
    mat = self.vectorizer.transform(texts)
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/sklearn/pipeline.py", line 335, in transform
    Xs = sparse.hstack(Xs).tocsr()
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/scipy/sparse/construct.py", line 453, in hstack
    return bmat([blocks], format=format, dtype=dtype)
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/scipy/sparse/construct.py", line 559, in bmat
    A = coo_matrix(blocks[i,j])
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/scipy/sparse/coo.py", line 178, in __init__
    coo = arg1.tocoo()
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/scipy/sparse/compressed.py", line 897, in tocoo
    return coo_matrix((data,(row,col)), self.shape)
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/scipy/sparse/coo.py", line 201, in __init__
    self._check()
  File "/home/ubuntu/Envs/grits_api_env/lib/python2.7/site-packages/scipy/sparse/coo.py", line 257, in _check
    raise ValueError('column index exceeds matrix dimensions')
ValueError: column index exceeds matrix dimensions