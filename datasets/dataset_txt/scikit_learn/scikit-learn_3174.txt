Contributor
nelson-liu commented on Feb 18, 2016
Hi,
I'm getting a ValueError in sklearn.tests.test_common.test_non_meta_estimators('MDS', <class 'sklearn.manifold.mds.MDS'>). To reproduce, just run nosetests -v sklearn/tests/test_common.py from the root directory. The output is also shown below:
======================================================================
ERROR: sklearn.tests.test_common.test_non_meta_estimators('MDS', <class 'sklearn.manifold.mds.MDS'>)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/Cellar/numpy/1.10.4/libexec/nose/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/utils/testing.py", line 319, in wrapper
    return fn(*args, **kwargs)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/utils/estimator_checks.py", line 699, in check_estimators_dtypes
    estimator.fit(X_train, y)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/manifold/mds.py", line 376, in fit
    self.fit_transform(X, init=init)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/manifold/mds.py", line 414, in fit_transform
    return_n_iter=True)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/manifold/mds.py", line 229, in smacof
    similarities = check_array(similarities)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/utils/validation.py", line 402, in check_array
    _assert_all_finite(array)
  File "/Users/nelsonliu/Documents/Github/scikit-learn/sklearn/utils/validation.py", line 58, in _assert_all_finite
    " or a value too large for %r." % X.dtype)
ValueError: Input contains NaN, infinity or a value too large for dtype('float32').

----------------------------------------------------------------------
Can anyone try to reproduce it? I'm on 0.18.dev0, and I just pulled from the latest master. Running OSX 10.11.
Thanks!