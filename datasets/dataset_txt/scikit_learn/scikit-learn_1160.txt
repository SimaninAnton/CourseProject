robguinness commented on Aug 16, 2018 •
edited
Description
TfidfVectorizer with stop_words=None still filters out 'a' and 'I'. This is confusing because setting ¸stop_words=None` doesn't really cause there to be no stopwords. The issue is caused by the default token_pattern, which requires at least 2 alphanumeric characters for a word to qualify as a token.
I suspect this applies to CountVectorizer also, but I haven't tested it myself.
Steps/Code to Reproduce
from sklearn.feature_extraction.text import TfidfVectorizer
sentence = ["I am a sentence."]
vectorizer = TfidfVectorizer(stop_words=None)
X = vectorizer.fit_transform(sentence)
print(len(vectorizer.vocabulary_))
Expected Results
Should print 4
Actual Results
Prints 2
Versions
Linux-4.16.5-1-ARCH-x86_64-with-arch
Python 3.7.0 (default, Jul 15 2018, 10:44:58)
[GCC 8.1.1 20180531]
NumPy 1.15.0
SciPy 1.1.0
Scikit-Learn 0.19.2