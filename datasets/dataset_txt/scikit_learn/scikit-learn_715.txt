Member
jeremiedbb commented on Feb 21, 2019
The test test_pairwise_distances_data_derived_params from metrics.pairwise is really really slow (25s instead of a few 100ms).
========================== slowest 20 test durations ===========================
25.10s call     metrics/tests/test_pairwise.py::test_pairwise_distances_data_derived_params[Y is not X-pairwise_distances_chunked-seuclidean-2]
25.00s call     metrics/tests/test_pairwise.py::test_pairwise_distances_data_derived_params[Y is not X-pairwise_distances_chunked-mahalanobis-2]
24.57s call     metrics/tests/test_pairwise.py::test_pairwise_distances_data_derived_params[Y is X-pairwise_distances_chunked-mahalanobis-2]
24.41s call     metrics/tests/test_pairwise.py::test_pairwise_distances_data_derived_params[Y is X-pairwise_distances_chunked-seuclidean-2]
The tricky thing is that:
it's only on the distrib=ubuntu job.
it affects pairwise_distances_chunked but not pairwise_distances
it's slow only for n_jobs > 1