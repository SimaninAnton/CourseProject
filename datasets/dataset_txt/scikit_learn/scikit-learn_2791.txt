StevenLOL commented on Sep 1, 2016 â€¢
edited
Steps/Code to Reproduce
Fork an empty ubuntu 16.04 docker.
install all wget pip python-dev ...make .git..
apt-get install python-scipy/python-numpy or pip install numpy, scipy
git the latest scikit-learn , install with sudo python ./setup.py install
test with from sklearn.model_selection import KFold
from sklearn.model_selection import KFold
  File "/usr/local/lib/python2.7/dist-packages/sklearn/model_selection/__init__.py", line 23, in <module>
    from ._search import GridSearchCV
  File "/usr/local/lib/python2.7/dist-packages/sklearn/model_selection/_search.py", line 32, in <module>
    from ..utils.fixes import rankdata
ImportError: cannot import name rankdata
More tests with utils/fixes.py
Python 2.7.12 (default, Jul  1 2016, 15:12:24) 
[GCC 5.4.0 20160609] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> from sklearn.utils.fixes import *
>>> sp_version
(0, 18, 0)
>>> rankdata
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'rankdata' is not defined
>>> import sklearn.utils.fixes as fx
>>> fx.rankdata
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'module' object has no attribute 'rankdata'
>>> fx.parallel_helper
<function parallel_helper at 0x7fbe1a7177d0>
>>> fx.sparse_lsqr    
<function lsqr at 0x7fbe1bdaf578>
>>> fx.partial    
<type 'functools.partial'>
>>> fx.bincount
<built-in function bincount>
>>> fx.makedirs
<function makedirs at 0x7fbe1a717848>
>>> fx.array_equal
<function array_equal at 0x7fbe21981398>
Expected Results
Actual Results
Versions
>>> import platform; print(platform.platform())
Linux-4.4.0-31-generic-x86_64-with-Ubuntu-16.04-xenial
>>> import sys; print("Python", sys.version)
('Python', '2.7.12 (default, Jul  1 2016, 15:12:24) \n[GCC 5.4.0 20160609]')
>>> import numpy; print("NumPy", numpy.__version__)
('NumPy', '1.11.0')
>>> import scipy; print("SciPy", scipy.__version__)
('SciPy', '0.17.0')
>>> import sklearn; print("Scikit-Learn", sklearn.__version__)
('Scikit-Learn', '0.18.dev0')