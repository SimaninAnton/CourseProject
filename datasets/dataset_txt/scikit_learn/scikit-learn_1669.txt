Member
lesteve commented on Dec 20, 2017
There has been an error in the scipy-dev-wheels build for a few days, e.g. https://travis-ci.org/scikit-learn/scikit-learn/builds/317609541. Seems due to cython-dev:
[17/40] Cythonizing sklearn/metrics/cluster/expected_mutual_info_fast.pyx
Error compiling Cython file:
------------------------------------------------------------
...
# cython: cdivision=True
^
------------------------------------------------------------
sklearn/metrics/cluster/expected_mutual_info_fast.pyx:1:0: 'sklearn.metrics/cluser.expected_mutual_info_fast' is not a valid module name
Traceback (most recent call last):
  File "setup.py", line 269, in <module>
    setup_package()
  File "setup.py", line 265, in setup_package
    setup(**metadata)
  File "/home/travis/testvenv/lib/python3.6/site-packages/numpy/distutils/core.p", line 135, in setup
    config = configuration()
  File "setup.py", line 135, in configuration
    config.add_subpackage('sklearn')
  File "/home/travis/testvenv/lib/python3.6/site-packages/numpy/distutils/misc_uil.py", line 1024, in add_subpackage
    caller_level = 2)
  File "/home/travis/testvenv/lib/python3.6/site-packages/numpy/distutils/misc_uil.py", line 993, in get_subpackage
    caller_level = caller_level + 1)
  File "/home/travis/testvenv/lib/python3.6/site-packages/numpy/distutils/misc_uil.py", line 930, in _get_configuration_from_setup_py
    config = setup_module.configuration(*args)
  File "sklearn/setup.py", line 82, in configuration
    maybe_cythonize_extensions(top_path, config)
  File "/home/travis/build/scikit-learn/scikit-learn/sklearn/_build_utils/__init_.py", line 84, in maybe_cythonize_extensions
    config.ext_modules = cythonize(config.ext_modules)
  File "/home/travis/testvenv/lib/python3.6/site-packages/Cython/Build/Dependences.py", line 1025, in cythonize
    cythonize_one(*args)
  File "/home/travis/testvenv/lib/python3.6/site-packages/Cython/Build/Dependences.py", line 1145, in cythonize_one
    raise CompileError(None, pyx_file)
Cython.Compiler.Errors.CompileError: sklearn/metrics/cluster/expected_mutual_inf_fast.py