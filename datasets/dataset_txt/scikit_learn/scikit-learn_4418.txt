mfenner1 commented on May 7, 2014
The two following snippets should be the same, but somehow cross-validation (over a linear regression model) is giving negative values from MSE (note, the absolute value of the negative values is correct).
# setup
diabetes_dataset = datasets.load_diabetes()
dd_examples, dd_targets = diabetes_dataset.data, diabetes_dataset.target
linreg = linear_model.LinearRegression()
kfold = cross_validation.KFold(len(dd_examples), n_folds=3)

# snippet 1
cv_scores = cross_validation.cross_val_score(linreg, dd_examples, dd_targets, 
                                             cv=kfold, 
                                             scoring='mean_squared_error', 
                                             n_jobs=-1) # all CPUs
print cv_scores

# snippet 2
for train, test in kfold:
    preds = linreg.fit(dd_examples[train], dd_targets[train]).predict(dd_examples[test])
    print metrics.mean_squared_error(preds, dd_targets[test]),
Gives:
[-3034.23227477 -3253.22356717 -2793.97771848]
3034.23227477 3253.22356717 2793.97771848
Thoughts? I've looked for typos.