phani-vadrevu commented on May 25, 2012
The following code runs sometimes but most of the times, it ends in an exception.
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.cluster import KMeans
url = ['//wp-content/plugins/mygallery/myfunctions/mygallerybrowser.php/91.201.64.4', '/addpost_newpoll.php/38.107.179.230', '/manager/admin/index.php/82.33.181.60', '/forecast-details.asp/85.19.205.124', '/coca-colanrcbingrantprogram.aspx/85.19.205.124', '/administrator/199.19.110.52']vectorizer = CountVectorizer(token_pattern=u'/\w+/')
X = vectorizer.fit_transform(url)
km = KMeans(k=3,init='random',max_iter=100,verbose=1,n_init=1)km.fit(X)
The following error is returned:
Traceback (most recent call last):
File "test.py", line 10, in
km.fit(X)
File "/usr/local/lib/python2.7/dist-packages/sklearn/cluster/k_means_.py", line 735, in fit
n_jobs=self.n_jobs)
File "/usr/local/lib/python2.7/dist-packages/sklearn/cluster/k_means_.py", line 265, in k_means
x_squared_norms=x_squared_norms, random_state=random_state)
File "/usr/local/lib/python2.7/dist-packages/sklearn/cluster/k_means_.py", line 380, in _kmeans_single
centers = centers(X, labels, k, distances)
File "/usr/local/lib/python2.7/dist-packages/sklearn/cluster/k_means.py", line 507, in _centers
centers[center_id] = X[far_from_centers[reallocated_idx]]
ValueError: setting an array element with a sequence.
I am using scikit-learn version 0.11