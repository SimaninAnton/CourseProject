Contributor
rasbt commented on Oct 17, 2016 â€¢
edited
Description
AttributeError: type object 'sklearn.neighbors.ball_tree.BallTree' has no attribute 'valid_metrics' when importing KNearestNeighborsClassifier
Steps/Code to Reproduce
from sklearn.neighbors import KNeighborsClassifier
Expected Results
Shouldn't throw an AttributeError
Actual Results
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-4-ca19e490c6ec> in <module>()
----> 1 from sklearn.neighbors import KNeighborsClassifier

/Users/Sebastian/miniconda3/lib/python3.5/site-packages/sklearn/neighbors/__init__.py in <module>()
      7 from .kd_tree import KDTree
      8 from .dist_metrics import DistanceMetric
----> 9 from .graph import kneighbors_graph, radius_neighbors_graph
     10 from .unsupervised import NearestNeighbors
     11 from .classification import KNeighborsClassifier, RadiusNeighborsClassifier

/Users/Sebastian/miniconda3/lib/python3.5/site-packages/sklearn/neighbors/graph.py in <module>()
      5 # License: BSD 3 clause (C) INRIA, University of Amsterdam
      6 
----> 7 from .base import KNeighborsMixin, RadiusNeighborsMixin
      8 from .unsupervised import NearestNeighbors
      9 

/Users/Sebastian/miniconda3/lib/python3.5/site-packages/sklearn/neighbors/base.py in <module>()
     26 from ..exceptions import DataConversionWarning
     27 
---> 28 VALID_METRICS = dict(ball_tree=BallTree.valid_metrics,
     29                      kd_tree=KDTree.valid_metrics,
     30                      # The following list comes from the

AttributeError: type object 'sklearn.neighbors.ball_tree.BallTree' has no attribute 'valid_metrics'
Versions
Darwin-16.0.0-x86_64-i386-64bit
Python 3.5.2 |Continuum Analytics, Inc.| (default, Jul 2 2016, 17:52:12)
[GCC 4.2.1 Compatible Apple LLVM 4.2 (clang-425.0.28)]
NumPy 1.11.1
SciPy 0.18.1
Scikit-Learn 0.18
PS: Uninstalled scikit-learn from miniconda and installed it via pip, having the same problem though.
_EDIT:_
Uninstalled sklearn 0.18 and installed 0.17; everything works fine now. I guess it's somehow related to some change in 0.18.