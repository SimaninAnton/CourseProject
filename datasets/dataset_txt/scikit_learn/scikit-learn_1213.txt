Santosh-Gupta commented on Jul 23, 2018 â€¢
edited
I am unable to import manifold if scikit-learn is installed directly from github in Google Colaboratory.
Here is my code
#create seperate folder to install scikit-learn
if not os.path.exists('MODEL7'):
    os.makedirs('MODEL7')

#install scikit-learn directly from github directly to new folder
!pip install -t ./MODEL7 https://github.com/scikit-learn/scikit-learn/archive/master.zip

#reload and import TSNE specifically from new folder
import importlib
import MODEL7.sklearn.manifold
importlib.reload(MODEL7.sklearn.manifold)
from MODEL7.sklearn.manifold import TSNE
This is the error I get
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-58-d1b89c7ee7c9> in <module>()
      1 import importlib
----> 2 import MODEL6.sklearn.manifold
      3 importlib.reload(MODEL6.sklearn.manifold)
      4 from MODEL6.sklearn.manifold import TSNE

/content/MODEL6/sklearn/manifold/__init__.py in <module>()
      3 """
      4 
----> 5 from .locally_linear import locally_linear_embedding, LocallyLinearEmbedding
      6 from .isomap import Isomap
      7 from .mds import MDS, smacof

/content/MODEL6/sklearn/manifold/locally_linear.py in <module>()
     15 from ..utils.validation import check_is_fitted
     16 from ..utils.validation import FLOAT_DTYPES
---> 17 from ..neighbors import NearestNeighbors
     18 
     19 

/content/MODEL6/sklearn/neighbors/__init__.py in <module>()
      7 from .kd_tree import KDTree
      8 from .dist_metrics import DistanceMetric
----> 9 from .graph import kneighbors_graph, radius_neighbors_graph
     10 from .unsupervised import NearestNeighbors
     11 from .classification import KNeighborsClassifier, RadiusNeighborsClassifier

/content/MODEL6/sklearn/neighbors/graph.py in <module>()
      5 # License: BSD 3 clause (C) INRIA, University of Amsterdam
      6 
----> 7 from .base import KNeighborsMixin, RadiusNeighborsMixin
      8 from .unsupervised import NearestNeighbors
      9 

/content/MODEL6/sklearn/neighbors/base.py in <module>()
     19 from .kd_tree import KDTree
     20 from ..base import BaseEstimator
---> 21 from ..metrics import pairwise_distances_chunked
     22 from ..metrics.pairwise import PAIRWISE_DISTANCE_FUNCTIONS
     23 from ..utils import check_X_y, check_array, _get_n_jobs, gen_even_slices

/content/MODEL6/sklearn/metrics/__init__.py in <module>()
      5 
      6 
----> 7 from .ranking import auc
      8 from .ranking import average_precision_score
      9 from .ranking import coverage_error

/content/MODEL6/sklearn/metrics/ranking.py in <module>()
     34 from ..utils.sparsefuncs import count_nonzero
     35 from ..exceptions import UndefinedMetricWarning
---> 36 from ..preprocessing import label_binarize
     37 
     38 from .base import _average_binary_score

/content/MODEL6/sklearn/preprocessing/__init__.py in <module>()
      4 """
      5 
----> 6 from ._function_transformer import FunctionTransformer
      7 
      8 from .data import Binarizer

/content/MODEL6/sklearn/preprocessing/_function_transformer.py in <module>()
      3 from ..base import BaseEstimator, TransformerMixin
      4 from ..utils import check_array
----> 5 from ..utils.testing import assert_allclose_dense_sparse
      6 from ..externals.six import string_types
      7 

/content/MODEL6/sklearn/utils/testing.py in <module>()
     48 from sklearn.externals import joblib
     49 from sklearn.utils.fixes import signature
---> 50 from sklearn.utils import deprecated, IS_PYPY
     51 
     52 

ImportError: cannot import name 'IS_PYPY'

---------------------------------------------------------------------------
NOTE: If your import is failing due to a missing package, you can
manually install dependencies using either !pip or !apt.

To view examples of installing some common dependencies, click the
"Open Examples" button below.
---------------------------------------------------------------------------
If I use the 0.19.X version instead of master, it imports manifold just fine with no errors.
ie:
!pip install -t ./MODEL8 https://github.com/Santosh-Gupta/scikit-learn/archive/0.19.X.zip