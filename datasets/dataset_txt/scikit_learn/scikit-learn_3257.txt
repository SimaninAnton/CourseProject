Member
amueller commented on Jan 19, 2016
This doesn't give a helpful error message:
from sklearn.metrics.cluster import silhouette_score
import numpy as np
random_state = np.random.RandomState(seed=0)
random_clusters = random_state.randint(low=0, high=2, size=len(X))
random_clusters2 = random_state.randint(low=0, high=2, size=len(X))

silhouette_score(random_clusters2, random_clusters)
IndexError: index 3 is out of bounds for axis 1 with size 1
The error is that silhouette_score takes the data as an input, not a true labeling.
It gives these warnings:
/home/andy/checkout/scikit-learn/sklearn/utils/validation.py:397: DeprecationWarning: Passing 1d arrays as data is deprecated in 0.17 and will raise ValueError in 0.19. Reshape your data either using X.reshape(-1, 1) if your data has a single feature or X.reshape(1, -1) if it contains a single sample.
  array = array.astype(np.float64)
/home/andy/checkout/scikit-learn/sklearn/metrics/cluster/unsupervised.py:193: VisibleDeprecationWarning: boolean index did not match indexed array along dimension 0; dimension is 1 but corresponding boolean dimension is 200
  a = np.mean(distances_row[mask])
so in 0.19 it will raise an error because the first input is 1d. I'd like to have a better error for 0.18 though.