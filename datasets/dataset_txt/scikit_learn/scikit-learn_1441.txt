Contributor
mohamed-ali commented on Apr 6, 2018
Each time we push a change to the documentation, Travis and AppVeyor CIs are triggered. This causes an extended waiting time for contributors and wastes computation resources that can be freed-up for other PRs.
We can optimize this behavior by canceling the CIs if the commits concern only the doc/ folder, which can be achieved as follows:
In AppVeyor:
skip_commits:
  files:
    - doc/*
    - '*.md'
In Travis:
before_install:
- |
    set -e
    # fail loudly when force-pushed
    MODIFIED_FILES=$(git diff --name-only $TRAVIS_COMMIT_RANGE)
    # waiting for native solution https://github.com/travis-ci/travis-ci/issues/6301
    if ! echo ${MODIFIED_FILES} | grep -qvE '(\.md$)|(^doc)/'; then
      echo "Only docs were updated, stopping build process."
      exit
    fi
So I want to hear your thoughts about this before I submit a PR.