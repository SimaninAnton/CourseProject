Contributor
mbillingr commented on Jul 29, 2019
Description
The code to align cluster centers in Comparison of the K-Means and MiniBatchKMeans clustering algorithms uses np.sort to sort the centers, which mixes up x and y coordinates.
This came up on StackOverflow.
Steps/Code to Reproduce
The script output looks correct, but this is actually a coincidence.
Expected Results
The relevant part of the example code looks like this:
# We want to have the same colors for the same cluster from the
# MiniBatchKMeans and the KMeans algorithm. Let's pair the cluster centers per
# closest one.
k_means_cluster_centers = np.sort(k_means.cluster_centers_, axis=0)
mbk_means_cluster_centers = np.sort(mbk.cluster_centers_, axis=0)
Actual Results
The relevant part of the example code should probably look like this:
k_means_cluster_centers = k_means.cluster_centers_
mbk_order = pairwise_distances_argmin(k_means.cluster_centers_, mbk.cluster_centers_)
mbk_means_cluster_centers = mbk.cluster_centers_[mbk_order]
Versions
This code was introduced in ad758d2.