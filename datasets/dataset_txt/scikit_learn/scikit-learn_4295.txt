Member
ogrisel commented on Jul 28, 2014
Some tests use with warnings.catch_warnings to check that warning is raised without calling sklearn.utils.testing.clean_warning_registry() first.
As Python can decide to not raise the same warning twice it makes those tests sensitives to test suite ordering and complicated to understand in case of failure.
We should review all the existing tests to ensure that we call clean_warning_registry explicitly or even use sklearn.utils.testing.assert_warns* instead of a manual with block.
The list of tests to review can be found with:
$ git grep -C 3 "with warnings.catch_warnings" | grep -e "test_"