1313e commented on Nov 23, 2018
My problem is really simple: Executing pip install scikit-learn will fail if NumPy is currently not installed.
This is causing all my builds on Travis CI to fail.
The error I get starts off with
Searching for scikit-learn>=0.19.1
Reading https://pypi.org/simple/scikit-learn/
Downloading https://files.pythonhosted.org/packages/1a/7c/da34889e0a58e801675af88bc6e0dd1fcb4b01d26d1b437eb15df85b50a6/scikit-learn-0.20.1.tar.gz#sha256=fa1869c18fef812e321b9ed875519daefb3a7ea016ba1392526d231a7994e81c
Best match: scikit-learn 0.20.1
Processing scikit-learn-0.20.1.tar.gz
Writing /tmp/easy_install-pcxxsgx0/scikit-learn-0.20.1/setup.cfg
Running scikit-learn-0.20.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-pcxxsgx0/scikit-learn-0.20.1/egg-dist-tmp-n6srtehz
Partial import of sklearn during the build process.
/home/travis/virtualenv/python3.7.1/lib/python3.7/site-packages/numpy/distutils/system_info.py:625: UserWarning: 
    Atlas (http://math-atlas.sourceforge.net/) libraries not found.
    Directories to search for the libraries can be specified in the
    numpy/distutils/site.cfg file (section [atlas]) or by setting
    the ATLAS environment variable.
  self.calc_info()
/home/travis/virtualenv/python3.7.1/lib/python3.7/site-packages/numpy/distutils/system_info.py:625: UserWarning: 
    Blas (http://www.netlib.org/blas/) libraries not found.
    Directories to search for the libraries can be specified in the
    numpy/distutils/site.cfg file (section [blas]) or by setting
    the BLAS environment variable.
  self.calc_info()
/home/travis/virtualenv/python3.7.1/lib/python3.7/site-packages/numpy/distutils/system_info.py:625: UserWarning: 
    Blas (http://www.netlib.org/blas/) sources not found.
    Directories to search for the sources can be specified in the
    numpy/distutils/site.cfg file (section [blas_src]) or by setting
    the BLAS_SRC environment variable.
  self.calc_info()
sklearn/setup.py:73: UserWarning: 
    Blas (http://www.netlib.org/blas/) libraries not found.
    Directories to search for the libraries can be specified in the
    numpy/distutils/site.cfg file (section [blas]) or by setting
    the BLAS environment variable.
  warnings.warn(BlasNotFoundError.__doc__)
after which it starts pointing out lots of errors in the CBLAS configuration and ultimately cut off the entire package installation process.
This morning, I was not getting this problem, probably because v0.20.1 was not on PyPI yet.
The used versions of all other packages are still the same.