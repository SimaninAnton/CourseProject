Member
jnothman commented on Jun 23, 2016
As peripherally reported at #6924, there can be some small doctest failures in one tutorial:
Doctest: unsupervised_learning.rst ... ok
Doctest: working_with_text_data.rst ... /home/moose/GitHub/scikit-learn/doc/tutorial/text_analytics/working_with_text_data.rst:1: VisibleDeprecationWarning: converting an array with ndim > 0 to an index will result in an error in the future
  .. _text_data_tutorial:
FAIL

======================================================================
FAIL: Doctest: working_with_text_data.rst
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/doctest.py", line 2226, in runTest
    raise self.failureException(self.format_failure(new.getvalue()))
AssertionError: Failed doctest test for working_with_text_data.rst
  File "/home/moose/GitHub/scikit-learn/doc/tutorial/text_analytics/working_with_text_data.rst", line 0

----------------------------------------------------------------------
File "/home/moose/GitHub/scikit-learn/doc/tutorial/text_analytics/working_with_text_data.rst", line 99, in working_with_text_data.rst
Failed example:
    twenty_train = fetch_20newsgroups(subset='train',
        categories=categories, shuffle=True, random_state=42)
Expected nothing
Got:
    Downloading 20news dataset. This may take a few minutes.
----------------------------------------------------------------------
File "/home/moose/GitHub/scikit-learn/doc/tutorial/text_analytics/working_with_text_data.rst", line 452, in working_with_text_data.rst
Failed example:
    gs_clf.best_score_
Expected:
    0.900...
Got:
    0.90000000000000002

>>  raise self.failureException(self.format_failure(<StringIO.StringIO instance at 0x7fb149ea1d88>.getvalue()))

-------------------- >> begin captured logging << --------------------
sklearn.datasets.twenty_newsgroups: WARNING: Downloading dataset from http://people.csail.mit.edu/jrennie/20Newsgroups/20news-bydate.tar.gz (14 MB)
sklearn.datasets.twenty_newsgroups: INFO: Decompressing /home/moose/scikit_learn_data/20news_home/20news-bydate.tar.gz
--------------------- >> end captured logging << ---------------------

----------------------------------------------------------------------
Ran 38 tests in 43.950s

FAILED (SKIP=3, failures=1)
Makefile:40: recipe for target 'test-doc' failed