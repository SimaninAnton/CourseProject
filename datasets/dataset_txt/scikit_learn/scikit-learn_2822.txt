Member
MechCoder commented on Aug 25, 2016 â€¢
edited by amueller
Description
check_array does not work well with "MockDataFrame" when dtypes are provided. It returns a TypeError.
Steps/Code to Reproduce
import pandas as pd
from sklearn.utils.mocking import MockDataFrame
import numpy as np
from sklearn.utils.validation import check_array

y_pr = np.array([[0.2, 0.7], [0.6, 0.5], [0.4, 0.1], [0.7, 0.2]])
check_array(pd.DataFrame(y_pr), dtype=np.float32)
md = MockDataFrame(y_pr)
check_array(md, dtype=np.float32)
[@amueller edited to make it actually copy-pasteable]
Expected Results
I would expect no errors.