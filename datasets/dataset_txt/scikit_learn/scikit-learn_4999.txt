j-planet commented on Feb 1, 2013
I wrote a very simple class to fill in missing values in an array. And used it in a pipe (along with an estimator), which is used by GridSearchCV. It works fine when only one thread is running. However, when GridSearchCV(..., n_jobs=2) is run, the following error occurred:
Traceback (most recent call last):
File "C:\Python27\lib\threading.py", line 552, in *bootstrap_inner
self.run()
File "C:\Python27\lib\threading.py", line 505, in run
self.__target(_self.__args, _self.__kwargs)
File "C:\Python27\lib\multiprocessing\pool.py", line 313, in _handle_tasks
put(task)
PicklingError: Can't pickle <type 'function'>: attribute lookup __builtin.function failed
Here's the class I wrote:
fills in missing values in an array
class MissingValueFiller(BaseEstimator, TransformerMixin):
def init(self, method='mean'):
self.method = method
def fit(self, X, y=None, **params):
    return self

def transform(self, X, **params):
    return fillInMissingValues(X, self.method)

def fit_transform(self, X, y=None, **params):
    return self.transform(X)