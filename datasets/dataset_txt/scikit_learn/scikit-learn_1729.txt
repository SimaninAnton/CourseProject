banianzr commented on Nov 25, 2017
Description
Hi,
When referencing docs: http://scikit-learn.org/stable/modules/generated/sklearn.neighbors.BallTree.html
Query for neighbors within a given radius
import numpy as np
np.random.seed(0)
X = np.random.random((10, 3))  # 10 points in 3 dimensions
tree = BallTree(X, leaf_size=2)     
print(tree.query_radius(X[0], r=0.3, count_only=True))
It is expected to return count of neighbors within a given radius, while I got an ValueError:
ValueError: Expected 2D array, got 1D array instead:
array=[ 0.15896958 0.11037514 0.65632959].
Reshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.
It seems query_radius() is designed to query a list of points so I need to replace
print(tree.query_radius(X[0], r=0.3, count_only=True))
to
print(tree.query_radius([X[0]], r=0.3, count_only=True))
So either the method designation or document makes mistakes.