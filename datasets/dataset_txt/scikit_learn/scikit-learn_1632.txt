volj1 commented on Jan 8, 2018
StratifiedShuffleSplit.split generates an error "The least populated class in y has only 1 member, which is too few. The minimum number of groups for any class cannot be less than 2" not when the label (column in a multilabel array) is unique, but when the multilabel combination (row in a multilabel array) is unique. Which is obviously wrong.
Steps/Code to Reproduce:
from sklearn.model_selection import StratifiedShuffleSplit

data_x = [1,2,3]
data_y = [[1,1], [0,1], [1,0]]
stratified_split = StratifiedShuffleSplit(n_splits=2, test_size=0.50)
x, y = stratified_split.split(data_x, data_y)
Windows-10-10.0.16299-SP0
Python 3.6.4 | packaged by conda-forge | (default, Dec 24 2017, 10:11:43) [MSC v.1900 64 bit (AMD64)]
NumPy 1.13.3
SciPy 0.19.1
Scikit-Learn 0.19.1