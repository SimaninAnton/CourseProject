StevenLOL commented on Jan 18, 2018 â€¢
edited
KNeighborsRegressor n_jobs doesn't work in jupter notebook docker.
In the following code, set n_jobs=8 will cause cpu usage/process reach 100% not the 800% as expteced. Xgboost works well here and could yield 800% cpu usage
model=KNeighborsRegressor(n_neighbors=10,n_jobs=8)
model.fit(trainx,trainy)
predicts=model.predict(devx)
jupyter 4.4.0
python 3.5.2
numpy 1.14.0
scipy 1.0.0
nvidia-docker Docker version 17.12.0-ce, build c97c6d6
#cat /proc/cpuinfo | grep 'core id'
core id         : 0
core id         : 0
...
core id         : 12
core id         : 12
# nproc
40
#lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu 16.04.3 LTS
Release: 16.04
Codename: xenial