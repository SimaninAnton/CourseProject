Contributor
erg commented on Aug 16, 2012
clf = DecisionTreeClassifier(min_samples_split=20,
                                 min_samples_leaf=5,
                                 max_features=None)



shape X (3220, 3375)
shape y (3220,)
calling clf.fit(X,y)
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
Exception ValueError: ValueError('Attempting to find a split with an empty sample_mask',) in 'sklearn.tree._tree.Tree.recursive_partition' ignored
I tested this with the current git version. Using cython 0.16, the problem goes away.
Broken:
sudo make clean && sudo python2 setup.py install
Fixed:
sudo make clean && make cython && sudo python2 setup.py install