eugeneai commented on Sep 16, 2016 â€¢
edited
Hi!
Description
Trying the following code the produced file loosing its final characters (closing "]", ";", and "}").
tree.export_graphviz(
            clf,
            out_file=open(fnexport, "w"),
            feature_names=param_coding.source_coding(),
            class_names=target_coding.target_coding(),
            # filled=True,
            # rounded=True,
            special_characters=True)
The matter is that out_file is supplied an already open file, which is not explicitly closed. This might be a Python bug. Adding flush at the end of export_graphviz solves the issue.
Steps/Code to Reproduce
Not needed, I have a pull request #7443.
Good luck,
Evgeny