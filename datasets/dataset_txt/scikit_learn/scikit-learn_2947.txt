Contributor
LeonieBorne commented on Jun 17, 2016 â€¢
edited
Hi,
When I use the RadiusNeighborsClassifier with an outlier class, I get this message :
Traceback (most recent call last):

  File "<ipython-input-238-0224ec628811>", line 17, in <module>
    scores.append(clf.score(X_test, y_test))

  File "/volatile/anaconda2/lib/python2.7/site-packages/sklearn/base.py", line 310, in score
    return accuracy_score(y, self.predict(X), sample_weight=sample_weight)

  File "/volatile/anaconda2/lib/python2.7/site-packages/sklearn/neighbors/classification.py", line 379, in predict
    in zip(pred_labels[inliers], weights)],

  File "/volatile/anaconda2/lib/python2.7/site-packages/sklearn/utils/extmath.py", line 404, in weighted_mode
    w = np.zeros(a.shape, dtype=w.dtype) + w

ValueError: operands could not be broadcast together with shapes (101,) (82,) 
I'm wondering if the line in zip(pred_labels[inliers], weights)]needs to be replaced with in zip(pred_labels[inliers], weights[inliers])].
I'm using the version 0.17.1 of sklearn.