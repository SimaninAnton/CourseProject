yankelevich-dima commented on Jan 17, 2018
Description
AttributeError thrown when calling __len__ function in not fited RandomForestClasssifier
This might be due this commit. Please make sure that removing estimators_ attribute will not affect on actions over unfitted classifiers.
Steps/Code to Reproduce
from sklearn.ensemble import RandomForestClassifier

clf = RandomForestClassifier()

clf or 1
Expected Results
No error is thrown.
Actual Results
AttributeError                            Traceback (most recent call last)
<ipython-input-7-26638e4a92bd> in <module>()
      3 clf = RandomForestClassifier()
      4 
----> 5 clf or 1

/opt/conda/lib/python3.6/site-packages/sklearn/ensemble/base.py in __len__(self)
    137     def __len__(self):
    138         """Returns the number of estimators in the ensemble."""
--> 139         return len(self.estimators_)
    140 
    141     def __getitem__(self, index):

AttributeError: 'RandomForestClassifier' object has no attribute 'estimators_'
Versions
Linux-4.8.0-53-generic-x86_64-with-debian-stretch-sid
Python 3.6.4 | packaged by conda-forge | (default, Dec 23 2017, 16:31:06)
[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)]
NumPy 1.14.0
SciPy 1.0.0
Scikit-Learn 0.19.1