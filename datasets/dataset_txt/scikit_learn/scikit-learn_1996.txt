Contributor
albertcthomas commented on Aug 5, 2017
Description
Currently type_of_target(y) returns 'continuous' when y = np.array([np.inf, np.inf]) or y = np.array([np.nan, np.nan]).
LabelBinarizer().fit is sometimes called before check_X_y in the fit method of an estimator (such as RidgeClassifier) and thus does not return the wanted error message when an array containing inf or NaN values is passed as an argument.
Should we raise a ValueError with an assert_all_finite(y) in type_of_target?
Steps/Code to Reproduce
import numpy as np
from sklearn.utils.multiclass import type_of_target

y_1 = np.array([np.inf, np.inf])
print(type_of_target(y_1))

y_2 = np.array([np.nan, np.nan])
print(type_of_target(y_2))