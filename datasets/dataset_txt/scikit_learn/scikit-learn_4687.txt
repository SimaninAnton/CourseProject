Member
jnothman commented on Aug 22, 2013
Occasionally I am annoyed by output from scikit-learn that munges words together due to multi-line string continuations in the code that forget to include whitespace.
Here's a collection of them to fix. With a review it should be possible to correct them automatically and then adjust for PEP8:
$ git grep -nEA1 "([^ n]|[^\\]n)['\"]\s*$" | grep -B1 "^[^-]*\.py-[0-9]\+-\s*['\"][^ ]"
benchmarks/bench_random_projections.py:104:                  help="Size of the random subspace."
benchmarks/bench_random_projections.py-105-                       "('auto' or int > 0)")
--
benchmarks/bench_random_projections.py:121:                  help="Density used by the sparse random projection."
benchmarks/bench_random_projections.py-122-                       "('auto' or float (0.0, 1.0]")
--
doc/sphinxext/gen_rst.py:205:                raise ValueError('You have to use relative=True for the local'
doc/sphinxext/gen_rst.py-206-                                 'package on a Windows system.')
--
examples/applications/plot_out_of_core_classification.py:137:    DOWNLOAD_URL = ('http://archive.ics.uci.edu/ml/machine-learning-databases/'
examples/applications/plot_out_of_core_classification.py-138-                    'reuters21578-mld/reuters21578.tar.gz')
--
examples/document_clustering.py:93:              help="Maximum number of features (dimensions)"
examples/document_clustering.py-94-                   "to extract from text.")
--
sklearn/cluster/bicluster/spectral.py:430:                             " n_components, but {} >  {}"
sklearn/cluster/bicluster/spectral.py-431-                             "".format(self.n_best, self.n_components))
--
sklearn/cluster/k_means_.py:943:            'Minibatch iteration %d/%d:'
sklearn/cluster/k_means_.py-944-            'mean batch inertia: %f, ewa inertia: %f ' % (
--
sklearn/covariance/graph_lasso_.py:213:            warnings.warn('graph_lasso: did not converge after %i iteration:'
sklearn/covariance/graph_lasso_.py-214-                          'dual gap: %.3e' % (max_iter, d_gap),
--
sklearn/covariance/robust_covariance.py:140:            print("Optimal couple (location, covariance) found before"
sklearn/covariance/robust_covariance.py-141-                  "ending iterations (%d left)" % (remaining_iterations))
--
sklearn/cross_validation.py:250:                ("Cannot have number of folds n_folds={0} greater"
sklearn/cross_validation.py-251-                 "than the number of samples: {1}.").format(n_folds, n))
--
sklearn/datasets/covtype.py:30:URL = ('http://archive.ics.uci.edu/ml/'
sklearn/datasets/covtype.py-31-       'machine-learning-databases/covtype/covtype.data.gz')
--
sklearn/datasets/lfw.py:120:        raise ImportError("The Python Imaging Library (PIL)"
sklearn/datasets/lfw.py-121-                          "is required to load data from jpeg files")
--
sklearn/datasets/samples_generator.py:121:        raise ValueError("n_classes * n_clusters_per_class must"
sklearn/datasets/samples_generator.py-122-                         "be smaller or equal 2 ** n_informative")
--
sklearn/datasets/twenty_newsgroups.py:66:URL = ("http://people.csail.mit.edu/jrennie/"
sklearn/datasets/twenty_newsgroups.py-67-       "20Newsgroups/20news-bydate.tar.gz")
--
sklearn/ensemble/gradient_boosting.py:730:        warn("The oob_score_ argument is replaced by oob_improvement_"
sklearn/ensemble/gradient_boosting.py-731-             "as of version 0.14 and will be removed in 0.16.",
--
sklearn/externals/joblib/numpy_pickle.py:70:        "Incorrect data length while decompressing %s."
sklearn/externals/joblib/numpy_pickle.py-71-        "The file could be corrupted." % file_handle)
--
sklearn/externals/joblib/parallel.py:480:                    raise ImportError('[joblib] Attempting to do parallel computing'
sklearn/externals/joblib/parallel.py-481-                            'without protecting your import on a system that does '
--
sklearn/externals/joblib/parallel.py:484:                            "__name__ == '__main__'"
sklearn/externals/joblib/parallel.py-485-                            '". Please see the joblib documentation on Parallel '
--
sklearn/feature_extraction/tests/test_text.py:779:        "\xd0\xbe\xd1\x80\xd0\xb8\xd1\x82\xd0\xbc\xd0\xbe\xd0\xb2, \xd1\x81"
sklearn/feature_extraction/tests/test_text.py-780-        "\xd0\xbf\xd0\xbe\xd1\x81\xd0\xbe\xd0\xb1\xd0\xbd\xd1\x8b\xd1\x85 "
sklearn/feature_extraction/tests/test_text.py:781:        "\xd0\xbe\xd0\xb1\xd1\x83\xd1\x87\xd0\xb0\xd1\x82\xd1\x8c\xd1\x81\xd1"
sklearn/feature_extraction/tests/test_text.py-782-        "\x8f.")
--
sklearn/linear_model/ridge.py:1020:            warnings.warn("'class_weight' is now an initialization parameter."
sklearn/linear_model/ridge.py-1021-                          "Using it in the 'fit' method is deprecated and "
--
sklearn/linear_model/stochastic_gradient.py:386:            warnings.warn("Using 'class_weight' as a parameter to the 'fit'"
sklearn/linear_model/stochastic_gradient.py-387-                          "method is deprecated and will be removed in 0.13. "
--
sklearn/manifold/mds.py:378:            warnings.warn("The MDS API has changed. ``fit`` now constructs an"
sklearn/manifold/mds.py-379-                          "dissimilarity matrix from data. To use a custom "
--
sklearn/metrics/metrics.py:114:        raise ValueError("Can't handle mix of {0} and {1}"
sklearn/metrics/metrics.py-115-                         "".format(type_true, type_pred))
--
sklearn/metrics/metrics.py:843:            "'zero_one_loss' and will be removed in release 0.15."
sklearn/metrics/metrics.py-844-            "Default behavior is changed from 'normalize=False' to "
--
sklearn/metrics/metrics.py:1496:                             "not meaningful outside of multilabel"
sklearn/metrics/metrics.py-1497-                             "classification. Use accuracy_score instead.")
--
sklearn/metrics/scorer.py:157:                 "Either use strings or score objects."
sklearn/metrics/scorer.py-158-                 "The relevant new parameter is called ''scoring''. ",
--
sklearn/metrics/scorer.py:164:                 "Either use strings or score objects."
sklearn/metrics/scorer.py-165-                 "The relevant new parameter is called ''scoring''.",
--
sklearn/metrics/tests/test_metrics.py:1239:                                err_msg="%s is not dimension shuffling"
sklearn/metrics/tests/test_metrics.py-1240-                                        "invariant" % name)
--
sklearn/mixture/gmm.py:637:            raise ValueError("'diag' covars must have shape"
sklearn/mixture/gmm.py-638-                             "(n_components, n_dim)")
--
sklearn/neighbors/base.py:611:                              "was expected. Please change the shape of y to"
sklearn/neighbors/base.py-612-                              "(n_samples, ), for example using ravel().",
--
sklearn/pipeline.py:92:                                "be transforms and implement fit and transform"
sklearn/pipeline.py-93-                                "'%s' (type %s) doesn't)" % (t, type(t)))
--
sklearn/preprocessing/label.py:404:            raise ValueError("y should be a list of label lists/tuples,"
sklearn/preprocessing/label.py-405-                             "got %r" % (y,))
--
sklearn/random_projection.py:411:                'X at fit stage had a different number of features.'
sklearn/random_projection.py-412-                '(%s != %s)' % (X.shape[1], self.components_.shape[1]))
--
sklearn/svm/base.py:157:            raise ValueError("sample_weight and X have incompatible shapes:"
sklearn/svm/base.py-158-                             "%r vs %r\n"
--
sklearn/tree/tests/test_tree.py:144:                       "Failed with {0}, criterion = {1} and score = {2}"
sklearn/tree/tests/test_tree.py-145-                       "".format(name, criterion, score))
--
sklearn/tree/tests/test_tree.py:151:                       "Failed with {0}, criterion = {1} and score = {2}"
sklearn/tree/tests/test_tree.py-152-                       "".format(name, criterion, score))
--
sklearn/tree/tests/test_tree.py:163:                    "Failed with {0}, criterion = {1} and score = {2}"
sklearn/tree/tests/test_tree.py-164-                    "".format(name, criterion, score))
--
sklearn/tree/tests/test_tree.py:172:                    "Failed with {0}, criterion = {1} and score = {2}"
sklearn/tree/tests/test_tree.py-173-                    "".format(name, criterion, score))
--
sklearn/utils/arpack.py:141:       "the same space. Please notify the authors if this error"
sklearn/utils/arpack.py-142-       "occurs.",
--
sklearn/utils/testing.py:131:    msg = ('Array not equal to tolerance rtol=%g, atol=%g:'
sklearn/utils/testing.py-132-           'actual %s, desired %s') % (rtol, atol, actual, desired)