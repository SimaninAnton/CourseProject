Unable to Serialize and Deserialize Model with customized distance function