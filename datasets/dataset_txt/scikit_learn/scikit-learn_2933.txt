jaksmid commented on Jun 30, 2016 â€¢
edited by lesteve
Hi guys,
I am following the http://scikit-learn.org/stable/developers/contributing.html#rolling-your-own-estimator tutorial for implementing your own estimator.
When checking the example MajorityClassifier using check_estimator, I get an error:
  File "/Users/smidj/.virtualenvs/emr/lib/python2.7/site-packages/sklearn/utils/estimator_checks.py", line 214, in check_estimator
    check(name, Estimator)
  File "/Users/smidj/.virtualenvs/emr/lib/python2.7/site-packages/sklearn/utils/estimator_checks.py", line 365, in check_dtype_object
    assert_raises_regex(TypeError, msg, estimator.fit, X, y)
  File "/Users/smidj/.virtualenvs/emr/lib/python2.7/site-packages/sklearn/utils/testing.py", line 110, in assert_raises_regex
    callable_obj.__name__))
AssertionError: TypeError not raised by fit
The failed estimator has a comment: # check that estimators treat dtype object as numeric if possible.
I am using Python 2.7 on Mac (in virtualenv), specifically:
Darwin-15.5.0-x86_64-i386-64bit
('Python', '2.7.11 (v2.7.11:6d1b6a68f775, Dec  5 2015, 12:54:16) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]')
('NumPy', '1.11.1')
('SciPy', '0.17.1')
It would be great to update the example or the tutorial so the check estimator passes for the example classifier.
Cheers,
Jakub