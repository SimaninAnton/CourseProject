Member
rth commented on May 18, 2018 â€¢
edited
There have been several PRs (#11100 (review), #11106) where CircleCI arbitrarly fails due to HTTP 500 errors when calling fetch_mldata('mauna-loa-atmospheric-co2'),
Partial traceback below,
Traceback (most recent call last):
  File "/home/circleci/project/examples/gaussian_process/plot_gpr_co2.py", line 75, in <module>
    data = fetch_mldata('mauna-loa-atmospheric-co2').data
  File "/home/circleci/project/sklearn/datasets/mldata.py", line 154, in fetch_mldata
    mldata_url = urlopen(urlname)
  File "/home/circleci/miniconda/envs/testenv/lib/python3.6/urllib/request.py", line 223, in urlopen
[...]

  File "/home/circleci/miniconda/envs/testenv/lib/python3.6/urllib/request.py", line 650, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 500: Internal Server Error
If this keeps repeating, a possible workaround could be,
increasing the number of download attempts in fetch_mldata
investigating the failures upstream with mldata.org
copying this particular dataset to figshare (#7425) which seems to have a better quality of service and adding a fallback URL there used if the download from the mldata website fails..