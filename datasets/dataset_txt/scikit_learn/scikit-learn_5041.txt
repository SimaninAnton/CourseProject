Contributor
kyleabeauchamp commented on Jan 9, 2013
So when diagnosing some other issues, I've found that running "make" leads to test failures approximately 30% of the time. The error is reported below. I suspect this is due to the default tolerance of np.allclose being 1E-8. I'm not sure why the test fail is random, because the random state should be fixed.
My system is Intel I7 3770, Ubuntu64 12.04, Enthought Python 7.3.
FAIL: sklearn.cluster.tests.test_spectral.test_spectral_lobpcg_mode
Traceback (most recent call last):
File "/home/kyleb/opt/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(*self.arg)
File "/home/kyleb/src/scikit-learn/sklearn/cluster/tests/test_spectral.py", line 64, in test_spectral_lobpcg_mode
random_state=0, eigen_solver="lobpcg")
File "/home/kyleb/src/scikit-learn/sklearn/cluster/spectral.py", line 265, in spectral_clustering
eigen_tol=eigen_tol, drop_first=False)
File "/home/kyleb/src/scikit-learn/sklearn/manifold/spectral_embedding.py", line 300, in spectral_embedding
largest=False, maxiter=2000)
File "/home/kyleb/opt/lib/python2.7/site-packages/scipy/sparse/linalg/eigen/lobpcg/lobpcg.py", line 434, in lobpcg
assert np.allclose( gramA.T, gramA )
AssertionError:
assert <module 'numpy' from '/home/kyleb/opt/lib/python2.7/site-packages/numpy/init.pyc'>.allclose( matri