yandrieiev commented on Mar 26, 2016
If you run the following code:
import numpy as np
from sklearn.linear_model.ridge import RidgeClassifierCV

classifier = RidgeClassifierCV(scoring='roc_auc')
x = np.array([[1, 2, 3], [3, 4, 9], [4, 9, 1], [8, 0, 4], [1, 1, 4], [1.1, 2, 4]])
y = np.array([True, False, True, False, True, False])
classifier.fit(x, y)
You get the exception: ValueError: continuous format is not supported with the stacktrace:
File "E:/myfolder/cv_issue.py", line 7, in classifier.fit(x, y)
File "E:\Anaconda2\lib\site-packages\sklearn\linear_model\ridge.py", line 1258, in fit
_BaseRidgeCV.fit(self, X, Y, sample_weight=sample_weight)
File "E:\Anaconda2\lib\site-packages\sklearn\linear_model\ridge.py", line 1022, in fit
estimator.fit(X, y, sample_weight=sample_weight)
File "E:\Anaconda2\lib\site-packages\sklearn\linear_model\ridge.py", line 965, in fit
for i in range(len(self.alphas))]
File "E:\Anaconda2\lib\site-packages\sklearn\metrics\scorer.py", line 159, in call
raise ValueError("{0} format is not supported".format(y_type))
ValueError: continuous format is not supported
But, obviously, I provided a binary output so I don't expect such error here. And if you replace RidgeClassifierCV(scoring='roc_auc') with a RidgeClassifierCV(scoring='roc_auc', cv=2), the code runs fine.
My versions:
Windows-8.1-6.3.9600
('Python', '2.7.11 |Anaconda 2.5.0 (64-bit)| (default, Jan 29 2016, 14:26:21) [MSC v.1500 64 bit (AMD64)]')
('NumPy', '1.10.4')
('SciPy', '0.17.0')
('Scikit-Learn', '0.17')