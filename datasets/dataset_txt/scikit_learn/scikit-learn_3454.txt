denfromufa commented on Nov 4, 2015
Why do I get this error on Windows when building from master?
This error appears with Microsoft Visual C++ Compiler for Python 2.7, but does not happen with libpython installed from conda.
http://www.microsoft.com/en-us/download/confirmation.aspx?id=44266
AttributeError: MSVCCompiler instance has no attribute 'compiler_cxx'
more details here:
    build_src
    building library "libsvm-skl" sources
    building library "cblas" sources
    building extension "sklearn.__check_build._check_build" sources
    building extension "sklearn.svm.libsvm" sources
    building extension "sklearn.svm.liblinear" sources
    building extension "sklearn.svm.libsvm_sparse" sources
    building extension "sklearn.datasets._svmlight_format" sources
    building extension "sklearn.feature_extraction._hashing" sources
    building extension "sklearn.cluster._dbscan_inner" sources
    building extension "sklearn.cluster._hierarchical" sources
    building extension "sklearn.cluster._k_means" sources
    building extension "sklearn.decomposition._online_lda" sources
    building extension "sklearn.decomposition.cdnmf_fast" sources
    building extension "sklearn.ensemble._gradient_boosting" sources
    building extension "sklearn.utils.sparsetools._traversal" sources
    building extension "sklearn.utils.sparsetools._graph_tools" sources
    building extension "sklearn.utils.sparsefuncs_fast" sources
    building extension "sklearn.utils.arrayfuncs" sources
    building extension "sklearn.utils.murmurhash" sources
    building extension "sklearn.utils.lgamma" sources
    building extension "sklearn.utils.graph_shortest_path" sources
    building extension "sklearn.utils.fast_dict" sources
    building extension "sklearn.utils.seq_dataset" sources
    building extension "sklearn.utils.weight_vector" sources
    building extension "sklearn.utils._random" sources
    building extension "sklearn.utils._logistic_sigmoid" sources
    building extension "sklearn.neighbors.ball_tree" sources
    building extension "sklearn.neighbors.kd_tree" sources
    building extension "sklearn.neighbors.dist_metrics" sources
    building extension "sklearn.neighbors.typedefs" sources
    building extension "sklearn.manifold._utils" sources
    building extension "sklearn.manifold._barnes_hut_tsne" sources
    building extension "sklearn.metrics.pairwise_fast" sources
    building extension "sklearn.tree._tree" sources
    building extension "sklearn.tree._splitter" sources
    building extension "sklearn.tree._criterion" sources
    building extension "sklearn.tree._utils" sources
    building extension "sklearn.metrics/cluster.expected_mutual_info_fast" sourc
es
    building extension "sklearn._isotonic" sources
    building extension "sklearn.linear_model.cd_fast" sources
    building extension "sklearn.linear_model.sgd_fast" sources
    building extension "sklearn.linear_model.sag_fast" sources
    building extension "sklearn.utils.sparsetools._traversal" sources
    building extension "sklearn.utils.sparsetools._graph_tools" sources
    building extension "sklearn.utils.sparsefuncs_fast" sources
    building extension "sklearn.utils.arrayfuncs" sources
    building extension "sklearn.utils.murmurhash" sources
    building extension "sklearn.utils.lgamma" sources
    building extension "sklearn.utils.graph_shortest_path" sources
    building extension "sklearn.utils.fast_dict" sources
    building extension "sklearn.utils.seq_dataset" sources
    building extension "sklearn.utils.weight_vector" sources
    building extension "sklearn.utils._random" sources
    building extension "sklearn.utils._logistic_sigmoid" sources
    building data_files sources
    build_src: building npy-pkg config files
    running build_py
    running build_clib
    customize MSVCCompiler
    Partial import of sklearn during the build process.
    C:\Python\Miniconda\lib\site-packages\numpy\distutils\system_info.py:635: Us
erWarning: Specified path C:/Program Files (x86)/Intel/Composer XE/mkl/lib/ia32
is invalid.
      warnings.warn('Specified path %s is invalid.' % d)
    C:\Python\Miniconda\lib\site-packages\numpy\distutils\system_info.py:635: Us
erWarning: Specified path C:/Program Files (x86)/Intel/Composer XE/compiler/lib/
ia32 is invalid.
      warnings.warn('Specified path %s is invalid.' % d)
    C:\Python\Miniconda\lib\site-packages\numpy\distutils\system_info.py:635: Us
erWarning: Specified path C:/Program Files (x86)/Intel/Composer XE/mkl/include i
s invalid.
      warnings.warn('Specified path %s is invalid.' % d)
    C:\Python\Miniconda\lib\site-packages\numpy\distutils\system_info.py:1651: U
serWarning:
        Atlas (http://math-atlas.sourceforge.net/) libraries not found.
        Directories to search for the libraries can be specified in the
        numpy/distutils/site.cfg file (section [atlas]) or by setting
        the ATLAS environment variable.
      warnings.warn(AtlasNotFoundError.__doc__)
    C:\Python\Miniconda\lib\site-packages\numpy\distutils\system_info.py:1660: U
serWarning:
        Blas (http://www.netlib.org/blas/) libraries not found.
        Directories to search for the libraries can be specified in the
        numpy/distutils/site.cfg file (section [blas]) or by setting
        the BLAS environment variable.
      warnings.warn(BlasNotFoundError.__doc__)
    C:\Python\Miniconda\lib\site-packages\numpy\distutils\system_info.py:1663: U
serWarning:
        Blas (http://www.netlib.org/blas/) sources not found.
        Directories to search for the sources can be specified in the
        numpy/distutils/site.cfg file (section [blas_src]) or by setting
        the BLAS_SRC environment variable.
      warnings.warn(BlasSrcNotFoundError.__doc__)
    sklearn\setup.py:69: UserWarning:
        Blas (http://www.netlib.org/blas/) libraries not found.
        Directories to search for the libraries can be specified in the
        numpy/distutils/site.cfg file (section [blas]) or by setting
        the BLAS environment variable.
      warnings.warn(BlasNotFoundError.__doc__)
    Traceback (most recent call last):
      File "<string>", line 1, in <module>
      File "c:\users\testla~1.mul\appdata\local\temp\pip-efjgms-build\setup.py",
 line 247, in <module>
        setup_package()
      File "c:\users\testla~1.mul\appdata\local\temp\pip-efjgms-build\setup.py",
 line 243, in setup_package
        setup(**metadata)
      File "C:\Python\Miniconda\lib\site-packages\numpy\distutils\core.py", line
 169, in setup
        return old_setup(**new_attr)
      File "C:\Python\Miniconda\lib\distutils\core.py", line 151, in setup
        dist.run_commands()
      File "C:\Python\Miniconda\lib\distutils\dist.py", line 953, in run_command
s
        self.run_command(cmd)
      File "C:\Python\Miniconda\lib\distutils\dist.py", line 972, in run_command

        cmd_obj.run()
      File "C:\Python\Miniconda\lib\site-packages\numpy\distutils\command\instal
l.py", line 62, in run
        r = self.setuptools_run()
      File "C:\Python\Miniconda\lib\site-packages\numpy\distutils\command\instal
l.py", line 36, in setuptools_run
        return distutils_install.run(self)
      File "C:\Python\Miniconda\lib\distutils\command\install.py", line 563, in
run
        self.run_command('build')
      File "C:\Python\Miniconda\lib\distutils\cmd.py", line 326, in run_command
        self.distribution.run_command(command)
      File "C:\Python\Miniconda\lib\distutils\dist.py", line 972, in run_command

        cmd_obj.run()
      File "C:\Python\Miniconda\lib\site-packages\numpy\distutils\command\build.
py", line 47, in run
        old_build.run(self)
      File "C:\Python\Miniconda\lib\distutils\command\build.py", line 127, in ru
n
        self.run_command(cmd_name)
      File "C:\Python\Miniconda\lib\distutils\cmd.py", line 326, in run_command
        self.distribution.run_command(command)
      File "C:\Python\Miniconda\lib\distutils\dist.py", line 972, in run_command

        cmd_obj.run()
      File "C:\Python\Miniconda\lib\site-packages\numpy\distutils\command\build_
clib.py", line 85, in run
        need_cxx=self.have_cxx_sources())
      File "C:\Python\Miniconda\lib\site-packages\numpy\distutils\ccompiler.py",
 line 388, in CCompiler_customize
        elif not self.compiler_cxx:
    AttributeError: MSVCCompiler instance has no attribute 'compiler_cxx'

    ----------------------------------------
  Rolling back uninstall of scikit-learn
Command "C:\Python\Miniconda\python.exe -c "import setuptools, tokenize;__file__
='c:\\users\\testla~1.mul\\appdata\\local\\temp\\pip-efjgms-build\\setup.py';exe
c(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\r\n', '\n')
, __file__, 'exec'))" install --record c:\users\testla~1.mul\appdata\local\temp\
pip-zktp4c-record\install-record.txt --single-version-externally-managed --compi
le" failed with error code 1 in c:\users\testla~1.mul\appdata\local\temp\pip-efj
gms-build