Contributor
drorata commented on Jun 15, 2017
Description
Unclear documentation on OneHotEncoder
Steps/Code to Reproduce
import pandas as pd
import numpy as np
from sklearn.preprocessing import OneHotEncoder
OneHotEncoder().fit_transform(np.array([1,-2]).reshape(-1,1)).toarray()
Expected Results
The documentation suggests that the inputs are integers. Thus, expected result is:
array([[ 1.,  0.],
       [ 0.,  1.]])
Actual Results
In practice, this yields an error:
   1849         X = check_array(X, dtype=np.int)
   1850         if np.any(X < 0):
-> 1851             raise ValueError("X needs to contain only non-negative integers.")
   1852         n_samples, n_features = X.shape
   1853         if (isinstance(self.n_values, six.string_types) and

ValueError: X needs to contain only non-negative integers.
The code suggests that documentation is wrong.
Versions
Darwin-16.6.0-x86_64-i386-64bit
Python 3.6.1 | packaged by conda-forge | (default, May 11 2017, 18:00:28)
[GCC 4.2.1 Compatible Apple LLVM 6.1.0 (clang-602.0.53)]
NumPy 1.12.1
SciPy 0.19.0
Scikit-Learn 0.18.1