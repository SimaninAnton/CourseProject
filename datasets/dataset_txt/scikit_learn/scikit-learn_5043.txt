Contributor
kyleabeauchamp commented on Jan 8, 2013
When you apply binarize to a sparse CSR matrix, it is possible to end up with a sparse matrix that explicitly stores some zero entries.
X2 = preprocessing.binarize(X)
Any values that are nonzero in the input X, but below the threshold will still have a X2.data entry associated with it. A previous developer noticed this and wrote the following comment:
   # FIXME: if enough values became 0, it may be worth changing
   #        the sparsity structure
To me, the current behaviour is undesirable. I prefer CSR and CSC matrices to have no zero entries explicit stored in the X2.data element. That is, X2.data stores the nonzero entries; all other entries are zero.
Because the elimination of zeros can be done in-place, (X2.eliminate_zeros()), I think it should always happen.
Thoughts?