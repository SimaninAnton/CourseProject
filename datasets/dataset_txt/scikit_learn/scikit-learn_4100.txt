Member
MechCoder commented on Dec 28, 2014
I can completely understand why this happens, but I'm not sure how to handle this. The k nearest neighbors for a sample when using mode=connectivity includes the current sample, but while using mode=distance uses k neighbors does not take into account the current sample.
>>> X = [[0], [3], [1]]
>>> from sklearn.neighbors import kneighbors_graph
>>> A = kneighbors_graph(X, 2)
>>> A.toarray()
array([[ 1.,  0.,  1.],
       [ 0.,  1.,  1.],
       [ 1.,  0.,  1.]])
>>> A = kneighbors_graph(X, 2, mode='distance')
>>> A.toarray()
array([[ 0.,  3.,  1.],
       [ 3.,  0.,  2.],
       [ 1.,  2.,  0.]]
Background: Using connected components using the distance and connectivity modes, give different results.