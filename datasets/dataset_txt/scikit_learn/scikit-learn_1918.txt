hellocomrade commented on Sep 6, 2017 â€¢
edited
Description
I'd like to do a cross_val_score on a pipeline and got the following error:
File "spacy/syntax/parser.pyx", line 180, in spacy.syntax.parser.Parser.__init__ (spacy/syntax/parser.cpp:7995)
TypeError: 'spacy.syntax.arc_eager.ArcEager' object is not callable
Since I am a newbie to scikit-learn, it's possible this could be my own mistake. Anyway, I post here to see if anyone could shed some light.
Thanks a lot!
P.S., I just tried GridSearchCV and got the same error...
Steps/Code to Reproduce
My code is here:
self.classifier = Pipeline([
            ('vectorizer-lemmatization-ngram', CountVectorizer(tokenizer = self.myTokenizer, ngram_range = (1, 6), analyzer = "word",
                                                               stop_words = self.my_stop_words, min_df = 2, strip_accents = 'ascii')),
            ('tfidf', TfidfTransformer(sublinear_tf = True)),
            ('multilabel-classication-linersvc', OneVsRestClassifier(LinearSVC(C = 1)))
        ])
        self.classifier.fit(xtrain, Y)
        print("Training set score: {:.2f}".format(self.classifier.score(xtrain, Y)))
        print("Testing set score: {:.2f}".format(self.classifier.score(xtest, self.mlb.fit_transform(ytest))))
        scores = cross_val_score(self.classifier, X_train, self.mlb.fit_transform(y_train_text), cv = 5)
Versions
Linux-3.10.0-514.26.2.el7.x86_64-x86_64-with-centos-7.3.1611-Core
Python 3.4.5 (default, May 29 2017, 15:17:55)
[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)]
NumPy 1.13.1
SciPy 0.19.1
Scikit-Learn 0.18.2