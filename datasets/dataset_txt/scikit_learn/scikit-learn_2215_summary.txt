Does this implementation considers precomputed distance metric ?