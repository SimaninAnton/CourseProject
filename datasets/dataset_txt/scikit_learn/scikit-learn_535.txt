weipeng commented on May 9, 2019
Description
Hi there. I was using sklearn's normalized_mutual_info_score() to compute the NMI but obtained negative value. Theoretically a negative value should not be there. Understand that NMI might be implemented by some numerical methods. But it may be embarrassing when there is a need to show the results to someone else.
The data for testing is also attached.
Thanks.
Steps/Code to Reproduce
import numpy as np
from sklearn.metrics import normalized_mutual_info_score as NMI

labels = np.load('../err_label.npy')
clusters = np.load('../err_cluster.npy')

print(NMI(clusters, labels, 'arithmetic'))
print(NMI(clusters, labels))
Expected Results
It should print 0 \n 0.
Actual Results
-9.788022565622662e-14
-3.990234375
data_for_testing.tar.gz
Versions
System:
python: 3.7.3 (default, Mar 27 2019, 22:11:17) [GCC 7.3.0]
executable: /home/kraken/miniconda3/bin/python
machine: Linux-4.19.36-1-MANJARO-x86_64-with-arch-Manjaro-Linux
BLAS:
macros: SCIPY_MKL_H=None, HAVE_CBLAS=None
lib_dirs: /home/kraken/miniconda3/lib
cblas_libs: mkl_rt, pthread
Python deps:
pip: 19.1
setuptools: 41.0.1
sklearn: 0.20.3
numpy: 1.16.3
scipy: 1.2.1
Cython: 0.29.7
pandas: 0.24.2