Contributor
Jeanselme commented on Jul 9, 2019
Description
When running a GridSearchCV with inappropriate cv parameter, no warning is raised
Code to Reproduce
Example with sklearn 0.21.2:
from sklearn.model_selection import PredefinedSplit, GridSearchCV
from sklearn.ensemble import RandomForestClassifier
from sklearn.datasets import load_iris
import numpy as np

iris = load_iris()
X, y = iris.data, iris.target

cv = PredefinedSplit([0, 1, 2, 3] * 5)
GridSearchCV(RandomForestClassifier(), {'max_depth': [1,5]}, cv = cv).fit(X, y)
Expected Results
I would expect an error raised because the PredifinedSplit does not match the size of y. An error is raised by cross_val_predict in that case. I would suggest to have a similar error, except if this behavior is needed.
cross_val_predict(RandomForestClassifier(), X, y, cv = cv)

ValueError: cross_val_predict only works for partitions