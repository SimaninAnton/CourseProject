onaclov2000 commented on Oct 28, 2015
When attempting to fit KMEANS on a large numpy array for some reason I'm seeing
Traceback (most recent call last):
  File "..\School\GeorgiaTech\Assignment_3\live_pca.py", line 167, in <module>
    k_means_results('Live No Feature Selection', [X,y], [X_test, y_test], colormap = False)
  File "..\School\GeorgiaTech\Assignment_3\live_pca.py", line 60, in k_means_results
    fit_results = k_means.fit(X)
  File "C:\Python27\lib\site-packages\sklearn\cluster\k_means_.py", line 785, in fit
    X = self._check_fit_data(X)
  File "C:\Python27\lib\site-packages\sklearn\cluster\k_means_.py", line 755, in _check_fit_data
    X = check_array(X, accept_sparse='csr', dtype=np.float64)
  File "C:\Python27\lib\site-packages\sklearn\utils\validation.py", line 344, in check_array
    array = np.array(array, dtype=dtype, order=order, copy=copy)
ValueError: setting an array element with a sequence.
The data I had was roughly 246 features (binary classification so labels are 0,1, which I later compare to the KMEANS clustering result), and around 3500 instances. Input are all floats.
I was able to make the problem go away by reducing the size of my input dataset (down to 2344 instances and 246 features, but this isn't the edge case, I just pulled data till it worked, in large batches).
I'm not sure if this is a Numpy issue, or an implementation issue, where a different form of assignment is necessary (I don't know either's internals well enough to say one way or another). I can upload the data causing the problem as well as the code (which I'm sure is terrible but it is what it is).