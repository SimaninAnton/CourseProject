Member
amueller commented on Apr 26, 2012
I have a problem with a segfault in MiniBatchKMeans :-(
I have k=5000, X.shape=[1000000, 128]. If I make any of the two much smaller, the problem disappears.
Interestingly the segfault is after convergence, in the final call to _labels_inertia, inside the distance computation.
If tracer doesn't lie to me, it's inside np.dot.
This seems a bit weird.
I guess it has something to do with the dataset being that big? Before, the function was always just called for a batch. I can avoid the problem by using compute_labels=False.
Still, somewhat unsatisfactory :-/