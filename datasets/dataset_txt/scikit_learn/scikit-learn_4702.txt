rexdouglass commented on Aug 8, 2013
Short Version: SLIC worked fine on skimage 8.0, python-2.7.5, 64 bit, windows 7, installed from a binary.
Upgraded to Skimage dev yesterday, compiled from source with Microsoft Windows SDK for Windows 7.
SLIC now returns "ValueError: Buffer dtype mismatch, expected 'long' but got 'long long'"
I need dev skimage for other new functions, so is there a way to roll back just SLIC to 8.0 until this is fixed?
Example code
from skimage.data import lena
from skimage.segmentation import slic
img = img_as_float(lena()[::2, ::2])
segments_slic = slic(img, ratio=10, n_segments=250, sigma=1)
Traceback (most recent call last):
File "", line 13, in
segments_slic = slic(img, ratio=10, n_segments=250, sigma=1)
File "C:\WinPython-64bit-2.7.5.1b\python-2.7.5.amd64\lib\site-packages\scikit_image-0.9dev-py2.7-win-amd64.egg\skimage\segmentation\slic_superpixels.py", line 140, in slic
max_iter, n_segments)
File "_slic.pyx", line 17, in skimage.segmentation._slic._slic_cython (skimage\segmentation_slic.c:1947)
ValueError: Buffer dtype mismatch, expected 'long' but got 'long long'
In [24]: img = img_as_float(lena()[::2, ::2])
...: segments_slic = slic(img, ratio=10, n_segments=250, sigma=1)
Traceback (most recent call last):
File "", line 2, in
segments_slic = slic(img, ratio=10, n_segments=250, sigma=1)
File "C:\WinPython-64bit-2.7.5.1b\python-2.7.5.amd64\lib\site-packages\scikit_image-0.9dev-py2.7-win-amd64.egg\skimage\segmentation\slic_superpixels.py", line 140, in slic
max_iter, n_segments)
File "_slic.pyx", line 17, in skimage.segmentation._slic._slic_cython (skimage\segmentation_slic.c:1947)
ValueError: Buffer dtype mismatch, expected 'long' but got 'long long'
In [25]: from skimage.data import lena
...: from skimage.segmentation import slic
...: img = img_as_float(lena()[::2, ::2])
...: segments_slic = slic(img, ratio=10, n_segments=250, sigma=1)
Traceback (most recent call last):
File "", line 4, in
segments_slic = slic(img, ratio=10, n_segments=250, sigma=1)
File "C:\WinPython-64bit-2.7.5.1b\python-2.7.5.amd64\lib\site-packages\scikit_image-0.9dev-py2.7-win-amd64.egg\skimage\segmentation\slic_superpixels.py", line 140, in slic
max_iter, n_segments)
File "_slic.pyx", line 17, in skimage.segmentation._slic._slic_cython (skimage\segmentation_slic.c:1947)
ValueError: Buffer dtype mismatch, expected 'long' but got 'long long'