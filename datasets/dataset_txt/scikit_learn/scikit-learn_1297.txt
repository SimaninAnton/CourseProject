Contributor
wenhaoz-fengcai commented on Jun 21, 2018 â€¢
edited
Description
urllib.error.HTTPError: HTTP Error 500: Internal Server Error kept popping up everytime I ran make test-doc. But both make test-code and make test-sphinxext succeeded. The full error msg of running make test-doc is in Actual Results section below.
Steps/Code to Reproduce
make test-doc (from the toplevel source folder)
Expected Results
make test-doc succeeds
Actual Results
===================================================================== FAILURES ======================================================================
________________________________________________________________ [doctest] index.rst ________________________________________________________________
354 data, supported by the PASCAL network <http://www.pascal-network.org>_ .
355
356 The sklearn.datasets package is able to directly download data
357 sets from the repository using the function
358 :func:sklearn.datasets.fetch_mldata.
359
360 For example, to download the MNIST digit recognition database::
361
362 >>> from sklearn.datasets import fetch_mldata
363 >>> mnist = fetch_mldata('MNIST original', data_home=custom_data_home)
UNEXPECTED EXCEPTION: <HTTPError 500: 'Internal Server Error'>
Traceback (most recent call last):
File "/usr/lib64/python3.6/doctest.py", line 1330, in __run
compileflags, 1), test.globs)
File "<doctest index.rst[10]>", line 1, in
File "/home/dgitadmin/Dropbox/Documents/scikit-learn/sklearn/datasets/mldata.py", line 154, in fetch_mldata
mldata_url = urlopen(urlname)
File "/usr/lib64/python3.6/urllib/request.py", line 223, in urlopen
return opener.open(url, data, timeout)
File "/usr/lib64/python3.6/urllib/request.py", line 532, in open
response = meth(req, response)
File "/usr/lib64/python3.6/urllib/request.py", line 642, in http_response
'http', request, response, code, msg, hdrs)
File "/usr/lib64/python3.6/urllib/request.py", line 564, in error
result = self._call_chain(*args)
File "/usr/lib64/python3.6/urllib/request.py", line 504, in _call_chain
result = func(*args)
File "/usr/lib64/python3.6/urllib/request.py", line 756, in http_error_302
return self.parent.open(new, timeout=req.timeout)
File "/usr/lib64/python3.6/urllib/request.py", line 532, in open
response = meth(req, response)
File "/usr/lib64/python3.6/urllib/request.py", line 642, in http_response
'http', request, response, code, msg, hdrs)
File "/usr/lib64/python3.6/urllib/request.py", line 570, in error
return self._call_chain(*args)
File "/usr/lib64/python3.6/urllib/request.py", line 504, in _call_chain
result = func(*args)
File "/usr/lib64/python3.6/urllib/request.py", line 650, in http_error_default
raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 500: Internal Server Error
/home/dgitadmin/Dropbox/Documents/scikit-learn/doc/datasets/index.rst:363: UnexpectedException
============================================================== short test summary info ==============================================================
SKIP [1] /home/dgitadmin/Dropbox/Documents/scikit-learn/ENV/lib/python3.6/site-packages/_pytest/nose.py:23: Skipping dataset loading doctests
SKIP [1] /home/dgitadmin/Dropbox/Documents/scikit-learn/ENV/lib/python3.6/site-packages/_pytest/nose.py:23: Download RCV1 dataset to run this test.
SKIP [1] /home/dgitadmin/Dropbox/Documents/scikit-learn/ENV/lib/python3.6/site-packages/_pytest/nose.py:23: Skipping compose.rst, pandas not installed
=========================================== 1 failed, 39 passed, 3 skipped, 20 warnings in 39.79 seconds ============================================
make: *** [Makefile:32: test-doc] Error 1
Versions
Linux-4.16.15-300.fc28.x86_64-x86_64-with-fedora-28-Twenty_Eight
Python 3.6.5 (default, Mar 29 2018, 18:20:46)
[GCC 8.0.1 20180317 (Red Hat 8.0.1-0.19)]
NumPy 1.14.5
SciPy 1.1.0
Scikit-Learn 0.20.dev0
Pytest 3.6.2
Docutils 0.14
Sphinx 1.7.5