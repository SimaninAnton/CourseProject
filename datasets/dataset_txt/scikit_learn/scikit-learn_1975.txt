ZaferBuker commented on Aug 14, 2017
Hi everyone,
I want to use rfid rc522 and dc motor codes together.
I want to read my modular card, then rotate the engine.
my code is ;
from pirc522 import RFID
import signal
import time
import RPi.GPIO as GPIO
GPIO.setmode(GPIO.BOARD)
rdr = RFID()
util = rdr.util()
util.debug = True
while True:
rdr.wait_for_tag()
(error, data) = rdr.request()
if not error:
print("\nCard detected!")
(error, uid) = rdr.anticoll()
if not error:
# Print UID
kart_uid = str(uid[0])+" "+str(uid[1])+" "+str(uid[2])+" "+str(uid[3])+" "+str(uid[4])
print(kart_uid)
from time import sleep
Motor1A = 16
Motor1B = 18
Motor1E = 22
GPIO.setup(Motor1A,GPIO.OUT)
GPIO.setup(Motor1B,GPIO.OUT)
GPIO.setup(Motor1E,GPIO.OUT)
if kart_uid == "224 46 255 27 42":
print("The engine is turning right")
GPIO.output(Motor1A,GPIO.HIGH)
GPIO.output(Motor1B,GPIO.LOW)
GPIO.output(Motor1E,GPIO.HIGH)
sleep(5)
else:
print("The engine is turning left!")
GPIO.output(Motor1A,GPIO.LOW)
GPIO.output(Motor1B,GPIO.HIGH)
GPIO.output(Motor1E,GPIO.HIGH)
sleep(5)
print "Engine Stopped!"
GPIO.output(Motor1E, False)
GPIO.cleanup()
my error is :
/usr/local/lib/python2.7/dist-packages/pirc522/rfid.py:51: RuntimeWarning: This channel is already in use, continuing anyway. Use GPIO.setwarnings(False) to disable warnings.
GPIO.setup(pin_rst, GPIO.OUT)
thank you for your advice.