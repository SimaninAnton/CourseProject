Member
ogrisel commented on Feb 6, 2015
The following was caught by a 64 bit Windows build with Python 3.4:
======================================================================
ERROR: sklearn.tests.test_common.test_transformer_n_iter('CCA', CCA(copy=True, max_iter=500, n_components=2, scale=True, tol=1e-06))
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Python34-x64\lib\site-packages\nose\case.py", line 198, in runTest
    self.test(*self.arg)
  File "C:\Python34-x64\lib\site-packages\sklearn\utils\estimator_checks.py", line 999, in check_transformer_n_iter
    estimator.fit(X, y_)
  File "C:\Python34-x64\lib\site-packages\sklearn\cross_decomposition\pls_.py", line 329, in fit
    linalg.pinv(np.dot(self.x_loadings_.T, self.x_weights_)))
  File "C:\Python34-x64\lib\site-packages\scipy\linalg\basic.py", line 600, in pinv
    a = np.asarray_chkfinite(a)
  File "C:\Python34-x64\lib\site-packages\numpy\lib\function_base.py", line 595, in asarray_chkfinite
    "array must not contain infs or NaNs")
ValueError: array must not contain infs or NaNs
It's very rare so this might not be related to the platform nor the Python version.