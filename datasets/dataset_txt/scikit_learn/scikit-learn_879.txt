dancing-with-coffee commented on Dec 6, 2018 â€¢
edited
Description
https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html
In scikit-learn Version 0.20.1 documentation,
TfidfVectorizer can use "norm" attribute as "l1", "l2", or None, optional
But, I try to use None setting, it occurs errror.
And I checked implementation code in github, find code in
"~/preprocessing/data.py"
in Normalize function there is no option that "None" option.
Steps/Code to Reproduce
Actual Results
ValueError Traceback (most recent call last)
in ()
2
3 vectorizer = TfidfVectorizer(min_df = 10, norm='None')
----> 4 features = vectorizer.fit_transform(corpus).todense()
5
6 label_list = label_list
~/anaconda3/envs/wmd_relax/lib/python3.6/site-packages/sklearn/feature_extraction/text.py in fit_transform(self, raw_documents, y)
1605 # X is already a transformed view of raw_documents so
1606 # we set copy to False
-> 1607 return self._tfidf.transform(X, copy=False)
1608
1609 def transform(self, raw_documents, copy=True):
~/anaconda3/envs/wmd_relax/lib/python3.6/site-packages/sklearn/feature_extraction/text.py in transform(self, X, copy)
1286
1287 if self.norm:
-> 1288 X = normalize(X, norm=self.norm, copy=False)
1289
1290 return X
~/anaconda3/envs/wmd_relax/lib/python3.6/site-packages/sklearn/preprocessing/data.py in normalize(X, norm, axis, copy, return_norm)
1542 """
1543 if norm not in ('l1', 'l2', 'max'):
-> 1544 raise ValueError("'%s' is not a supported norm" % norm)
1545
1546 if axis == 0:
ValueError: 'None' is not a supported norm
Versions
System:
python: 3.6.5 |Anaconda custom (64-bit)| (default, Apr 29 2018, 16:14:56) [GCC 7.2.0]
executable: /home/delabgpu/anaconda3/envs/wmd_relax/bin/python
machine: Linux-4.4.0-87-generic-x86_64-with-debian-stretch-sid
BLAS:
macros: SCIPY_MKL_H=None, HAVE_CBLAS=None
lib_dirs: /home/delabgpu/anaconda3/envs/wmd_relax/lib
cblas_libs: mkl_rt, pthread
Python deps:
pip: 18.1
setuptools: 39.1.0
sklearn: 0.20.1
numpy: 1.14.3
scipy: 1.1.0
Cython: 0.28.2
pandas: 0.23.0