Member
amueller commented on Apr 6, 2015
If n_folds > min_labels StratifiedKFold gives a warning: https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/cross_validation.py#L394
But that can lead to ugly tracebacks, see http://stackoverflow.com/questions/29476807/leave-one-out-cross-validation-using-sklearn/29476862#29476862
import numpy as np
from sklearn.datasets import make_blobs
from sklearn.cross_validation import cross_val_score
from sklearn.neighbors import KNeighborsClassifier

X, y = make_blobs(shuffle=False)
np.bincount(y)
mask = np.ones(len(y), dtype=np.bool)
mask[34:46] = 0
mask[-20:] = 0
X_, y_ = X[mask], y[mask]

cross_val_score(KNeighborsClassifier(), X_, y_, cv=len(X_))