Contributor
queqichao commented on Sep 23, 2014
When the value of a fit_params is sparse matrix, it will raise error from the following code.
sklearn/cross_validation.py
1224                       if hasattr(v, '__len__') and len(v) == n_samples else v)
1225                       for k, v in fit_params.items()])
It is because the __len__ of sparse matrix is defined as
scipy/sparse/base.py
190    def __len__(self):
191        # return self.getnnz()
192        raise TypeError("sparse matrix length is ambiguous; use getnnz()"
193                         " or shape[0]")
Is there anyway to circumpass this issue. I do not want to convert the sparse matrix into a dense one, since it will consume a big memory.