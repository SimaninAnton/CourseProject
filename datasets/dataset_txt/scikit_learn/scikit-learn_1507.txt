mattvan83 commented on Mar 9, 2018
Dear sklearn experts,
I am a bit confused about time-consuming more important when using PCA in pipeline to reduce high-dimensionality features (about 56000 features for 82 instances).
Indeed when applying LinearSVC directly without dimensionality reduction:
GridSearchCV took 1292.60 seconds for 41 candidate parameter settings

GridSearchCV best estimator:  Pipeline(memory=None,
     steps=[('scaler', StandardScaler(copy=True, with_mean=True, with_std=True)), ('linear_svc', LinearSVC(C=6.103515625e-05, class_weight=None, dual=True, fit_intercept=True,
     intercept_scaling=1, loss='squared_hinge', max_iter=1000,
     multi_class='ovr', penalty='l2', random_state=42, tol=0.0001,
     verbose=0))])

LOO nested cross-validation prediction took 5562.74 seconds
Compared to when using PCA with 99% of variance explained:
GridSearchCV took 1644.04 seconds for 41 candidate parameter settings

GridSearchCV best estimator:  Pipeline(memory=None,
     steps=[('scaler', StandardScaler(copy=True, with_mean=True, with_std=True)), ('reduce_dim', PCA(copy=True, iterated_power='auto', n_components=0.99, random_state=42,
  svd_solver='auto', tol=0.0, whiten=False)), ('linear_svc', LinearSVC(C=6.103515625e-05, class_weight=None, dual=False,
     fit_intercept=True, intercept_scaling=1, loss='squared_hinge',
     max_iter=1000, multi_class='ovr', penalty='l2', random_state=42,
     tol=0.0001, verbose=0))])

LOO nested cross-validation prediction took 8242.10 seconds
You can see that both GridSearch and Leave-One-Out nested cross-validation took more time in the case of using PCA.
Shouldn't PCA suppose to reduce time-consuming by reducing high dimensionality ?
I have a question concerning the use of the dual space in the cases of LinearSVC classifier. Documentation advises to set dual = false when n_samples > n_features, and true otherwise. In case of use PCA in the pipeline, should I consider the initial number of features (before PCA) or the number of features extracted by PCA to set correctly the dual space criteria ?