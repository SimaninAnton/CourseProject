yogeveran commented on Dec 13, 2016 •
edited by amueller
Description
"ValueError: cross_val_predict only works for partitions" thrown when calling cross_val_predict
with cv made with: TimeSeriesSplit(n_splits=3).split(X)
Steps/Code to Reproduce
from sklearn.model_selection import TimeSeriesSplit
from sklearn.model_selection import cross_val_predict
from sklearn.tree import DecisionTreeClassifier
from sklearn.metrics import classification_report
from sklearn import datasets

iris = datasets.load_iris()
X = iris.data[:, :2]  # we only take the first two features.
Y = iris.target

tscv = TimeSeriesSplit(n_splits=3)
cv = tscv.split(X)
clf = DecisionTreeClassifier()

predicted = cross_val_predict(clf, X,Y, cv=cv) #<--- Error Thrown Here

classification_report(Y, predicted)
Expected Results
No error is thrown.
Show result of time series cross validation.
Actual Results
Traceback (most recent call last):
File "C:/Users/hp/.PyCharm2016.3/config/scratches/scratch.py", line 14, in
predicted = cross_val_predict(clf, X,Y, cv=cv)
File "D:\Installations\Anaconda3\lib\site-packages\sklearn\model_selection_validation.py", line 409, in cross_val_predict
raise ValueError('cross_val_predict only works for partitions')
ValueError: cross_val_predict only works for partitions
Versions
Windows-10-10.0.14393-SP0
Python 3.5.2 |Anaconda custom (32-bit)| (default, Jul 5 2016, 11:45:57) [MSC v.1900 32 bit (Intel)]
NumPy 1.11.2
SciPy 0.18.1
Scikit-Learn 0.18.1
👍 2