gwerbin commented on Aug 16, 2018 â€¢
edited
Description
LabelEncoder.inverse_transform raises warnings and incorrect exceptions because it uses deprecated Numpy behavior.
Steps/Code to Reproduce
Warning:
LabelEncoder().fit(['a','b','c']).inverse_transform([0,1,2,1,2])
(Wrong) exception:
LabelEncoder().fit(['a','b','c']).inverse_transform([0,1,2,1,2,7])
Expected Results
No warning presented in first case, correct exception raised in second.
Actual Results
/opt/app/data/home_extenstion/gregory-werbin/projects/tts-classification/conda-env-py36/lib/python3.6/site-packages/sklearn/preprocessing/label.py:151: DeprecationWarning: The truth value of an empty array is ambiguous. Returning False, but in future this will result in an error. Use `array.size > 0` to check that an array is not empty.
  if diff:
Versions
Linux-3.10.0-514.26.2.el7.x86_64-x86_64-with-redhat-7.3-Maipo
Python 3.6.6 | packaged by conda-forge | (default, Jul 26 2018, 09:53:17) 
[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)]
NumPy 1.15.0
SciPy 1.1.0
Scikit-Learn 0.19.1