vwyart commented on Jul 31, 2015
Hello all,
I have installed scikit-learn 0.16.1 on OSX 10.10 (Yosemite) but cannot get the nosetests to pass without 6 errors (Python 2.7.10, numpy and scipy both installed):
Ran 4092 tests in 77.545s
FAILED (SKIP=18, errors=6)
Note that retrieving the source code for the latest development version using git, compiling it and installing it manually (python setup.py install) resulted in the exact same errors in the nose tests.
I am attaching the traceback from the 6 errors below - in the hope that someone can figure out what is wrong with my installation.
Many thanks,
Valentin
ERROR: sklearn.gaussian_process.tests.test_gaussian_process.test_2d
Traceback (most recent call last):
File "/usr/local/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(_self.arg)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 64, in test_2d
gp.fit(X, y)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 338, in fit
self._arg_max_reduced_likelihood_function()
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 730, in _arg_max_reduced_likelihood_function
iprint=0)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 177, in fmin_cobyla
*_opts)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 244, in _minimize_cobyla
f = c['fun'](x0, *c['args'])
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 707, in
log10t[i] - np.log10(self.thetaL[0, i]))
IndexError: index 1 is out of bounds for axis 0 with size 1
ERROR: sklearn.gaussian_process.tests.test_gaussian_process.test_2d_2d
Traceback (most recent call last):
File "/usr/local/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(_self.arg)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 94, in test_2d_2d
gp.fit(X, y)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 338, in fit
self._arg_max_reduced_likelihood_function()
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 730, in _arg_max_reduced_likelihood_function
iprint=0)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 177, in fmin_cobyla
*_opts)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 244, in _minimize_cobyla
f = c['fun'](x0, *c['args'])
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 707, in
log10t[i] - np.log10(self.thetaL[0, i]))
IndexError: index 1 is out of bounds for axis 0 with size 1
ERROR: sklearn.gaussian_process.tests.test_gaussian_process.test_more_builtin_correlation_models
Traceback (most recent call last):
File "/usr/local/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(_self.arg)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 114, in test_more_builtin_correlation_models
test_2d(regr='constant', corr=corr, random_start=random_start)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 64, in test_2d
gp.fit(X, y)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 338, in fit
self._arg_max_reduced_likelihood_function()
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 730, in _arg_max_reduced_likelihood_function
iprint=0)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 177, in fmin_cobyla
*_opts)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 244, in _minimize_cobyla
f = c['fun'](x0, *c['args'])
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 707, in
log10t[i] - np.log10(self.thetaL[0, i]))
IndexError: index 1 is out of bounds for axis 0 with size 1
ERROR: sklearn.gaussian_process.tests.test_gaussian_process.test_ordinary_kriging
Traceback (most recent call last):
File "/usr/local/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(_self.arg)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 123, in test_ordinary_kriging
test_2d(regr='linear', beta0=[0., 0.5, 0.5])
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 64, in test_2d
gp.fit(X, y)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 338, in fit
self._arg_max_reduced_likelihood_function()
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 730, in _arg_max_reduced_likelihood_function
iprint=0)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 177, in fmin_cobyla
*_opts)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 244, in _minimize_cobyla
f = c['fun'](x0, *c['args'])
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 707, in
log10t[i] - np.log10(self.thetaL[0, i]))
IndexError: index 1 is out of bounds for axis 0 with size 1
ERROR: sklearn.gaussian_process.tests.test_gaussian_process.test_random_starts
Traceback (most recent call last):
File "/usr/local/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(_self.arg)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/tests/test_gaussian_process.py", line 150, in test_random_starts
verbose=False).fit(X, y)
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 338, in fit
self._arg_max_reduced_likelihood_function()
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 730, in _arg_max_reduced_likelihood_function
iprint=0)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 177, in fmin_cobyla
*_opts)
File "/usr/local/lib/python2.7/site-packages/scipy/optimize/cobyla.py", line 244, in _minimize_cobyla
f = c['fun'](x0, *c['args'])
File "/usr/local/lib/python2.7/site-packages/sklearn/gaussian_process/gaussian_process.py", line 707, in
log10t[i] - np.log10(self.thetaL[0, i]))
IndexError: index 1 is out of bounds for axis 0 with size 1
ERROR: sklearn.tests.test_common.test_non_meta_estimators('KernelRidge', <class 'sklearn.kernel_ridge.KernelRidge'>)
Traceback (most recent call last):
File "/usr/local/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
self.test(*self.arg)
File "/usr/local/lib/python2.7/site-packages/sklearn/utils/estimator_checks.py", line 174, in check_dtype_object
estimator.fit(X, y.astype(object))
File "/usr/local/lib/python2.7/site-packages/sklearn/kernel_ridge.py", line 158, in fit
copy)
File "/usr/local/lib/python2.7/site-packages/sklearn/linear_model/ridge.py", line 145, in _solve_cholesky_kernel
overwrite_a=False)
File "/usr/local/lib/python2.7/site-packages/scipy/linalg/basic.py", line 77, in solve
b1 = _asarray_validated(b, check_finite=check_finite)
File "/usr/local/lib/python2.7/site-packages/scipy/_lib/_util.py", line 140, in _asarray_validated
raise ValueError('object arrays are not supported')
ValueError: object arrays are not supported