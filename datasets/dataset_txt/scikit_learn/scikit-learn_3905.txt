name-yy commented on Apr 8, 2015
When there is only one class, such as :
y_true = np.array(['class1', 'class1', 'class1'])
y_predict = np.array([[0.1],[0.7],[0.5]])
log_loss(y_true, y_predict)
The result would be wrong, which is not the logloss of y_predict but the logloss of 1-y_predict
The code in log_loss:
if Y.shape[1] == 1:
    Y = np.append(1 - Y, Y, axis=1)
should be change to :
if Y.shape[1] == 1:
    Y = np.append(Y, 1 - Y, axis=1)