Contributor
dsquareindia commented on Feb 24, 2016
Versions used:
Python 2.7.11
Sklearn 0.18.dev0
Scipy 0.16.1
Numpy 1.10.2
Just to add, my master is up to date with upstream/master
Following is the traceback:
======================================================================
ERROR: sklearn.neighbors.tests.test_dist_metrics.TestMetrics.test_pickle('wminkowski', {'p': 1, 'w': array([ 0.31179588,  0.69634349,  0.37775184,  0.17960368])})
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/devashish/miniconda/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/devashish/EXPERIMENTATION/scikit-learn/sklearn/neighbors/tests/test_dist_metrics.py", line 128, in check_pickle
    D2 = dm2.pairwise(self.X1)
  File "sklearn/neighbors/dist_metrics.pyx", line 390, in sklearn.neighbors.dist_metrics.DistanceMetric.pairwise (sklearn/neighbors/dist_metrics.c:5395)
    self.pdist(get_memview_DTYPE_2D(Xarr),
  File "sklearn/neighbors/dist_metrics.pyx", line 319, in sklearn.neighbors.dist_metrics.DistanceMetric.pdist (sklearn/neighbors/dist_metrics.c:4754)
    D[i1, i2] = self.dist(&X[i1, 0], &X[i2, 0], X.shape[1])
  File "sklearn/neighbors/dist_metrics.pyx", line 612, in sklearn.neighbors.dist_metrics.WMinkowskiDistance.dist (sklearn/neighbors/dist_metrics.c:7880)
    return pow(self.rdist(x1, x2, size), 1. / self.p)
  File "sklearn/neighbors/dist_metrics.pyx", line 602, in sklearn.neighbors.dist_metrics.WMinkowskiDistance.rdist (sklearn/neighbors/dist_metrics.c:7744)
    raise ValueError('WMinkowskiDistance dist: '
ValueError: WMinkowskiDistance dist: size of w does not match

======================================================================
ERROR: sklearn.neighbors.tests.test_dist_metrics.TestMetrics.test_pickle('wminkowski', {'p': 1.5, 'w': array([ 0.31179588,  0.69634349,  0.37775184,  0.17960368])})
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/devashish/miniconda/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/devashish/EXPERIMENTATION/scikit-learn/sklearn/neighbors/tests/test_dist_metrics.py", line 128, in check_pickle
    D2 = dm2.pairwise(self.X1)
  File "sklearn/neighbors/dist_metrics.pyx", line 390, in sklearn.neighbors.dist_metrics.DistanceMetric.pairwise (sklearn/neighbors/dist_metrics.c:5395)
    self.pdist(get_memview_DTYPE_2D(Xarr),
  File "sklearn/neighbors/dist_metrics.pyx", line 319, in sklearn.neighbors.dist_metrics.DistanceMetric.pdist (sklearn/neighbors/dist_metrics.c:4754)
    D[i1, i2] = self.dist(&X[i1, 0], &X[i2, 0], X.shape[1])
  File "sklearn/neighbors/dist_metrics.pyx", line 612, in sklearn.neighbors.dist_metrics.WMinkowskiDistance.dist (sklearn/neighbors/dist_metrics.c:7880)
    return pow(self.rdist(x1, x2, size), 1. / self.p)
  File "sklearn/neighbors/dist_metrics.pyx", line 602, in sklearn.neighbors.dist_metrics.WMinkowskiDistance.rdist (sklearn/neighbors/dist_metrics.c:7744)
    raise ValueError('WMinkowskiDistance dist: '
ValueError: WMinkowskiDistance dist: size of w does not match

======================================================================
ERROR: sklearn.neighbors.tests.test_dist_metrics.TestMetrics.test_pickle('wminkowski', {'p': 3, 'w': array([ 0.31179588,  0.69634349,  0.37775184,  0.17960368])})
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/devashish/miniconda/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/devashish/EXPERIMENTATION/scikit-learn/sklearn/neighbors/tests/test_dist_metrics.py", line 128, in check_pickle
    D2 = dm2.pairwise(self.X1)
  File "sklearn/neighbors/dist_metrics.pyx", line 390, in sklearn.neighbors.dist_metrics.DistanceMetric.pairwise (sklearn/neighbors/dist_metrics.c:5395)
    self.pdist(get_memview_DTYPE_2D(Xarr),
  File "sklearn/neighbors/dist_metrics.pyx", line 319, in sklearn.neighbors.dist_metrics.DistanceMetric.pdist (sklearn/neighbors/dist_metrics.c:4754)
    D[i1, i2] = self.dist(&X[i1, 0], &X[i2, 0], X.shape[1])
  File "sklearn/neighbors/dist_metrics.pyx", line 612, in sklearn.neighbors.dist_metrics.WMinkowskiDistance.dist (sklearn/neighbors/dist_metrics.c:7880)
    return pow(self.rdist(x1, x2, size), 1. / self.p)
  File "sklearn/neighbors/dist_metrics.pyx", line 602, in sklearn.neighbors.dist_metrics.WMinkowskiDistance.rdist (sklearn/neighbors/dist_metrics.c:7744)
    raise ValueError('WMinkowskiDistance dist: '
ValueError: WMinkowskiDistance dist: size of w does not match

======================================================================
ERROR: sklearn.neighbors.tests.test_dist_metrics.TestMetrics.test_pickle('seuclidean', {'V': array([ 0.22741463,  0.25435648,  0.05802916,  0.43441663])})
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/devashish/miniconda/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/devashish/EXPERIMENTATION/scikit-learn/sklearn/neighbors/tests/test_dist_metrics.py", line 128, in check_pickle
    D2 = dm2.pairwise(self.X1)
  File "sklearn/neighbors/dist_metrics.pyx", line 390, in sklearn.neighbors.dist_metrics.DistanceMetric.pairwise (sklearn/neighbors/dist_metrics.c:5395)
    self.pdist(get_memview_DTYPE_2D(Xarr),
  File "sklearn/neighbors/dist_metrics.pyx", line 319, in sklearn.neighbors.dist_metrics.DistanceMetric.pdist (sklearn/neighbors/dist_metrics.c:4754)
    D[i1, i2] = self.dist(&X[i1, 0], &X[i2, 0], X.shape[1])
  File "sklearn/neighbors/dist_metrics.pyx", line 464, in sklearn.neighbors.dist_metrics.SEuclideanDistance.dist (sklearn/neighbors/dist_metrics.c:6384)
    return sqrt(self.rdist(x1, x2, size))
  File "sklearn/neighbors/dist_metrics.pyx", line 454, in sklearn.neighbors.dist_metrics.SEuclideanDistance.rdist (sklearn/neighbors/dist_metrics.c:6239)
    raise ValueError('SEuclidean dist: size of V does not match')
ValueError: SEuclidean dist: size of V does not match

======================================================================
ERROR: sklearn.neighbors.tests.test_dist_metrics.TestMetrics.test_pickle('mahalanobis', {'VI': array([[ 0.80314541,  0.98494408,  0.59389881,  1.16113843],
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/devashish/miniconda/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/devashish/EXPERIMENTATION/scikit-learn/sklearn/neighbors/tests/test_dist_metrics.py", line 128, in check_pickle
    D2 = dm2.pairwise(self.X1)
  File "sklearn/neighbors/dist_metrics.pyx", line 390, in sklearn.neighbors.dist_metrics.DistanceMetric.pairwise (sklearn/neighbors/dist_metrics.c:5395)
    self.pdist(get_memview_DTYPE_2D(Xarr),
  File "sklearn/neighbors/dist_metrics.pyx", line 319, in sklearn.neighbors.dist_metrics.DistanceMetric.pdist (sklearn/neighbors/dist_metrics.c:4754)
    D[i1, i2] = self.dist(&X[i1, 0], &X[i2, 0], X.shape[1])
  File "sklearn/neighbors/dist_metrics.pyx", line 682, in sklearn.neighbors.dist_metrics.MahalanobisDistance.dist (sklearn/neighbors/dist_metrics.c:8708)
  File "sklearn/neighbors/dist_metrics.pyx", line 664, in sklearn.neighbors.dist_metrics.MahalanobisDistance.rdist (sklearn/neighbors/dist_metrics.c:8521)
    ITYPE_t size) nogil except -1:
ValueError: Mahalanobis dist: size of V does not match

----------------------------------------------------------------------
Ran 6811 tests in 216.465s

FAILED (SKIP=14, errors=5)