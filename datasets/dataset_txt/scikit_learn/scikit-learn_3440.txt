Contributor
absolutelyNoWarranty commented on Nov 5, 2015
Normally when given scores which are the same roc_auc_score will return 0.5, but in the case of all nan/inf it seems to return the AUC for the labels if ranked in the order given.
In [8]: roc_auc_score([0,0,1,1], [np.inf, np.inf, np.inf, np.inf])
c:\WinPython-64bit-2.7.9.1\python-2.7.9.amd64\lib\site-packages\numpy\lib\function_base.py:1114: RuntimeWarning: invalid value encountered in subtract
  return a[slice1]-a[slice2]
Out[8]: 1.0

In [9]: roc_auc_score([0,0,1,1], [np.nan, np.nan, np.nan, np.nan])
Out[9]: 1.0

In [10]: roc_auc_score([1,1,0,0], [np.inf, np.inf, np.inf, np.inf])
Out[10]: 0.0

In [11]: roc_auc_score([1,1,0,0], [np.nan, np.nan, np.nan, np.nan])
Out[11]: 0.0

In [12]: roc_auc_score([1,1,0,0], [1, 1, 1, 1])
Out[12]: 0.5