cel4 commented on Oct 7, 2015
from sklearn import linear_model
import numpy as np
np.random.seed(42)

X = np.random.randint(0, 9, size=(4,4))
y = np.random.randint(0, 9, size=4)

# works
model = linear_model.Lasso(alpha=0.1, fit_intercept=True)
model.fit(X, y)

# ou, oh :(
model = linear_model.Lasso(alpha=0.1, fit_intercept=False)
model.fit(X, y)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-2-57f2c63422ba> in <module>()
     12 # ou, oh :(
     13 model = linear_model.Lasso(alpha=0.1, fit_intercept=False)
---> 14 model.fit(X, y)

/Users/ch/miniconda/envs/sci34/lib/python3.4/site-packages/sklearn/linear_model/coordinate_descent.py in fit(self, X, y)
    671                           coef_init=coef_[k], max_iter=self.max_iter,
    672                           random_state=self.random_state,
--> 673                           selection=self.selection)
    674             coef_[k] = this_coef[:, 0]
    675             dual_gaps_[k] = this_dual_gap[0]

/Users/ch/miniconda/envs/sci34/lib/python3.4/site-packages/sklearn/linear_model/coordinate_descent.py in enet_path(X, y, l1_ratio, eps, n_alphas, alphas, precompute, Xy, copy_X, coef_init, verbose, return_n_iter, positive, **params)
    430             model = cd_fast.enet_coordinate_descent(
    431                 coef_, l1_reg, l2_reg, X, y, max_iter, tol, rng, random,
--> 432                 positive)
    433         else:
    434             raise ValueError("Precompute should be one of True, False, "

sklearn/linear_model/cd_fast.pyx in sklearn.linear_model.cd_fast.enet_coordinate_descent (sklearn/linear_model/cd_fast.c:2839)()

ValueError: Buffer dtype mismatch, expected 'DOUBLE' but got 'long'