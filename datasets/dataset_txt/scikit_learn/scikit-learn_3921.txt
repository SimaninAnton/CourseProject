natoromano commented on Apr 4, 2015
I'm using GMM on a singe population (list), with version 0.16.
I get the following error, after calling the score_sample function:
'The shape of X  is not compatible with self'
When digging a little bit, I found that what used to be, in the previous versions:
    X = np.asarray(X)
    if X.ndim == 1:
        X = X[:, np.newaxis]
    if X.size == 0:
        return np.array([]), np.empty((0, self.n_components))
    if X.shape[1] != self.means_.shape[1]:
        raise ValueError('The shape of X  is not compatible with self')
Is now:
    X = check_array(X)
    if X.ndim == 1:
        X = X[:, np.newaxis]
    if X.size == 0:
        return np.array([]), np.empty((0, self.n_components))
    if X.shape[1] != self.means_.shape[1]:
        raise ValueError('The shape of X  is not compatible with self')
This changes everything, as when you use it on a list, np.asarray returns a 1d array, which is then turned to a 2d array of shape (n,1) by the next lines, and the array is in the correct format. Whereas check_array turns our list into a (1,n) array, which leads to the error.
Am I getting this wrong or is this indeed what the problem is ? And in this case it's probably a bug in the latest release.