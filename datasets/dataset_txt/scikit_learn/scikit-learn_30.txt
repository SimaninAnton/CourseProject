quantitative-technologies commented 24 days ago
Passing the callback in the fit_params argument throws an error from keras/callbacks.py
Steps/Code to Reproduce
I am trying out a trivial pipeline:
model = Sequential()
pipeline = Pipeline([('seq', model)])
Without any callbacks this works fine:
pipeline.fit(X, y, **fit_parameters)
However, if fit_parameters includes a TensorBoard callback:
fit_parameters.update(seq__callbacks=[TensorBoard()])
Then I get an error:
AttributeError: 'Sequential' object has no attribute '_get_distribution_strategy'
Using model.fit directly, there is no problem with this callback.
Versions
import sklearn; sklearn.show_versions()
System:
python: 3.7.5 (default, Nov 7 2019, 10:50:52) [GCC 8.3.0]
executable: /home/james/.virtualenvs/netraml/bin/python
machine: Linux-4.15.0-74-generic-x86_64-with-Ubuntu-18.04-bionic
Python dependencies:
pip: 19.0.3
setuptools: 44.0.0
sklearn: 0.22.1
numpy: 1.18.1
scipy: 1.4.1
Cython: None
pandas: 0.25.3
matplotlib: None
joblib: 0.14.1
Built with OpenMP: True