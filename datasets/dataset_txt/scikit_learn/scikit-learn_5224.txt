Contributor
conradlee commented on Sep 15, 2012
In the worst case, sklearn.metrics.precision_recall_curve has O(N^2) complexity. The current approach iterates over all unique values of predict_proba, for each of these re-computes the precision and recall from scratch. This evalution, which should run quickly, is sometimes taking longer than fitting my models and making predictions.
Instead, we can sort the values first, iterate over them, and keep a "running" calculation of precision and recall (e.g., along the lines of this implementation).
I've implemented the solution, and will add a pull request for review in a minute.