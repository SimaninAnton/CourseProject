laszlosandor commented on Aug 22, 2014
On this python distro and sklearn 0.15.0b1 the code in the gist leads to the error message below running on a text file of 12 GB (dumped job 14 GB) while the job is allocated 64 cores and 240 GB RAM:
Conda info:
platform : linux-64
conda version : 3.4.1
python version : 2.7.6.final.0
root environment : /n/sw/fasrcsw/apps/Core/Anaconda/1.9.2-fasrc01/x (read only)
default environment : ~/envs/laszlo
envs directories : ~/envs
/n/sw/fasrcsw/apps/Core/Anaconda/1.9.2-fasrc01/x/envs
package cache : ~/envs/.pkgs
/n/sw/fasrcsw/apps/Core/Anaconda/1.9.2-fasrc01/x/pkgs
channel URLs : http://repo.continuum.io/pkgs/free/linux-64/
http://repo.continuum.io/pkgs/pro/linux-64/
config file : None
is foreign system : False
Error:
Traceback (most recent call last):
File "/sweden/.code/controls/lasso/scikit_notreat_predictors_en.py", line 67, in
main()
File "/sweden/.code/controls/lasso/scikit_notreat_predictors_en.py", line 50, in main
en.fit(X_train, y_train)
File "/envs/laszlo/lib/python2.7/site-packages/sklearn/linear_model/coordinate_descent.py", line 1101, in fit
mse_paths = Parallel(n_jobs=self.n_jobs, verbose=self.verbose)(jobs)
File "/envs/laszlo/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py", line 604, in call
self._pool = MemmapingPool(n_jobs, **poolargs)
File "/envs/laszlo/lib/python2.7/site-packages/sklearn/externals/joblib/pool.py", line 559, in init
super(MemmapingPool, self).init(**poolargs)
File "/envs/laszlo/lib/python2.7/site-packages/sklearn/externals/joblib/pool.py", line 400, in init
super(PicklingPool, self).init(**poolargs)
File "/envs/laszlo/lib/python2.7/multiprocessing/pool.py", line 159, in init
self._repopulate_pool()
File "/envs/laszlo/lib/python2.7/multiprocessing/pool.py", line 223, in _repopulate_pool
w.start()
File "/envs/laszlo/lib/python2.7/multiprocessing/process.py", line 130, in start
self._popen = Popen(self)
File "/envs/laszlo/lib/python2.7/multiprocessing/forking.py", line 121, in init
self.pid = os.fork()
OSError: [Errno 12] Cannot allocate memory