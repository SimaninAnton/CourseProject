Member
jmschrei commented on Jul 28, 2015
I have the following code:
    datasets = {
                'Gaussian': load_gaussian,
                'arcene'  : load_arcene,
                'spambase': load_spambase,
                'madelon' : load_madelon,
                'landsat': load_landsat,
                'mnist'   : load_mnist,
                'covtypes': load_covtype
               }

    n_estimators = 5
    max_depth = 6

    print "\n\n\n5 estimators, max depth 6"
    clf = GradientBoostingClassifier( n_estimators=n_estimators, 
        max_depth=max_depth )

    for name in 'madelon',:
        print "\n\n" + name
        dataset = datasets[name]
        # scikit-learn 
        X_train, X_test, y_train, y_test = dataset()
        acc, train_time, test_time = benchmark( clf, X_train, X_test, y_train, y_test )
        print "{:23} {} {} {}".format( 'scikit-learn', acc, train_time, test_time )

        acc, train_time, test_time = benchmark( clf, X_train, X_test, y_train, y_test )
        print "{:23} {} {} {}".format( 'scikit-learn', acc, train_time, test_time )
The first returns 0.823333 accuracy, the second returns 0.8333333 accuracy. All benchmark does is fit the classifier to the training set and calculate the error on the test set, but also times these.
If I change my code to the following:
    for name in 'madelon', 'arcene':
        print "\n\n" + name
        dataset = datasets[name]
        # scikit-learn 
        X_train, X_test, y_train, y_test = dataset()
        acc, train_time, test_time = benchmark( clf, X_train, X_test, y_train, y_test )
        print "{:23} {} {} {}".format( 'scikit-learn', acc, train_time, test_time )
I get madelon: 0.823333 accuracy, and arcene: 0.62 accuracy.
However, if I reverse the order...
    for name in 'arcene', 'madelon':
        print "\n\n" + name
        dataset = datasets[name]
        # scikit-learn 
        X_train, X_test, y_train, y_test = dataset()
        acc, train_time, test_time = benchmark( clf, X_train, X_test, y_train, y_test )
        print "{:23} {} {} {}".format( 'scikit-learn', acc, train_time, test_time )
I get arcene: 0.63 accuracy, and madelon: 0.83333 accuracy.
@pprett Do you know why I get this behavior?