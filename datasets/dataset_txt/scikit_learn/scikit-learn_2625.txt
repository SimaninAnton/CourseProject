Contributor
luang008 commented on Oct 28, 2016 â€¢
edited
Description
UnboundLocalError raised when using preprocessing.normalize with parameter "return_norm=True".
Steps/Code to Reproduce
import numpy as np
from scipy.sparse import csr_matrix
from sklearn import preprocessing

rows = [1,2]
cols = [1,2]
vals = [1,2]
mat = csr_matrix((vals,(rows,cols)),shape=(3,3))
normed_mat, norm = preprocessing.normalize(mat,return_norm=True)
Expected Results
NotImplementedError raised for sparse matrix or support returning norms for sparse matrix.
Actual Results
"UnboundLocalError: local variable 'norms' referenced before assignment"
Versions
0.18