Qoobis commented on Jun 25, 2019
Not sure how to count vectorize
here is my code so far: (it finds the closest related movies)
import pandas as pd
from rake_nltk import Rake
import numpy as np
from sklearn.metrics.pairwise import cosine_similarity
from sklearn.feature_extraction.text import CountVectorizer
#order of things to do
#apply cosine
df = pd.read_csv("movie_file.csv")
df['test'] = df.Actors + " " + df.Title #this works before i turn the columns into strings
print(df.to_string())
lambda function is useful as a one time thing.
x is the argument and after the colons is the expression which is carried out.
it can be returned to any variable
df['Genre'] = df['Genre'].map(lambda x: x.lower().split(','))
#map is used. map essentially iterates over all the things in the list
#so it goes through every movie's genre here.
df["Actors"] = df['Actors'].map(lambda x: x.split(','))
#goes through row and not df as replace cant be used on a list
#replacing all spaces with no space esstentially
#loops through all actor rows.
for index, row in df.iterrows():
row["Actors"] = [x.lower().replace(' ','') for x in row["Actors"]]
#making new column
df["Everything"] = ""
for index, row in df.iterrows():
plot = row["Plot"]
r = Rake()
r.extract_keywords_from_text(plot)
key_words_dict_scores = r.get_word_degrees()
print(key_words_dict_scores)
#make it list otherwise it prints with scores
#you can see its not 100% accurate as 'not about cyclones' is summarised as 'cyclones'
row["Everything"] = list(key_words_dict_scores.keys())
df.drop(columns=['Plot'], inplace=True)
df.drop(columns=['Genre'], inplace=True)
df.drop(columns=['Actors'], inplace=True)
instantiating and generating the count matrix
count = CountVectorizer()
count_matrix = count.fit_transform(df['Everything'])