sunghwan-choi commented on Jul 17, 2017 â€¢
edited
thread parallelization is always turned on in RidgeCV estimator. Since a computing node is not wholly occupied by my job, I want to make RidgeCV occupy only designated number of cpu.
I modified the fit function of _BaseRidgeCV class as follow. self.cv value is an integer value in my case. Nonetheless, between "1!!!!!!!!" and "2!!!!!!", multiple threads were spawned.
linear_model/ridge.py:1123
        gs = GridSearchCV(Ridge(fit_intercept=self.fit_intercept),
                          parameters, fit_params=fit_params, cv=self.cv,
                          scoring=self.scoring,n_jobs=1,pre_dispatch=1)
        print("1!!!!!!!!!!!!!!!!!!!!!!!!1")
        gs.fit(X, y)
        print("2!!!!!!!!!!!!!!!!!!!!!!!!1")
If someone knows above phenomena, please let me know
Version info
import sys; print("Python", sys.version)
('Python', '2.7.6 | 64-bit | (default, Jun 4 2014, 16:32:15) \n[GCC 4.1.2 20080704 (Red Hat 4.1.2-52)]')
import numpy; print("NumPy", numpy.version)
('NumPy', '1.10.4')
import scipy; print("SciPy", scipy.version)
('SciPy', '0.17.1')
import sklearn; print("Scikit-Learn", sklearn.version)
('Scikit-Learn', '0.18.2')