grzegorz-siekaniec commented on May 2, 2015
Specifying invalid parameter for GridSearchCV leads to throwing exception invalid or missing encoding declaration for 'C:\\Anaconda3\\lib\\site-packages\\sklearn\\tree\\_tree.pyd'.
I was able to reproduce it using. Here None is not valid for min_samples_leaf, as the later requires integer. However it would be preferred to indicate that passed parameter is invalid or not supported. After replacing None by 1 I was able to start search.
    clf = GradientBoostingClassifier(
        learning_rate=0.05,
        n_estimators=2000,
        max_features='log2'
    )

    param_grid = {
        'max_depth': [50, 150],
        'min_samples_leaf': [None, 10, 20]
    }

    my_log_loss = make_scorer(logloss_score, greater_is_better=False, needs_proba=True)
    gs_cv = GridSearchCV(clf, param_grid, n_jobs=3, scoring=my_log_loss, refit=True, verbose=1).fit(X_train, y_train)
I am using Python 3.4.3 |Anaconda 2.2.0 (64-bit)| (default, Mar 6 2015, 12:06:10) [MSC v.1600 64 bit (AMD64)] on win32.