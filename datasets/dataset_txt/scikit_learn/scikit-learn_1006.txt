lobpcg commented on Oct 11, 2018
Description
In scikit-learn\sklearn\utils\extmath.py the transpose='auto' option in randomised_svd apparently makes the eigenvalue problem larger, rather than smaller. I believe the goal is to make matrix_size = min (n_samples, n_features), not max. It needs double-checking. The result should be the same either way, just takes longer to run for no good reason.
The current code is
if transpose == 'auto':
    transpose = n_samples < n_features
while I suspect that it should be the opposite
if transpose == 'auto':
    transpose = n_samples > n_features
Steps/Code to Reproduce
Any example running randomised_svd on non-square data matrix.
Expected Results
The transpose='auto' option in randomised_svd should make the matrix size smaller for the eigenvalue problem solved by the power method in randomised_svd, so it runs faster.
Actual Results
The transpose='auto' option in randomised_svd should make the matrix size larger, rather than smaller.
Versions
sklearn: 0.21.dev0