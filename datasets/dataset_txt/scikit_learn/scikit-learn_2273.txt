chuber1986 commented on Apr 4, 2017
Hi,
in decomposition/IncrementalPCA.partial_fit() the checks the shape of the components matrix,
thereby it uses the wrong dimension.
It uses dimension 0 which should be n_samples (according to the documentation), but it should use 1 for n_features.
Change:
if (self.components_ is not None) and (self.components_.shape[0] != self.n_components_): raise ValueError("Number of input features has changed from %i " "to %i between calls to partial_fit! Try " "setting n_components to a fixed value." % (self.components_.shape[0], self.n_components_))
to:
if (self.components_ is not None) and (self.components_.shape[1] != self.n_components_): raise ValueError("Number of input features has changed from %i " "to %i between calls to partial_fit! Try " "setting n_components to a fixed value." % (self.components_.shape[1], self.n_components_))