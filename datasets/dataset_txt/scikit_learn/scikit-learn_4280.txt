Contributor
anntzer commented on Aug 5, 2014
astropy 0.4.0 and sklearn 0.15.1 don't like each other (Python 3.4 on Linux):
$ python -c 'import astropy; import sklearn.neighbors'
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/usr/lib/python3.4/site-packages/sklearn/neighbors/__init__.py", line 6, in <module>
    from .ball_tree import BallTree
  File "ball_tree.pyx", line 1, in init sklearn.neighbors.ball_tree (sklearn/neighbors/ball_tree.c:34299)
  File "/usr/lib/python3.4/site-packages/sklearn/utils/__init__.py", line 11, in <module>
    from .validation import (as_float_array, check_arrays, safe_asarray,
  File "/usr/lib/python3.4/site-packages/sklearn/utils/validation.py", line 17, in <module>
    from .fixes import safe_copy
  File "/usr/lib/python3.4/site-packages/sklearn/utils/fixes.py", line 105, in <module>
    with ignore_warnings():
  File "/usr/lib/python3.4/site-packages/sklearn/utils/testing.py", line 299, in __enter__
    clean_warning_registry()  # be safe and not propagate state + chaos
  File "/usr/lib/python3.4/site-packages/sklearn/utils/testing.py", line 584, in clean_warning_registry
    if hasattr(mod, reg):
  File "/usr/lib/python3.4/site-packages/astropy/extern/six.py", line 116, in __getattr__
    _module = self._resolve()
  File "/usr/lib/python3.4/site-packages/astropy/extern/six.py", line 105, in _resolve
    return _import_module(self.mod)
  File "/usr/lib/python3.4/site-packages/astropy/extern/six.py", line 76, in _import_module
    __import__(name)
ImportError: No module named 'winreg'
I don't know whose fault it is so I'm just filing a bug on both sides :) (see astropy/astropy#2820)