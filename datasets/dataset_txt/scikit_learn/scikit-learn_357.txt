enzoliao commented on Aug 6, 2019
In the docs haversine_distances, it said the parameters should be give in radians. However, the function was called with parameters in longitude or latitude. The example code should be changed in the following way.
from sklearn.metrics.pairwise import haversine_distances
from math import radians
bsas = [-34.83333, -58.5166646]
paris = [49.0083899664, 2.53844117956]
bsas_in_radians = [radians(_) for _ in bsas]
paris_in_radians = [radians(_) for _ in paris]
result = haversine_distances([bsas_in_radians, paris_in_radians])
result * 6371000/1000  # multiply by Earth radius to get kilometers
The most interesting thing about this error is that for the distance between Buenos Aires and Paris wrong parameters lead to a nearly correct result.