Contributor
shanmuga-cv commented on Apr 5, 2016
The fit function in sklearn.multiclass.OneVsOneClassifier fails to convert the input X to numpy array. This results in IndexError (with pandas.DataFrame) and AttributeError (with python list).
This can be verified using
>>> from sklearn.linear_model import LogisticRegression
>>> from sklearn.multiclass import OneVsOneClassifier
>>> clf = OneVsOneClassifier(LogisticRegression())     

>>> data = [[i+15, i+20] for i in range(15)]
>>> labels = ['a', 'b', 'c'] * 5
>>> clf.fit(data, labels)
>>> # AttributeError: 'list' object has no attribute 'shape'


>>> import pandas as pd
>>> df = pd.DataFrame({'a': range(15), 'b': range(20, 35)})
>>> labels_ser = pd.Series(['a', 'b', 'c'] * 5)
>>> clf.fit(df, labels_ser)
>>> # IndexError: indices are out-of-bounds