Contributor
huzq85 commented on May 11, 2016 â€¢
edited
Description
Running tests in latest version code will crash.
Steps/Code to Reproduce
Update the code to latest version
Install sklearn in command line by: python setup.py install
Runing tests from command line: nosetests -v sklearn
Expected Results
Tests should be fine, at least the running process should not be crash..
Actual Results
Tests running crash, with following trace:
C:\Software\SoftwareDev\Python27\lib\site-packages\sklearn\cross_validation.py:43: DeprecationWarning: This module has been deprecated in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.
"This module will be removed in 0.20.", DeprecationWarning)
C:\Software\SoftwareDev\Python27\lib\site-packages\sklearn\grid_search.py:43: DeprecationWarning: This module has been deprecated in favor of the model_selection module into which all the refactored classes and functions are moved. This module will be removed in 0.20.
DeprecationWarning)
C:\Software\SoftwareDev\Python27\lib\site-packages\sklearn\lda.py:4: DeprecationWarning: lda.LDA has been moved to discriminant_analysis.LinearDiscriminantAnalysis in 0.17 and will be removed in 0.19
"in 0.17 and will be removed in 0.19", DeprecationWarning)
C:\Software\SoftwareDev\Python27\lib\site-packages\sklearn\learning_curve.py:23: DeprecationWarning: This module has been deprecated in favor of the model_selection module into which all the functions are moved. This module will be removed in 0.20
DeprecationWarning)
C:\Software\SoftwareDev\Python27\lib\site-packages\sklearn\qda.py:4: DeprecationWarning: qda.QDA has been moved to discriminant_analysis.QuadraticDiscriminantAnalysis in 0.17 and will be removed in 0.19.
"in 0.17 and will be removed in 0.19.", DeprecationWarning)
sklearn.cluster.tests.test_affinity_propagation.test_affinity_propagation ... ok
sklearn.cluster.tests.test_affinity_propagation.test_affinity_propagation_predict ... ok
sklearn.cluster.tests.test_affinity_propagation.test_affinity_propagation_predict_error ... ok
sklearn.cluster.tests.test_bicluster.test_get_submatrix ... ok
sklearn.cluster.tests.test_bicluster.test_spectral_coclustering ... ok
sklearn.cluster.tests.test_bicluster.test_spectral_biclustering ... ok
sklearn.cluster.tests.test_bicluster.test_scale_normalize ... ok
sklearn.cluster.tests.test_bicluster.test_bistochastic_normalize ... ok
sklearn.cluster.tests.test_bicluster.test_log_normalize ... ok
sklearn.cluster.tests.test_bicluster.test_fit_best_piecewise ... ok
sklearn.cluster.tests.test_bicluster.test_project_and_cluster ... ok
sklearn.cluster.tests.test_bicluster.test_perfect_checkerboard ... SKIP: This test is failing on the buildbot, but cannot reproduce. Temporarily disabling it until it can be reproduced and fixed.
sklearn.cluster.tests.test_bicluster.test_errors ... ok
sklearn.cluster.tests.test_birch.test_n_samples_leaves_roots ... ok
sklearn.cluster.tests.test_birch.test_partial_fit ... ok
sklearn.cluster.tests.test_birch.test_birch_predict ... ok
sklearn.cluster.tests.test_birch.test_n_clusters ... ok
sklearn.cluster.tests.test_birch.test_sparse_X ... ok
sklearn.cluster.tests.test_birch.test_branching_factor ... ok
sklearn.cluster.tests.test_birch.test_threshold ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_similarity ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_feature ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_sparse ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_sparse_precomputed ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_no_core_samples ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_callable ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_balltree ... ok
sklearn.cluster.tests.test_dbscan.test_input_validation ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_badargs ... ok
sklearn.cluster.tests.test_dbscan.test_pickle ... ok
sklearn.cluster.tests.test_dbscan.test_boundaries ... ok
sklearn.cluster.tests.test_dbscan.test_weighted_dbscan ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_core_samples_toy ... ok
sklearn.cluster.tests.test_dbscan.test_dbscan_precomputed_metric_with_degenerate_input_arrays ... ok
sklearn.cluster.tests.test_hierarchical.test_linkage_misc ... ok
sklearn.cluster.tests.test_hierarchical.test_structured_linkage_tree ... ok
sklearn.cluster.tests.test_hierarchical.test_unstructured_linkage_tree ... ok
sklearn.cluster.tests.test_hierarchical.test_height_linkage_tree ... ok
sklearn.cluster.tests.test_hierarchical.test_agglomerative_clustering ... ok
sklearn.cluster.tests.test_hierarchical.test_ward_agglomeration ... ok
sklearn.cluster.tests.test_hierarchical.test_scikit_vs_scipy ... ok
sklearn.cluster.tests.test_hierarchical.test_connectivity_propagation ... ok
sklearn.cluster.tests.test_hierarchical.test_ward_tree_children_order ... ok
sklearn.cluster.tests.test_hierarchical.test_ward_linkage_tree_return_distance ... ok
sklearn.cluster.tests.test_hierarchical.test_connectivity_fixing_non_lil ... ok
sklearn.cluster.tests.test_hierarchical.test_int_float_dict ... ok
sklearn.cluster.tests.test_hierarchical.test_connectivity_callable ... ok
sklearn.cluster.tests.test_hierarchical.test_connectivity_ignores_diagonal ... ok
sklearn.cluster.tests.test_hierarchical.test_compute_full_tree ... ok
sklearn.cluster.tests.test_hierarchical.test_n_components ... ok
sklearn.cluster.tests.test_hierarchical.test_agg_n_clusters ... ok
sklearn.cluster.tests.test_k_means.test_kmeans_dtype ... ok
sklearn.cluster.tests.test_k_means.test_elkan_results ... ok
sklearn.cluster.tests.test_k_means.test_labels_assignment_and_inertia ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_update_consistency ... ok
sklearn.cluster.tests.test_k_means.test_k_means_plus_plus_init ... ok
sklearn.cluster.tests.test_k_means.test_k_means_new_centers ... ok
sklearn.cluster.tests.test_k_means.test_k_means_precompute_distances_flag ... ok
sklearn.cluster.tests.test_k_means.test_k_means_plus_plus_init_sparse ... ok
sklearn.cluster.tests.test_k_means.test_k_means_random_init ... ok
sklearn.cluster.tests.test_k_means.test_k_means_random_init_sparse ... ok
sklearn.cluster.tests.test_k_means.test_k_means_plus_plus_init_not_precomputed ... ok
sklearn.cluster.tests.test_k_means.test_k_means_random_init_not_precomputed ... ok
sklearn.cluster.tests.test_k_means.test_k_means_perfect_init ... ok
sklearn.cluster.tests.test_k_means.test_k_means_n_init ... ok
sklearn.cluster.tests.test_k_means.test_k_means_explicit_init_shape ... ok
sklearn.cluster.tests.test_k_means.test_k_means_fortran_aligned_data ... ok
sklearn.cluster.tests.test_k_means.test_mb_k_means_plus_plus_init_dense_array ... ok
sklearn.cluster.tests.test_k_means.test_mb_kmeans_verbose ... ok
sklearn.cluster.tests.test_k_means.test_mb_k_means_plus_plus_init_sparse_matrix ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_init_with_large_k ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_k_means_random_init_dense_array ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_k_means_random_init_sparse_csr ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_k_means_perfect_init_dense_array ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_k_means_init_multiple_runs_with_explicit_centers ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_k_means_perfect_init_sparse_csr ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_sensible_reassign_fit ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_sensible_reassign_partial_fit ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_reassign ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_with_many_reassignments ... ok
sklearn.cluster.tests.test_k_means.test_sparse_mb_k_means_callable_init ... ok
sklearn.cluster.tests.test_k_means.test_mini_batch_k_means_random_init_partial_fit ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_default_init_size ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_tol ... ok
sklearn.cluster.tests.test_k_means.test_minibatch_set_init_size ... ok
sklearn.cluster.tests.test_k_means.test_k_means_invalid_init ... ok
sklearn.cluster.tests.test_k_means.test_mini_match_k_means_invalid_init ... ok
sklearn.cluster.tests.test_k_means.test_k_means_copyx ... ok
sklearn.cluster.tests.test_k_means.test_k_means_non_collapsed ... ok
sklearn.cluster.tests.test_k_means.test_predict ... ok
sklearn.cluster.tests.test_k_means.test_score ... ok
sklearn.cluster.tests.test_k_means.test_predict_minibatch_dense_input ... ok
sklearn.cluster.tests.test_k_means.test_predict_minibatch_kmeanspp_init_sparse_input ... ok
sklearn.cluster.tests.test_k_means.test_predict_minibatch_random_init_sparse_input ... ok
sklearn.cluster.tests.test_k_means.test_input_dtypes ... ok
sklearn.cluster.tests.test_k_means.test_transform ... ok
sklearn.cluster.tests.test_k_means.test_fit_transform ... ok
sklearn.cluster.tests.test_k_means.test_predict_equal_labels ... ok
sklearn.cluster.tests.test_k_means.test_full_vs_elkan ... ok
sklearn.cluster.tests.test_k_means.test_n_init ... ok
sklearn.cluster.tests.test_k_means.test_k_means_function ... ok
sklearn.cluster.tests.test_k_means.test_k_means_plus_plus_init_2_jobs ... SKIP: Possible multi-process bug with some BLAS under Python < 3.4
Test that x_squared_norms can be None in _init_centroids ... ok
sklearn.cluster.tests.test_k_means.test_max_iter_error ... ok
sklearn.cluster.tests.test_mean_shift.test_estimate_bandwidth ... ok
sklearn.cluster.tests.test_mean_shift.test_mean_shift ... ok
sklearn.cluster.tests.test_mean_shift.test_parallel ... ok
sklearn.cluster.tests.test_mean_shift.test_meanshift_predict ... ok
sklearn.cluster.tests.test_mean_shift.test_meanshift_all_orphans ... ok
sklearn.cluster.tests.test_mean_shift.test_unfitted ... ok
sklearn.cluster.tests.test_mean_shift.test_bin_seeds ... ok
sklearn.cluster.tests.test_spectral.test_spectral_clustering ... ok
sklearn.cluster.tests.test_spectral.test_spectral_amg_mode ... ok
sklearn.cluster.tests.test_spectral.test_spectral_unknown_mode ... ok
sklearn.cluster.tests.test_spectral.test_spectral_unknown_assign_labels ... ok
sklearn.cluster.tests.test_spectral.test_spectral_clustering_sparse ... ok
sklearn.cluster.tests.test_spectral.test_affinities ... ok
sklearn.cluster.tests.test_spectral.test_discretize ... ok
sklearn.covariance.tests.test_covariance.test_covariance ... ok
sklearn.covariance.tests.test_covariance.test_shrunk_covariance ... ok
sklearn.covariance.tests.test_covariance.test_ledoit_wolf ... ok
sklearn.covariance.tests.test_covariance.test_ledoit_wolf_small ... ok
sklearn.covariance.tests.test_covariance.test_ledoit_wolf_large ... ok
sklearn.covariance.tests.test_covariance.test_oas ... ok
sklearn.covariance.tests.test_graph_lasso.test_graph_lasso ... ok
sklearn.covariance.tests.test_graph_lasso.test_graph_lasso_iris ... ok
sklearn.covariance.tests.test_graph_lasso.test_graph_lasso_iris_singular ... ok
sklearn.covariance.tests.test_graph_lasso.test_graph_lasso_cv ... ok
sklearn.covariance.tests.test_robust_covariance.test_mcd ... ok
sklearn.covariance.tests.test_robust_covariance.test_fast_mcd_on_invalid_input ... ok
sklearn.covariance.tests.test_robust_covariance.test_mcd_class_on_invalid_input ... ok
sklearn.covariance.tests.test_robust_covariance.test_mcd_issue1127 ... ok
sklearn.covariance.tests.test_robust_covariance.test_outlier_detection ... ok
sklearn.datasets.tests.test_20news.test_20news ... SKIP: Download 20 newsgroups to run this test
Checks the length consistencies within the bunch ... SKIP: Download 20 newsgroups to run this test
sklearn.datasets.tests.test_20news.test_20news_vectorized ... SKIP: Test too slow.
sklearn.datasets.tests.test_base.test_data_home ... ok
sklearn.datasets.tests.test_base.test_default_empty_load_files ... ok
sklearn.datasets.tests.test_base.test_default_load_files ... ok
sklearn.datasets.tests.test_base.test_load_files_w_categories_desc_and_encoding ... ok
sklearn.datasets.tests.test_base.test_load_files_wo_load_content ... ok
sklearn.datasets.tests.test_base.test_load_sample_images ... ok
sklearn.datasets.tests.test_base.test_load_digits ... ok
sklearn.datasets.tests.test_base.test_load_digits_n_class_lt_10 ... ok
sklearn.datasets.tests.test_base.test_load_sample_image ... ok
sklearn.datasets.tests.test_base.test_load_missing_sample_image_error ... ok
sklearn.datasets.tests.test_base.test_load_diabetes ... ok
sklearn.datasets.tests.test_base.test_load_linnerud ... ok
sklearn.datasets.tests.test_base.test_load_iris ... ok
sklearn.datasets.tests.test_base.test_load_breast_cancer ... ok
sklearn.datasets.tests.test_base.test_load_boston ... ok
sklearn.datasets.tests.test_base.test_loads_dumps_bunch ... ok
sklearn.datasets.tests.test_base.test_bunch_pickle_generated_with_0_16_and_read_with_0_17 ... ok
sklearn.datasets.tests.test_covtype.test_fetch ... SKIP: Covertype dataset can not be loaded.
sklearn.datasets.tests.test_kddcup99.test_percent10 ... SKIP: kddcup99 dataset can not be loaded.
sklearn.datasets.tests.test_lfw.test_load_empty_lfw_people ... ok
sklearn.datasets.tests.test_lfw.test_load_lfw_people_deprecation ... ok
sklearn.datasets.tests.test_lfw.test_load_fake_lfw_people ... ok
sklearn.datasets.tests.test_lfw.test_load_fake_lfw_people_too_restrictive ... ok
sklearn.datasets.tests.test_lfw.test_load_empty_lfw_pairs ... ok
sklearn.datasets.tests.test_lfw.test_load_lfw_pairs_deprecation ... ok
sklearn.datasets.tests.test_lfw.test_load_fake_lfw_pairs ... ok
sklearn.datasets.tests.test_mldata.test_mldata_filename ... ok
Test that fetch_mldata is able to download and cache a data set. ...
And one snapshot of crash:
Versions
Windows-8.1-6.3.9600
('Python', '2.7.11 |Anaconda 4.0.0 (64-bit)| (default, Feb 16 2016, 09:58:36) [MSC v.1500 64 bit (AMD64)]')
('NumPy', '1.10.4')
('SciPy', '0.17.0')
('Scikit-Learn', '0.18.dev0')