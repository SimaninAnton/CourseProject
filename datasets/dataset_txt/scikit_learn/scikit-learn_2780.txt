bglick13 commented on Sep 6, 2016 â€¢
edited
Description
I am getting a pop from empty list error from the warnings.filers.pop(0) call in get_params(). I am using Dask to parallelize the computation of fitting a bunch of MeanShift objects. I only get this error on one machine (a remote linux machine), but it works fine on my home compute (running ubuntu 14)
Steps/Code to Reproduce
Expected Results
Should just fit the MeanShifts and move on
Actual Results
Traceback (most recent call last):
File "tda_profile.py", line 34, in
_tda.fit(train_features, train_targets)
File "/home/ben/tda/tda_parallel_test.py", line 652, in fit
fits = fits.compute()
File "/home/ben/anaconda3/lib/python3.5/site-packages/dask/base.py", line 86, in compute
return compute(self, *_kwargs)[0]
File "/home/ben/anaconda3/lib/python3.5/site-packages/dask/base.py", line 179, in compute
results = get(dsk, keys, *_kwargs)
File "/home/ben/anaconda3/lib/python3.5/site-packages/dask/threaded.py", line 57, in get
**kwargs)
File "/home/ben/anaconda3/lib/python3.5/site-packages/dask/async.py", line 484, in get_async
raise(remote_exception(res, tb))
dask.async.IndexError: pop from empty list
Traceback
File "/home/ben/anaconda3/lib/python3.5/site-packages/dask/async.py", line 267, in execute_task
result = execute_task(task, data)
File "/home/ben/anaconda3/lib/python3.5/site-packages/dask/async.py", line 249, in execute_task
return func(*args2)
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/cluster/mean_shift.py", line 391, in fit
cluster_all=self.cluster_all, n_jobs=self.n_jobs)
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/cluster/mean_shift.py", line 191, in mean_shift
(seed, X, nbrs, max_iter) for seed in seeds)
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/externals/joblib/parallel.py", line 800, in call
while self.dispatch_one_batch(iterator):
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/externals/joblib/parallel.py", line 658, in dispatch_one_batch
self._dispatch(tasks)
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/externals/joblib/parallel.py", line 566, in _dispatch
job = ImmediateComputeBatch(batch)
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/externals/joblib/parallel.py", line 180, in init
self.results = batch()
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/externals/joblib/parallel.py", line 72, in call
return [func(_args, *_kwargs) for func, args, kwargs in self.items]
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/externals/joblib/parallel.py", line 72, in
return [func(_args, *kwargs) for func, args, kwargs in self.items]
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/cluster/mean_shift.py", line 75, in _mean_shift_single_seed
bandwidth = nbrs.get_params()['radius']
File "/home/ben/anaconda3/lib/python3.5/site-packages/sklearn/base.py", line 227, in get_params
warnings.filters.pop(0)
Versions
import platform; print(platform.platform())
Linux-3.10.0-327.el7.x86_64-x86_64-with-centos-7.2.1511-Core
import sys; print("Python", sys.version)
Python 3.5.2 |Anaconda 4.1.1 (64-bit)| (default, Jul 2 2016, 17:53:06)
[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]
import numpy; print("NumPy", numpy.version)
NumPy 1.11.1
import scipy; print("SciPy", scipy.version)
SciPy 0.17.1
import sklearn; print("Scikit-Learn", sklearn.version)
Scikit-Learn 0.17.1