Performance of BallTree with custom distance functions