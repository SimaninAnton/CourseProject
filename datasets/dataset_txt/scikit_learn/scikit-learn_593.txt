Tjalling-a-a commented on Apr 12, 2019
Description
indexable(*iterables) should not arbitrarily format all sparse matrices to csr format.
Steps/Code to Reproduce
from sklearn.utils.validation import indexable
import scipy.sparse as sp

A = sp.random(10, 10, density=0.1, format='csc')
B, _, _ = indexable(A, None, None)
assert (sp.isspmatrix_csc(A) == sp.isspmatrix_csc(B))
Expected Results
No error is thrown
Actual Results
AssertionError
Suggested feature
if sp.issparse(X):
    if sp.isspmatrix_csc(X):
        result.append(X.tocsc())
    else:
        result.append(X.tocsr())
And/or other formats if needed (I only needed to not have the csc reformated)
I have only tested this for my own code, and haven't tested if this would break other functions who do not check for the format of the sparse matrix. I'd love to fork and test it myself, but this is my first time contributing.
Any tips (on contributing) are appreciated :)
Versions
python: 3.6.7
sklearn:
numpy:
scipy: 1.2.1