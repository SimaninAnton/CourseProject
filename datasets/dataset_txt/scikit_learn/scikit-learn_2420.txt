itay955 commented on Feb 8, 2017
Regarding Isolation Forest released recently,
I found a bug on the decision_function method.
if you use max features less than 1 than the trees doesn't fit with the test.
it needs to first feature select the features for that specific tree.
instead of:
for i, tree in enumerate(self.estimators_):
leaves_index = tree.apply(X)
node_indicator = tree.decision_path(X)
it should be:
for i, tree in enumerate(self.estimators_):
X_i = X[:,self.estimators_features_[i]]
leaves_index = tree.apply(X_i)
node_indicator = tree.decision_path(X_i)