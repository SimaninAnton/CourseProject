Member
jakevdp commented on Nov 23, 2012
This follows a discussion on the mailing list.
There is an inconsistency in the radius_neighbors function: when there are the same number of neighbors for every queried point (rare except when a single point is queried), the 'brute' and 'kd_tree' methods modify the type of the returned array; the 'ball_tree' method does not.
This should be remedied, and there are two possibilities:
change the behavior of the ball_tree option to match that of the others.
Advantages: more intuitive behavior in the case of a single point or multiple
points with the same number of neighbors
Disadvantages: inconsistent return type depending on how many neighbors
are queried. This may lead to more confusion when code works
in one situation but not in another
change the behavior of brute and kd_tree to match that of ball_tree
Advantages: common return type regardless of input
Disadvantages: object arrays are confusing, especially when not required due to "rows" being of different size.
This is related to PR #1399