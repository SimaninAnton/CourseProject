altre commented on Feb 3, 2016
tl;dr:
LinearSVC uses liblinear which uses multithreading and seems to create as many threads as processors on the machine. Can I somehow control how many threads are used?
Reason:
We are working on a server and restricting our own resources using cgroups to a certain number of processors. liblinear still creates as many threads or processes as the whole machine has processors. If I say, restrict the usage to one processor and the machine has 40 cores, there are 40 liblinear threads trying to run on one core. This:
Probably slows down the process significantly.
Leads to problems with the system admin. Why? Because the load average is calculated by the number of instruction waiting to be executed averaged over time. So that means that the load average is high, even though only few processors is working full time :.-(
Fun fact: If you use scikit-learns OnVsRest with n_jobs=-1 on say 40 cores you have 40 processes each trying to use 40 threads and possibly only on a few processors as described above.