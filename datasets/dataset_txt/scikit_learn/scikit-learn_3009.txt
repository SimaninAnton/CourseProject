SeanBE commented on May 10, 2016
I passed in the function log_loss instead of the string 'log_loss' as a scoring param to GridSearchCV accidentally. This resulted in the error message found below (You can use the test to recreate). I know that people should read the docs to avoid this from happening.
Since some validation is missing, the error is caught much later that it should be (i.e. since I passed in a score_func, y_true becomes an estimator and the ball starts rolling from there). Can I propose that we add some earlier validation? (in the scorer submodule, methods check_scoring/get_scorer)
Test to Reproduce
 def test_grid_search_error_with_scoring():
     X, y = make_classification()
     grid = {'C': [.1]}
     cv = GridSearchCV(LinearSVC(), grid, scoring=f1_score).fit(X, y)
     assert_raises(ValueError, cv.fit, X, y)
Error message
TypeError: Expected sequence or array-like, got estimator LinearSVC(C=0.1, class_weight=None, dual=True, fit_intercept=True,
     intercept_scaling=1, loss='squared_hinge', max_iter=1000,
     multi_class='ovr', penalty='l2', random_state=None, tol=0.0001,
     verbose=0)
Version
Using latest development version.