koszpe commented on Mar 10, 2015
When I run the RandomForestClassifier from the master branch with class_weight='subsample' and n_jobs=4 parameters, sometimes it ends with exit code -1073741819 (0xC0000005). If I know well, it means Access Violation on Windows.
I guess the problem is the _parallel_build_trees(...) function calls the compute_sample_weight('auto', y, indices) (https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/ensemble/forest.py line number 92) which uses np.choose(...) (https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/utils/class_weight.py#L141 line number 141). As I know, it is not thread-safe.
Sorry, if I report this bug in wrong place.