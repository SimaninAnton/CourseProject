l1x commented on Jul 26, 2013
Hey guys,
I am trying to build an RPM on CentOS to provide better manageability of the scikit-learn package but it fails the following way after cloning the code and issuing the following command:
python setup.py bdist_rpm
...
/usr/lib/python2.6/site-packages/numpy-1.7.1-py2.6-linux-x86_64.egg/numpy/core/include/numpy/npy_deprecated_api.h:11:2: warning: #warning "Using deprecated NumPy API, disable it by #defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION"
/usr/lib/python2.6/site-packages/numpy-1.7.1-py2.6-linux-x86_64.egg/numpy/core/include/numpy/__ufunc_api.h:236: warning: '_import_umath' defined but not used
gcc -pthread -shared -O2 -g build/temp.linux-x86_64-2.6/sklearn/linear_model/sgd_fast.o -L/usr/lib64 -Lbuild/temp.linux-x86_64-2.6 -lm -lpython2.6 -o build/lib.linux-x86_64-2.6/sklearn/linear_model/sgd_fast.so
running scons
+ exit 0
Executing(%install): /bin/sh -e /var/tmp/rpm-tmp.hKGbIj
+ umask 022
+ cd /root/scikit-learn/build/bdist.linux-x86_64/rpm/BUILD
+ cd scikit-learn-0.14-git
+ python setup.py install --single-version-externally-managed -O1 --root=/root/scikit-learn/build/bdist.linux-x86_64/rpm/BUILDROOT/scikit-learn-0.14_git-1.x86_64 --record=INSTALLED_FILES
Partial import of sklearn during the build process.
usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]
   or: setup.py --help [cmd1 cmd2 ...]
   or: setup.py --help-commands
   or: setup.py cmd --help

error: option --single-version-externally-managed not recognized
error: Bad exit status from /var/tmp/rpm-tmp.hKGbIj (%install)


RPM build errors:
    Bad exit status from /var/tmp/rpm-tmp.hKGbIj (%install)
error: command 'rpmbuild' failed with exit status 1
Is there any chance I can build an RPM?
Thank you in advance,
Istvan