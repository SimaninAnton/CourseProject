mgabel-stratoscale commented on Jul 28, 2015
A simple KernelPCA.fit_transform() call when n_components == None causes a later matlotlib plot() to fail, raising ValueError: cannot convert float NaN to integer.
from sklearn.decomposition import KernelPCA
import matplotlib.pylab as pl
import numpy as np

x = np.random.randn(30,18)
kpca = KernelPCA(kernel='rbf')
z = kpca.fit_transform(x)
pl.plot(np.random.rand(10))
pl.show()
The problem disappears when setting n_components to say, 4: KernelPCA(4, kernel='rbf').
I am using sklearn 0.16.1 and matplotlib 1.4.3 as bundled in WinPython-64bit-2.7.10.1 .