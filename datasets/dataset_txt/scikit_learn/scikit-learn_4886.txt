wedaly commented on Apr 16, 2013
I recently updated to sklearn version 0.13.1, and started getting the following exception using code/data that used to work correctly:
Traceback (most recent call last):
  File "test.py", line 9, in <module>
    classifier.fit(examples_dict['examples'], examples_dict['labels'])
  File "/usr/local/lib/python2.7/dist-packages/sklearn/ensemble/forest.py", line 397, in fit
    predictions[k][mask, :] += p_estimator[k]
ValueError: operands could not be broadcast together with shapes (7046,3) (7046,9) (7046,3) 
I can replicate the issue for certain data sets:
from sklearn.ensemble import RandomForestClassifier
import json

examples_file = open('examples.json')
examples_dict = json.loads(examples_file.read())
examples_file.close()

classifier = RandomForestClassifier(n_estimators=50, oob_score=True)
classifier.fit(examples_dict['examples'], examples_dict['labels'])
The problem only occurs when oob_score=True.
One such data-set that causes a problem is: http://will-daly.com/examples.json