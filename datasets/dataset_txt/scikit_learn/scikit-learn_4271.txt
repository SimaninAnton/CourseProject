Contributor
matthew-brett commented on Aug 11, 2014
The sklearn wheels on pypi are only compatible with (I think) numpy 1.8,
presumably because they were built with numpy 1.8. This is what
happens if you are using an earlier version of numpy, here 1.7.1:
$ python -c 'import sklearn.svm'
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/Users/mb312/.virtualenvs/sklearn-test/lib/python2.7/site-packages/sklearn/svm/__init__.py",
line 13, in <module>
    from .classes import SVC, NuSVC, SVR, NuSVR, OneClassSVM, LinearSVC
  File "/Users/mb312/.virtualenvs/sklearn-test/lib/python2.7/site-packages/sklearn/svm/classes.py",
line 1, in <module>
    from .base import BaseLibLinear, BaseSVC, BaseLibSVM
  File "/Users/mb312/.virtualenvs/sklearn-test/lib/python2.7/site-packages/sklearn/svm/base.py",
line 8, in <module>
    from . import libsvm, liblinear
  File "__init__.pxd", line 861, in init sklearn.svm.libsvm
(sklearn/svm/libsvm.c:9134)
ValueError: numpy.ufunc has the wrong size, try recompiling
The wheels built by the travis builder are compatible with numpy >=1.6.0 (Python 2) and numpy >= 1.7 (Python 3) - maybe consider using building and uploading new wheels instead of using the current wheels on pypi? Wheels get uploaded to http://wheels.scikit-image.org/
You will probably also want to apply this patch for the release, otherwise the user will get lots of spurious import warnings.
The scikit-learn-wheels repo is at https://github.com/MacPython/scikit-learn-wheels, and @ogrisel , @ChrisBarker-NOAA and I can add collaborators so y'all can trigger and update builds.