Contributor
arthurmensch commented on May 20, 2015
dict_learning_online fails with n_jobs > 1. Bug can be reproduced using denoising examples available in the doc :
https://gist.github.com/arthurmensch/d85f9efb3716fe090937
Observed images are not correct, and dictionary learning take much longer time.
Incriminated code can be located in function sparse_encode in sklearn.decomposition.dict_learning, line 248.
    code_views = Parallel(n_jobs=n_jobs)(
        delayed(_sparse_encode)(
            X[this_slice], dictionary, gram, cov[:, this_slice], algorithm,
            regularization=regularization, copy_cov=copy_cov,
            init=init[this_slice] if init is not None else None,
            max_iter=max_iter)
        for this_slice in slices)