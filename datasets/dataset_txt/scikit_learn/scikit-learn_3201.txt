Contributor
yenchenlin commented on Feb 9, 2016
It seems that examples/text/document_clustering.py has broken since silhouette_score don't accept sparse matrix.
Following is the error messages:
Traceback (most recent call last): File "examples/text/document_clustering.py", line 202, in <module> % metrics.silhouette_score(X, km.labels_, sample_size=1000)) File "/Users/YenChen/Desktop/Python/scikit-learn/sklearn/metrics/cluster/unsupervised.py", line 84, in silhouette_score X, labels = check_X_y(X, labels) File "/Users/YenChen/Desktop/Python/scikit-learn/sklearn/utils/validation.py", line 516, in check_X_y ensure_min_features, warn_on_dtype, estimator) File "/Users/YenChen/Desktop/Python/scikit-learn/sklearn/utils/validation.py", line 375, in check_array force_all_finite) File "/Users/YenChen/Desktop/Python/scikit-learn/sklearn/utils/validation.py", line 242, in _ensure_sparse_format raise TypeError('A sparse matrix was passed, but dense ' TypeError: A sparse matrix was passed, but dense data is required. Use X.toarray() to convert to a dense numpy array.