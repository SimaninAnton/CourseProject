Member
amueller commented on Apr 6, 2015
As observed in #4522, BallTree and pairwise_distances have very different results for metric="jaccard":
from sklearn.neighbors import NearestNeighbors
X = np.random.uniform(size=(6, 5))

nn = NearestNeighbors(metric="jaccard", algorithm='brute').fit(X)
print(nn.kneighbors(X)[0])
nn = NearestNeighbors(metric="jaccard", algorithm='ball_tree').fit(X)
print(nn.kneighbors(X)[0])
[[ 0. 1. 1. 1. 1.]
[ 0. 1. 1. 1. 1.]
[ 0. 1. 1. 1. 1.]
[ 0. 1. 1. 1. 1.]
[ 0. 1. 1. 1. 1.]
[ 0. 1. 1. 1. 1.]]
[[ 0. 0. 0. 0. 0.]
[ 0. 0. 0. 0. 0.]
[ 0. 0. 0. 0. 0.]
[ 0. 0. 0. 0. 0.]
[ 0. 0. 0. 0. 0.]
[ 0. 0. 0. 0. 0.]]