janmotl commented on Aug 16, 2018
There are transformers, like leave-one-out, that need the label vector y to be present for transformation of the training data - if the label is missing during the transformation of the training data, the downstream model may overfit terribly.
However, pipeline.predict(X, y) does not pass the label y to the transformers. Example code:
from sklearn.datasets import samples_generator
from sklearn.pipeline import Pipeline
from sklearn.svm import SVC
from category_encoders import LeaveOneOutEncoder

X, y = samples_generator.make_classification(n_informative=5, n_redundant=0, random_state=42)
pipeline = Pipeline(memory=None,
                    steps=[('encoder', LeaveOneOutEncoder()),
                           ('svc', SVC(kernel='linear'))])
pipeline.fit(X, y)

# LeaveOneOutEncoder should get both, X and y. But only X is passed.
training_data_prediction = pipeline.predict(X, y) 