joaosal commented on Nov 6, 2012
Hi All...
I am trying to import sklearn and I am having the following [Any ideas] Cheers
Using iPython
In [1]: import sklearn
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
/Users/joaosalcedo/<ipython-input-1-8fd979e02004> in <module>()
----> 1 import sklearn

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/__init__.py in <module>()
     30 else:
     31     from . import __check_build
---> 32     from .base import clone
     33 
     34     try:

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/base.py in <module>()
      8 from scipy import sparse
      9 
---> 10 from .metrics import r2_score
     11 
     12 

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/metrics/__init__.py in <module>()
     11                 mean_squared_error, average_precision_score, auc_score
     12 
---> 13 from . import cluster
     14 from .cluster import adjusted_rand_score
     15 from .cluster import homogeneity_completeness_v_measure

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/metrics/cluster/__init__.py in <module>()
      6 - unsupervised, which does not and measures the 'quality' of the model itself.
      7 """
----> 8 from .supervised import adjusted_mutual_info_score
      9 from .supervised import normalized_mutual_info_score
     10 from .supervised import adjusted_rand_score

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/metrics/cluster/supervised.py in <module>()
     10 from math import log
     11 from scipy.misc import comb
---> 12 from scipy.special import gammaln
     13 
     14 import numpy as np

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/__init__.py in <module>()
    523 #from special_version import special_version as __version__

    524 
--> 525 from _cephes import *
    526 
    527 from basic import *

ImportError: dlopen(/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/_cephes.so, 2): no suitable image found.  Did find:
    /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/_cephes.so: mach-o, but wrong architecture
After that I did the following
import scipy
import sklearn

And I am having the following

In [2]: import scipy

In [3]: import sklearn
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
/Users/joaosalcedo/<ipython-input-3-8fd979e02004> in <module>()
----> 1 import sklearn

/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/__init__.py in <module>()
     29     # process, as it may not be compiled yet

     30 else:
---> 31     from . import __check_build
     32     from .base import clone
     33 

ImportError: cannot import name __check_build
Then I run the test:
nosetests sklearn --exe
E
======================================================================
ERROR: Failure: ImportError (dlopen(/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/_cephes.so, 2): no suitable image found.  Did find:
    /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/_cephes.so: mach-o, but wrong architecture)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Python/2.7/site-packages/nose-1.1.2-py2.7.egg/nose/loader.py", line 379, in loadTestsFromName
    module = resolve_name(addr.module)
  File "/Library/Python/2.7/site-packages/nose-1.1.2-py2.7.egg/nose/util.py", line 321, in resolve_name
    module = __import__('.'.join(parts_copy))
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/__init__.py", line 32, in <module>
    from .base import clone
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/base.py", line 10, in <module>
    from .metrics import r2_score
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/metrics/__init__.py", line 13, in <module>
    from . import cluster
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/metrics/cluster/__init__.py", line 8, in <module>
    from .supervised import adjusted_mutual_info_score
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/metrics/cluster/supervised.py", line 12, in <module>
    from scipy.special import gammaln
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/__init__.py", line 525, in <module>
    from _cephes import *
ImportError: dlopen(/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/_cephes.so, 2): no suitable image found.  Did find:
    /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/scipy/special/_cephes.so: mach-o, but wrong architecture

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (errors=1)
192-168-1-100:~ joaosalcedo$ python -c "import sklearn; sklearn.test()"
Running unit tests and doctests for sklearn
/Library/Python/2.7/site-packages/nose-1.1.2-py2.7.egg/nose/util.py:14: DeprecationWarning: The compiler package is deprecated and removed in Python 3.x.
  from compiler.consts import CO_GENERATOR
NumPy version 1.5.1
NumPy is installed in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy
Python version 2.7.3 (v2.7.3:70274d53c1dd, Apr  9 2012, 20:52:43) [GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]
nose version 1.1.2
I: Seeding RNGs with 1624046670
...................S..................................F.2.17927109077 55.4082834902
........None
...........EE.EE..SS.S.................................................S......................................................SEE....................................................../Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/externals/joblib/test/test_func_inspect.py:122: UserWarning: Cannot inspect object <functools.partial object at 0x104a8fb50>, ignore list will not work.
  nose.tools.assert_equal(filter_args(ff, ['y'], (1, )),
.........................................................................................________________________________________________________________________________
test_memory setup
________________________________________________________________________________
________________________________________________________________________________
test_memory teardown
________________________________________________________________________________
..________________________________________________________________________________
test_memory setup
________________________________________________________________________________
..........................................................................................................................________________________________________________________________________________
test_memory teardown
________________________________________________________________________________
.________________________________________________________________________________
setup numpy_pickle
________________________________________________________________________________
.....................................Exception AttributeError: AttributeError("'NoneType' object has no attribute 'tell'",) in <bound method memmap.__del__ of memmap(-2.0)> ignored
Exception AttributeError: AttributeError("'NoneType' object has no attribute 'tell'",) in <bound method memmap.__del__ of memmap(-2.0)> ignored
Exception AttributeError: AttributeError("'NoneType' object has no attribute 'tell'",) in <bound method memmap.__del__ of memmap(-2.0)> ignored
/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/sklearn/externals/joblib/test/test_numpy_pickle.py:182: Warning: file "/var/folders/6_/qx8x4c652svgns1hw8qvl5qm0000gn/T/tmpwxpjrO/test.pkl486" appears to be a zip, ignoring mmap_mode "r" flag passed
  numpy_pickle.load(this_filename, mmap_mode='r')
Exception AttributeError: AttributeError("'NoneType' object has no attribute 'tell'",) in <bound method memmap.__del__ of memmap(-2.0)> ignored
.....________________________________________________________________________________
teardown numpy_pickle
________________________________________________________________________________
............An unexpected error occurred while tokenizing input
The following traceback may be corrupted or invalid
The error message is: ('EOF in multi-line statement', (39, 0))