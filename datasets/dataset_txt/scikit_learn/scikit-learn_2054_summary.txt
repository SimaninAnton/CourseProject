discrete branch: add encoding option to discretizer