Member
kastnerkyle commented on Jun 6, 2014
I am seeing failing tests with both python 2.7 and python 3.4 for Windows
scipy 0.14
numpy 1.8.1
all 32 bit
CCA, LLE, and KernelPCA seem to be the primary culprits. Here is a sample traceback
======================================================================
FAIL: sklearn.tests.test_common.test_transformers('KernelPCA', <class 'sklearn.decomposition.kernel_pca.KernelPCA
ay([[ 2.51189522,  2.6430893 ,  2.54847718],
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Python27\lib\site-packages\nose\case.py", line 197, in runTest
    self.test(*self.arg)
  File "C:\Python27\lib\site-packages\sklearn\tests\test_common.py", line 269, in check_transformer
    % Transformer)
  File "C:\Python27\lib\site-packages\numpy\testing\utils.py", line 811, in assert_array_almost_equal
    header=('Arrays are not almost equal to %d decimals' % decimal))
  File "C:\Python27\lib\site-packages\numpy\testing\utils.py", line 599, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Arrays are not almost equal to 2 decimals
consecutive fit_transform outcomes not consistent in <class 'sklearn.decomposition.kernel_pca.KernelPCA'>
(shapes (30, 15), (30, 14) mismatch)
 x: array([[  1.87664949e+00,   8.57398986e-02,   4.20312700e-02,
          3.31837404e-08,   0.00000000e+00,   0.00000000e+00,
          0.00000000e+00,   2.24505178e-08,   0.00000000e+00,...
 y: array([[  1.87664949e+00,   8.57398986e-02,   4.20312700e-02,
          3.31844220e-08,   0.00000000e+00,   0.00000000e+00,
          0.00000000e+00,   2.24490761e-08,   0.00000000e+00,...

======================================================================
FAIL: sklearn.tests.test_common.test_transformers('LocallyLinearEmbedding', <class 'sklearn.manifold.locally_line
llyLinearEmbedding'>, array([[ 2.51189522,  2.6430893 ,  2.54847718],
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Python27\lib\site-packages\nose\case.py", line 197, in runTest
    self.test(*self.arg)
  File "C:\Python27\lib\site-packages\sklearn\tests\test_common.py", line 269, in check_transformer
    % Transformer)
  File "C:\Python27\lib\site-packages\numpy\testing\utils.py", line 811, in assert_array_almost_equal
    header=('Arrays are not almost equal to %d decimals' % decimal))
  File "C:\Python27\lib\site-packages\numpy\testing\utils.py", line 644, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Arrays are not almost equal to 2 decimals
consecutive fit_transform outcomes not consistent in <class 'sklearn.manifold.locally_linear.LocallyLinearEmbeddi
(mismatch 25.0%)
 x: array([[ -2.27507872e-01,   2.98382398e-01],
       [  1.22093549e-01,  -1.92026395e-11],
       [  1.22093549e-01,  -2.04742612e-11],...
 y: array([[ -2.35941411e-01,   2.98382398e-01],
       [  1.04872863e-01,  -1.23895338e-12],
       [  1.04872863e-01,   1.95896077e-12],...

----------------------------------------------------------------------
Ran 3257 tests in 279.742s
Names of estimators that cause the failure:
KernelPCA
LocallyLinearEmbedding
CCA