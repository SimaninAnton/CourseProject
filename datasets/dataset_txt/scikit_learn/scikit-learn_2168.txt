vawk commented on May 31, 2017
Hi there.
I have a problem reproducing this demonstration: http://scikit-learn.org/stable/auto_examples/cluster/plot_kmeans_assumptions.html#sphx-glr-auto-examples-cluster-plot-kmeans-assumptions-py. Boiling it down, this is what happens: I run the code below the first time and it finishes without an error. Running it again results in an error.
import numpy as np
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
from sklearn.datasets import make_blobs

n_samples = 1500
random_state = 170
X, y = make_blobs(n_samples=n_samples, random_state=random_state)
y_pred = KMeans(n_clusters = 3,random_state = random_state).fit_predict(X)
plt.scatter(X[:,0],X[:,1],c=y_pred)
The following error occurs when the code is run a second time:
File ".../.local/lib/python2.7/site-packages/sklearn/cluster/k_means_.py", line 898, in fit_predict
return self.fit(X).labels_
File ".../.local/lib/python2.7/site-packages/sklearn/cluster/k_means_.py", line 889, in fit
return_n_iter=True)
File ".../.local/lib/python2.7/site-packages/sklearn/cluster/k_means_.py", line 345, in k_means
x_squared_norms=x_squared_norms, random_state=random_state)
File ".../.local/lib/python2.7/site-packages/sklearn/cluster/k_means_.py", line 399, in _kmeans_single_elkan
max_iter=max_iter, verbose=verbose)
File "sklearn/cluster/_k_means_elkan.pyx", line 146, in sklearn.cluster._k_means_elkan.k_means_elkan (sklearn/cluster/_k_means_elkan.c:6253)
File ".../.local/lib/python2.7/site-packages/sklearn/metrics/pairwise.py", line 222, in euclidean_distances
X, Y = check_pairwise_arrays(X, Y)
TypeError: 'NoneType' object is not callable
After a restart of the kernel the same happens: The first run works and the second run does not. Does anyone have an idea what the reason might be?
Thanks in advance!