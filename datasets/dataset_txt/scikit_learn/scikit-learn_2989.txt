grayben commented on May 24, 2016
Description
HashingVectorizer.fit_transform appears to be completely broken
Steps/Code to Reproduce
from sklearn.feature_extraction.text import HashingVectorizer

hashing_vectorizer = HashingVectorizer()
single_document = "The quick brown fox jumped over the lazy dog"
term_document_frequency_matrix = hashing_vectorizer.fit_transform([single_document])
n_features = term_document_frequency_matrix.get_shape()[1]
Expected Results
n_features <= 9
is True
Actual Results
n_features == 1048576
is True
Versions
Darwin-15.2.0-x86_64-i386-64bit
('Python', '2.7.11 (default, Mar 1 2016, 11:12:23) \n[GCC 4.2.1 Compatible Apple LLVM 7.0.2 (clang-700.1.81)]')
('NumPy', '1.10.4')
('SciPy', '0.17.0')
('Scikit-Learn', '0.17.1')