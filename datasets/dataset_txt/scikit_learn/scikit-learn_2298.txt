vb8190 commented on Mar 27, 2017
Hi,
I am using scikit learn version 0.18.1
The learning_curve api's cv attribute is not taking StratifiedKfold object. Following code I am trying to execute.
estimator = XGBClassifier(objective='multi:softprob',learning_rate= 0.3,seed=27)
skfold = StratifiedKFold(n_splits=10, shuffle=True, random_state=7)
train_sizes, train_scores, test_scores = learning_curve(
estimator, X, train_y, cv=skfold, scoring="neg_log_loss", n_jobs=-1, train_sizes=np.linspace(.1,1., 10))
And it throws following error:
TypeError Traceback (most recent call last)
in ()
2 cv = StratifiedKFold(n_splits=10, shuffle=True, random_state=7)
3 train_sizes, train_scores, test_scores = learning_curve(
----> 4 estimator, X, train_y, cv=cv, scoring="neg_log_loss", n_jobs=-1, train_sizes=np.linspace(.1,1., 10))
5 train_scores_mean = np.mean(train_scores, axis=1)
6 train_scores_std = np.std(train_scores, axis=1)
C:\Users\VikasDesktop\Anaconda2\lib\site-packages\sklearn\learning_curve.py in learning_curve(estimator, X, y, train_sizes, cv, scoring, exploit_incremental_learning, n_jobs, pre_dispatch, verbose, error_score)
138 X, y = indexable(X, y)
139 # Make a list since we will be iterating multiple times over the folds
--> 140 cv = list(check_cv(cv, X, y, classifier=is_classifier(estimator)))
141 scorer = check_scoring(estimator, scoring=scoring)
142
TypeError: 'StratifiedKFold' object is not iterable
The GridSearchCV works as just fine when it's cv attribute is provided StratifiedKFold object.