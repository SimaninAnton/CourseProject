bj-smegma commented on Feb 14, 2015
It says in the FAQ:
Requests automatically decompresses gzip-encoded responses, and does its best to decode response content to unicode when possible.
But the following code produces uncompressed data:
import requests
response = requests.get("http://www.shopcade.com/sitemaps/sitemap_products_index.xml.gz")
print response.text
So is this an issue of requests library or is there something wrong with the response from that site. When I download the archive via browser it decompresses well and the xml seems to be fine. Also the response headers contain the following key-value pair:
'content-type': 'application/x-gzip'