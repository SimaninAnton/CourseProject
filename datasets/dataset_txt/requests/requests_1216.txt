mloskot commented on Dec 2, 2015 â€¢
edited
Here is an URL with question mark included, but without any parameters:
url='http://server.com/api/item.json?'
That URL (w/ question mark) controls server response in such way that it allows to request certain metadata about an item, instead of representation of an item iteself:
import urllib3
http = urllib3.PoolManager()
r = http.request('GET', url)
print (r.data)
{ "ItemMetadata" : { ... }}
The above works well.
Requests, however, eat-or-skip the question mark if the params argument is missing/None/{}, so my request is responded with the resource representation, instead of the metadata:
from requests import get
r = get(url, stream=True)
print(r.text)
{ "Item" : { ... }}
That seem to indicate a bug in URL parsing.