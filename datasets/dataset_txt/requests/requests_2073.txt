Contributor
jvanasco commented on Jul 7, 2013
The following tests fail:
#### ERROR: test_custom_content_type (__main__.RequestsTestCase)

    File "test_requests.py", line 397, in test_custom_content_type
    UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 11167: ordinal not in range(128)

Fails due to UTF-8/Unicode characters in the test_requests.py document; if you replace `__file__` with `__file__.txt` that only contains ASCII data, it passes.


#### ERROR: test_different_encodings_dont_break_post (__main__.RequestsTestCase)

    File "test_requests.py", line 357, in test_different_encodings_dont_break_post
    UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 11162: ordinal not in range(128)

Fails due to UTF-8/Unicode characters in the test_requests.py document; if you replace `__file__` with `__file__.txt` that only contains ASCII data, it passes.


#### ERROR: test_unicode_header_name (__main__.RequestsTestCase)

    File "test_requests.py", line 345, in test_unicode_header_name
    UnicodeDecodeError: 'ascii' codec can't decode byte 0xff in position 0: ordinal not in range(128)

No idea how to fix.

#### ERROR: test_unicode_multipart_post (__main__.RequestsTestCase)

    File "test_requests.py", line 363, in test_unicode_multipart_post
    UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 84: ordinal not in range(128)

No idea how to fix.

#### ERROR: test_mixed_case_scheme_acceptable (__main__.RequestsTestCase)

    Traceback (most recent call last):
    SSLError: [Errno 1] _ssl.c:499: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
I'd suggest a two part fix:
1- rewrite test to not verify ssl certificates:
>   def test_mixed_case_scheme_acceptable(self):
>+        verify = False
...
>-        r = s.send(r.prepare())
>+        r = s.send(r.prepare(), verify=verify)
2- write another test suite to ensure verify can be turned on and off, and that PEM can be sent [ ie, in line with http://docs.python-requests.org/en/latest/user/advanced/#ssl-cert-verification and http://stackoverflow.com/questions/10667960/python-requests-throwing-up-sslerror ]