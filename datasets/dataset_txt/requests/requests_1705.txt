Contributor
dstufft commented on Jun 24, 2014
There is an open bug report on pip (pypa/pip#1805) after some back and forth this appears to be a legit requests (or maybe urllib3) bug.
Using requests 2.3.0 I had one of the people run a script like this:
import requests
session = requests.Session()
for i in range(100):
    print(i)
    session.get("https://pypi.python.org/simple/").content
They said they had both http_proxy and https_proxy environment variables set up, and when they ran it they got this output: https://dpaste.de/doVg/raw
On the pip ticket people have said they got this while configuring the proxy via --proxy which translates to ``session.proxies ={"https": "", "http": ""}.