kssim commented on Aug 24, 2017 â€¢
edited
If there is a value in the body, setting the content-length in the header does not transfer it.
I wonder if you are willing to give me the option to ignore the body value and pass in the value set by content-length
If you are thinking about providing options, I am willing to send a pull-request
Expected Result
I set the header to a content-length of 100, and the size of the body is 10.
I expected the content-length to be 100, but actually it was 10.
Actual Result
Looking at the code, there was logic to update the content-length by calculating the value of the body if it had a value for the body.
(requests/models.py - line 515, in prepare_content_legnth method)
Reproduction Steps
This happens when you set the content-length and enter a different size than the value set in the body.
System Information
It is not system dependent.