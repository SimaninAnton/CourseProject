467754239 commented on Dec 2, 2016 â€¢
edited by Lukasa
coding
url = ""
data = {'uuid':'-jx-1', 'alarmType':1, 'timeDuration':10}
headers = {'Content-type': 'multipart/form-data'}

mp3_fd = open('/home/ec2-user/voice/123.mp3', 'rb')
files = {'messageFile': mp3_fd}

req = requests.post(url, files=files, json=data, headers=headers)
print req.status_code
print req.content
error
500
<html><head><title>Apache Tomcat/6.0.43 - Error report</title><style><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP Status 500 - Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found</h1><HR size="1" noshade="noshade"><p><b>type</b> Exception report</p><p><b>message</b> <u>Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found</u></p><p><b>description</b> <u>The server encountered an internal error that prevented it from fulfilling this request.</u></p><p><b>exception</b> <pre>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found
 org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:979)
 org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:643)
 org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:723)
 com.sengled.cloud.voice.common.filter.CheckLoginStatusFilter.doFilter(CheckLoginStatusFilter.java:54)
 com.sengled.cloud.voice.common.filter.EncodingFilter.doFilter(EncodingFilter.java:56)
</pre></p><p><b>root cause</b> <pre>org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found
 org.springframework.web.multipart.commons.CommonsMultipartResolver.parseRequest(CommonsMultipartResolver.java:165)
 org.springframework.web.multipart.commons.CommonsMultipartResolver.resolveMultipart(CommonsMultipartResolver.java:142)
 org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1089)
 org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:928)
 org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
 org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
 org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:643)
 org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:723)
 com.sengled.cloud.voice.common.filter.CheckLoginStatusFilter.doFilter(CheckLoginStatusFilter.java:54)
 com.sengled.cloud.voice.common.filter.EncodingFilter.doFilter(EncodingFilter.java:56)
</pre></p><p><b>root cause</b> <pre>org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found
 org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:954)
 org.apache.commons.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:331)
 org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:351)
 org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)
 org.springframework.web.multipart.commons.CommonsMultipartResolver.parseRequest(CommonsMultipartResolver.java:158)
 org.springframework.web.multipart.commons.CommonsMultipartResolver.resolveMultipart(CommonsMultipartResolver.java:142)
 org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1089)
 org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:928)
 org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
 org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
 org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:643)
 org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:723)
 com.sengled.cloud.voice.common.filter.CheckLoginStatusFilter.doFilter(CheckLoginStatusFilter.java:54)
 com.sengled.cloud.voice.common.filter.EncodingFilter.doFilter(EncodingFilter.java:56)
</pre></p><p><b>note</b> <u>The full stack trace of the root cause is available in the Apache Tomcat/6.0.43 logs.</u></p><HR size="1" noshade="noshade"><h3>Apache Tomcat/6.0.43</h3></body></html>