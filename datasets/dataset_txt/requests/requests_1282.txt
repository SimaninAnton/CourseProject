Member
Lukasa commented on Oct 9, 2015
/cc @ralphbean @eriol
OpenStack has encountered yet another breakage caused by people combining pip installed and system packages: specifically, updating urllib3 via pip when requests/urllib3 are already installed via the system packages.
@dstufft tells me that, if the system packages correctly populate the install_requires part of setup.py, pip would respect those requirements. Previously this wasn't possible because requests would include mid-release versions of urllib3, but as of v2.6.2 our new release rules mean that we only use proper urllib3 releases.
For this reason, I think it would be extremely good if downstream unbundlers (most notably Fedora and Debian), when they unbundle requests, would populate setup.py with the correct install_requires. For 2.8.0, that would be urllib3==1.12. For 2.7.0, that would be urllib3==1.10.4. This should ensure that pip won't casually install a version of urllib3 that will break the system requests package.
Thoughts?