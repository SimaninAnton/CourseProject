wbolster commented on Mar 7, 2012
Requests raises ValueError for most incorrect urls, but in case the schema is unknown (e.g. "foo://a/b/c"), KeyError is used.
>>> requests.get('foo://a/b/c')
KeyError: u'foo'

>>> requests.get('x//a/b/c')
ValueError: Invalid URL 'x//a/b/c': No schema supplied
This makes it hard to differentiate between "erroneous url" versus "http request failed".