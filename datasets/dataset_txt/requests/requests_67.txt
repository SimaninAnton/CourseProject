C4o commented on Aug 7, 2019 â€¢
edited
Summary.
Expected Result
follow all 'set-cookie' actions from website.
Actual Result
the website i request would set cookie for three or times to change a specific cookie or add a new cookie. and i found that first time the website set three cookies, that's ok, second time the website set another three cookies, and it failed, and third time the website tried to change three cookies, and it failed too.
i printed session.cookies each time, it' ok, but cookies in http packets that i captured did not match session.cookie, there were still the first three cookies.
by the way, my friend found that this situation also appear at other normal browser like Chrome and Firefox, but 'set-cookie' takes effect in Tor browser which is based on Firefox, maybe it's something new?
Reproduction Steps
import requests
session = requests.session()
session.get(url1)
session.get(url2)
session.get(url3)
System Information
$ python -m requests.help
<paste here>
This command is only available on Requests v2.16.4 and greater. Otherwise,
please provide some basic information about your system (Python version,
operating system, &c).