cjw296 commented on Jun 23, 2011
The following Apache config section enforces the kind of auth I'm talking about:
SSLCACertificateFile /root/CA/cacert.pem
SSLVerifyClient require
SSLVerifyDepth 1
Using httplib2 (http://code.google.com/p/httplib2/) this is done as follows:
from httplib2 import Http
http = Http()
http.add_certificate(keyfile,certfile,urlparse(url).netloc)
...which is great, except for the suck of having to parse the netloc.
My wishlist for requests would be:
requests.get(full_url,auth=AuthObject(method='cert',keyfile=keyfile,certfile=certfile))
However, on the subject, it's important for auth types of be used in parallel.
The specific case I have here has both client certificate and basic auth at the same time.
I have no idea how I'd choose to spell that nicely, although httplib2 does it quite nicely:
http = Http()
http.add_credentials(username,password)
http.add_certificate(keyfile,certfile,urlparse(url).netloc)
thanks!
Chris