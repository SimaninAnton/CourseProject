femtotrader commented on Dec 12, 2014
Hello,
I'm moving some Python code from urlopen to requests (because it will be easier for me to add a db cache (SQLite) mechanism using requests-cache)
The code I want to modify looks like
    with urlopen(url) as resp:
        lines = resp.readlines()
I don't find any equivalent to readlines()
Any idea ?
I have found a generator solution like
import requests
import requests_cache

requests_cache.install_cache('cache', backend='sqlite', expire_after=60*5)

response = requests.get('http://finance.yahoo.com/d/quotes.csv?s=AAPL+F&f=l1srs7t1p2', stream=True)

for line in response.iter_lines():
    print(line)
but requests_cache doesn't seems to like this stream parameter
see reclosedev/requests-cache#33
So there is 2 solutions (and both can be valuable).
fix requests-cache : that's what I'm asking to @reclosedev
provide a request readlines() method (or give a tip to have something like that which will return a list and not a generator)
That will be very nice.
Thanks for requests... that's a great lib for humans