yarikoptic commented on Feb 6, 2016
Here is an example with 3 similar get calls with all allow_redirects=False:
$> PYTHONPATH=$PWD python -c "import requests; url = 'http://127.0.0.1:45508/ds666'; sess = requests.Session(); print sess.get(url, allow_redirects=False); print sess.get(url, allow_redirects=False); print sess.get(url, allow_redirects=False)"                                                                  
<Response [301]>
<Response [301]>
<Response [301]>
all of them logically 301. If 2nd one says to allow redirects, then 3rd would also succeed even if I disallow redirects for that invocation
$> PYTHONPATH=$PWD python -c "import requests; url = 'http://127.0.0.1:45508/ds666'; sess = requests.Session(); print sess.get(url, allow_redirects=False); print sess.get(url, allow_redirects=True); print sess.get(url, allow_redirects=False)"
<Response [301]>
<Response [200]>
<Response [200]>
Demonstrated on
v2.9.1-63-g6143b7e