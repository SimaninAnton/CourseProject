Member
Lukasa commented on Mar 26, 2014
From Jenkins:
============================= test session starts ==============================
platform linux -- Python 3.3.2 -- pytest-2.3.4
plugins: cov
collected 125 items

test_requests.py ...........................................................................................................................F.

=================================== FAILURES ===================================
______________ TestRedirects.test_requests_are_updated_each_time _______________

self = <test_requests.TestRedirects object at 0x2aca5b721dd0>

    def test_requests_are_updated_each_time(self):
        session = RedirectSession([303, 307])
        prep = requests.Request('POST', 'http://httpbin.org/post').prepare()
        r0 = session.send(prep)
        assert r0.request.method == 'POST'
        assert session.calls[-1] == SendCall((r0.request,), {})
        redirect_generator = session.resolve_redirects(r0, prep)
        for response in redirect_generator:
            assert response.request.method == 'GET'
            send_call = SendCall((response.request,),
                                 TestRedirects.default_keyword_args)
>           assert session.calls[-1] == send_call
E           assert SendCall(args...ects': False}) == SendCall(args=...ects': False})
E             At index 1 diff: {'stream': False, 'timeout': None, 'cert': None, 'proxies': {}, 'verify': True, 'allow_redirects': False} != {'stream': False, 'timeout': None, 'cert': None, 'proxies': None, 'verify': True, 'allow_redirects': False}

test_requests.py:1277: AssertionError
 generated xml file: /var/lib/jenkins/jobs/requests-pr/workspace/PYTHON/3.3/junit.xml 
==================== 1 failed, 124 passed in 10.27 seconds =====================