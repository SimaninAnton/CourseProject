estevopaz commented on Aug 10, 2017
Hi, I have different redirection behavior between version 2.12.4 and 2.18.3:
Version 2.18.3 redirects POST method to GET after 301.
Version 2.12.4 get POST data directly without redirection ???
URL: http://www.eddyseverything.com/
POST data:
{'_post_id': '5',
'_referer': '/used-vehicles/',
'action': 'im_ajax_call',
'make[]': 'Acura',
'model[]': 'MDX',
'page': '1',
'perform': 'get_results',
'show_all_filters': 'false'}
import requests
session = requests.Session()
'"num_rows"' in session.post('http://www.eddyseverything.com/', {'_post_id': '5', '_referer': '/used-vehicles/', 'action': 'im_ajax_call', 'make[]': 'Acura', 'model[]': 'MDX', 'page': '1', 'perform': 'get_results', 'show_all_filters': 'false'}).text
'"num_rows"' in session.post('http://www.eddyseverything.com/', {'_post_id': '5', '_referer': '/used-vehicles/', 'action': 'im_ajax_call', 'make[]': 'Acura', 'model[]': 'MDX', 'page': '1', 'perform': 'get_results', 'show_all_filters': 'false'}).text
First POST request is false for both versions, but it must store some kind of data into session, and second request has a different behavior:
2.12.4 is True
2.18.1 and 2.18.3 is False