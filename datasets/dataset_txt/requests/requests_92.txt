roniemartinez commented on Apr 10, 2019 â€¢
edited
Summary.
This request is successful and returns a JSON string:
response = requests.get('https://api.duckduckgo.com/?q=My+ip&format=json&no_html=1&skip_disambig=1&no_redirect=1')
However, this requests does return only an empty response:
response = requests.get('https://api.duckduckgo.com/?q=My+IP&format=json&no_html=1&skip_disambig=1&no_redirect=1')
The only difference is "My+ip" vs "My+IP". Both requests works on a browser (chrome and firefox). This could not be an issue with DDG since it's working thru other means.
Expected Result
Response should not be empty.
Actual Result
Empty response.
Reproduction Steps
import requests

response = requests.get('https://api.duckduckgo.com/?q=My+IP&format=json&no_html=1&skip_disambig=1&no_redirect=1')
response.json()
System Information
$ python -m requests.help
{
  "chardet": {
    "version": "3.0.4"
  },
  "cryptography": {
    "version": ""
  },
  "idna": {
    "version": "2.8"
  },
  "implementation": {
    "name": "CPython",
    "version": "3.7.3"
  },
  "platform": {
    "release": "10",
    "system": "Windows"
  },
  "pyOpenSSL": {
    "openssl_version": "",
    "version": null
  },
  "requests": {
    "version": "2.21.0"
  },
  "system_ssl": {
    "version": "101000af"
  },
  "urllib3": {
    "version": "1.24.1"
  },
  "using_pyopenssl": false
}
This command is only available on Requests v2.16.4 and greater. Otherwise,
please provide some basic information about your system (Python version,
operating system, &c).