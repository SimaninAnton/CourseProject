Contributor
schlamar commented on Jun 6, 2012
Here is the related bug report on bugs.python.org
This problem will produce the following error:
>>> requests.get('https://google.com', cert=u'öäü.pem')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/api.py", line 54, in get
    return request('get', url, **kwargs)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/safe_mode.py", line 37, in wrapped
    return function(method, url, **kwargs)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/api.py", line 42, in request
    return s.request(method=method, url=url, **kwargs)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/sessions.py", line 230, in request
    r.send(prefetch=prefetch)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/models.py", line 602, in send
    timeout=self.timeout,
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py", line 384, in urlopen
    body=body, headers=headers)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py", line 254, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/httplib.py", line 958, in request
    self._send_request(method, url, body, headers)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/httplib.py", line 992, in _send_request
    self.endheaders(body)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/httplib.py", line 954, in endheaders
    self._send_output(message_body)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/httplib.py", line 814, in _send_output
    self.send(msg)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/httplib.py", line 776, in send
    self.connect()
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py", line 100, in connect
    ca_certs=self.ca_certs)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/ssl.py", line 381, in wrap_socket
    ciphers=ciphers)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/ssl.py", line 141, in __init__
    ciphers)
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-2: ordinal not in range(128)