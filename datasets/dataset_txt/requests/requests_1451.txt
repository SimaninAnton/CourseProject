ma2rten commented on Apr 8, 2015
using requests 2.6.0, Python 2.7.6
import requests
requests.get(u"h√§llo world")
---------------------------------------------------------------------------
UnicodeEncodeError                        Traceback (most recent call last)
<ipython-input-3-bf1281984b3a> in <module>()
----> 1 requests.get(url)

/Library/Python/2.7/site-packages/requests-2.6.0-py2.7.egg/requests/api.pyc in get(url, **kwargs)
     66 
     67     kwargs.setdefault('allow_redirects', True)
---> 68     return request('get', url, **kwargs)
     69 
     70 

/Library/Python/2.7/site-packages/requests-2.6.0-py2.7.egg/requests/api.pyc in request(method, url, **kwargs)
     48 
     49     session = sessions.Session()
---> 50     response = session.request(method=method, url=url, **kwargs)
     51     # By explicitly closing the session, we avoid leaving sockets open which
     52     # can trigger a ResourceWarning in some cases, and look like a memory leak

/Library/Python/2.7/site-packages/requests-2.6.0-py2.7.egg/requests/sessions.pyc in request(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)
    448             hooks = hooks,
    449         )
--> 450         prep = self.prepare_request(req)
    451 
    452         proxies = proxies or {}

/Library/Python/2.7/site-packages/requests-2.6.0-py2.7.egg/requests/sessions.pyc in prepare_request(self, request)
    379             auth=merge_setting(auth, self.auth),
    380             cookies=merged_cookies,
--> 381             hooks=merge_hooks(request.hooks, self.hooks),
    382         )
    383         return p

/Library/Python/2.7/site-packages/requests-2.6.0-py2.7.egg/requests/models.pyc in prepare(self, method, url, headers, files, data, params, auth, cookies, hooks, json)
    302 
    303         self.prepare_method(method)
--> 304         self.prepare_url(url, params)
    305         self.prepare_headers(headers)
    306         self.prepare_cookies(cookies)

/Library/Python/2.7/site-packages/requests-2.6.0-py2.7.egg/requests/models.pyc in prepare_url(self, url, params)
    359         if not scheme:
    360             raise MissingSchema("Invalid URL {0!r}: No schema supplied. "
--> 361                                 "Perhaps you meant http://{0}?".format(url))
    362 
    363         if not host:

UnicodeEncodeError: 'ascii' codec can't encode character u'\xe4' in position 1: ordinal not in range(128)