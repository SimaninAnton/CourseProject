Contributor
piotr-dobrogost commented on May 11, 2012
Running below code
from requests import async

if __name__ == '__main__':

    req = async.get('http://httpbin.org/get')
    res = async.map([req])[0]
    print res.content
I get
Traceback (most recent call last):
  File "C:\python\virtualenv\requests\lib\site-packages\gevent-0.13.7-py2.7-win-amd64.egg\gevent\greenlet.py", line 390, in run
    result = self._run(*self.args, **self.kwargs)
  File "C:\Users\Piotr\projects\requests\requests\models.py", line 606, in send
    raise ConnectionError(e)
ConnectionError: HTTPConnectionPool(host='httpbin.org', port=80): Max retries exceeded with url: /get
<Greenlet at 0x35e59c8L: <bound method Request.send of <Request [GET]>>(prefetch=True)> failed with ConnectionError

None
in about 90% cases.
Requests 0.12.1
gevent 0.13.7-py2.7-win-amd64
greenlet 0.3.4-py2.7-win-amd64
Python 2.7.3 64bit
Windows Vista 64bit