awaisumar1 commented 17 days ago â€¢
edited
I am using Request module and trying to access a host on local domain, but i am getting above error.
as i am working under corporate network so i have set up the proxy as well.
i am running this code
proxyDict = { "http" : http_proxy, "https" : https_proxy, }
headers={'Content-type':'application/json', 'Accept':'application/json'}
r = requests.post(url = 'https://localhost:44366/v1/Detection/upload', data = data,verify=False,headers=headers,proxies=proxyDict)
and getting this error:
ProxyError: HTTPSConnectionPool(host='localhost', port=44366): Max retries exceeded with url: /v1/Detection/upload (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x000001E4849BA828>: Failed to establish a new connection: [Errno 11001] getaddrinfo failed')))
when i run it without providing the proxy in request then i get this error:
Code:
r = requests.post(url = 'https://localhost:44366/v1/Detection/upload', data = data,verify=False,headers=headers)
Error:
ProxyError: HTTPSConnectionPool(host='localhost', port=44366): Max retries exceeded with url: /v1/Detection/upload (Caused by ProxyError('Cannot connect to proxy.', ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None)))
i have tried to connect to an external API without any kind of proxy and i am getting response 201:
code:
data = {"name": "morpheus", "job": "leader"}
r = requests.post(url = 'https://reqres.in/api/users', data = data)
but when i try to run:
r = requests.get('http://http2bin.org/get')
print(r.status_code)
i get 404
i hope i have provided enough information.
i am using python 3.8.0 ,requests 2.22.0 and everything is in Anaconda environment.
Update:
get request is working on the same link the error comes when i use post method.
r =requests.get('https://localhost:44366/v1/Version',verify=False)
print(r.status_code)
response is 200