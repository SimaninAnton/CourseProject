mua commented on May 7, 2013
Hello,
Is there any way to close an ongoing connection, for instance I want application to quit while a download of a big file is going on, or an upload.
I managed to close it this way, but hoping to find a better one
def close():
    time.sleep(5)
    r.raw._fp.close()

t = threading.Thread(target=close).start()
print "getting"
s = requests.Session()
r = s.get("http://download.thinkbroadband.com/1GB.zip", stream = True)
for line in r.iter_content(1024):
    log.debug("got it: %s", len(line))
print "done"