offbyone commented on Aug 30, 2013
When downloading a URL whose schema is not lowercased, the connection adapter can't be found (say, for example):
Http URLs.
Traceback (most recent call last):
  File "/Users/offby1/projects/rscp/rscp/downloader.py", line 175, in download_images
    self.download_image_url(image_url, target_file)
  File "/Users/offby1/projects/rscp/rscp/utils.py", line 45, in f_retry
    return f(*args, **kwargs)
  File "/Users/offby1/projects/rscp/rscp/downloader.py", line 200, in download_image_url
    return self._do_download_image_url(url, target)
  File "/Users/offby1/projects/rscp/rscp/downloader.py", line 208, in _do_download_image_url
    response = self.session.get(url)
  File "/Users/offby1/virtualenv/rscp/lib/python2.7/site-packages/requests/sessions.py", line 347, in get
    return self.request('GET', url, **kwargs)
  File "/Users/offby1/virtualenv/rscp/lib/python2.7/site-packages/requests/sessions.py", line 335, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/offby1/virtualenv/rscp/lib/python2.7/site-packages/requests/sessions.py", line 433, in send
    adapter = self.get_adapter(url=request.url)
  File "/Users/offby1/virtualenv/rscp/lib/python2.7/site-packages/requests/sessions.py", line 474, in get_adapter
    raise InvalidSchema("No connection adapters were found for '%s'" % url)
InvalidSchema: No connection adapters were found for 'Http://a-host.com/some-file'