shuge commented on Sep 19, 2012
Test code:
#!/usr/bin/env python
import httplib
import requests

def test_by_req():
    url = "http://183.61.6.11/playerSearch.php"
    headers = {"Host" : "lolbox.duowan.com"}
    r = requests.get(url = url , headers = headers)
    assert r.status_code == httplib.OK
    print r.text


def test_by_httplib():
    path = "/playerSearch.php"
    headers = {"Host" : "lolbox.duowan.com"}
    conn = httplib.HTTPConnection(host="183.61.6.11")
    conn.request(method = "GET", url = path, headers = headers)
    resp = conn.getresponse()
    assert resp.status == httplib.OK
    print resp.read()


if __name__ == "__main__":
    test_by_req()
    test_by_httplib()
httplib works well, but requests doesn't, please confirm and fix it.