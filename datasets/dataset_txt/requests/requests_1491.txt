imazor commented on Mar 3, 2015
Hi,
I am getting the following warning while using requests with eventlet:
/usr/local/lib/python2.7/site-packages/requests/utils.py:74: RuntimeWarning: Parent module 'requests' not found while handling absolute import from netrc import netrc, NetrcParseError
looking in the issue below that have similar warning
#2014
could it be that it related to the fact (if I am not wrong) that during the eventlet patching, requests removed from the sys.path.
from the eventlet docs:
http://web.archive.org/web/20110723123938/http://www.eventlet.net/doc/patching.html#monkeypatching-the-standard-library
eventlet.patcher.import_patched(module_name, _additional_modules, *_kw_additional_modules)
Imports a module in a greened manner, so that the module’s use of networking libraries like socket will use Eventlet’s green versions instead. The only required argument is the name of the module to be imported:
import eventlet
httplib2 = eventlet.import_patched('httplib2')
Under the hood, it works by temporarily swapping out the “normal” versions of the libraries in sys.modules for an eventlet.green equivalent. When the import of the to-be-patched module completes, the state of sys.modules is restored. Therefore, if the patched module contains the statement ‘import socket’, import_patched will have it reference eventlet.green.socket. One weakness of this approach is that it doesn’t work for late binding (i.e. imports that happen during runtime). Late binding of imports is fortunately rarely done (it’s slow and against PEP-8), so in most cases import_patched will work just fine.
so I just want to verify the the warning is ok (because looks that the patched version of requests works quite fine)