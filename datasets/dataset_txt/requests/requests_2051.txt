skestle commented on Jul 23, 2013
When using requests 1.2.3, I get zlib errors using easywebdav and requests. If I install 1.1.0 instead, it works fine.
File "./export-setup-pages.py", line 84, in
downloadFolder(wikiWebDav, os.path.join(outputFolder, localPath))
File "./export-setup-pages.py", line 30, in downloadFolder
download(webDav, resource, localPath, path)
File "./export-setup-pages.py", line 41, in download
webDav.download(remoteFile, localFile)
File "./python-env/local/lib/python2.7/site-packages/easywebdav/client.py", line 127, in download
shutil.copyfileobj(response.raw, f)
File "/usr/lib/python2.7/shutil.py", line 49, in copyfileobj
buf = fsrc.read(length)
File "/media/speedy/development/projects/Other/OrionIT/scripts/woki/python-env/local/lib/python2.7/site-packages/requests/packages/urllib3/response.py", line 191, in read
buf = self._decoder.decompress(binary_type())
zlib.error: Error -2 while decompressing: inconsistent stream state
Is this a known issue? I can't find anything on the interwebs. For background, I'm trying to download from confluence through an nginx proxy (I think)