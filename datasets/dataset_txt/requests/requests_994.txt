ml31415 commented on Jul 30, 2016
import requests
s = requests.Session()
adp = requests.adapters.HTTPAdapter(pool_maxsize=3,
    pool_connections=3,
    pool_block=True)
s.mount('http://', adp)

for _ in range(5):
    resp = s.get('http://google.com', stream=True)
#    resp.content
#    resp.raw.release_conn()
    resp.close()
    print "closed"
This hangs after the 3rd close, as the connection pool is depleted. resp.close() just closes the connection, when the data is not read completely, but no connection is returned to the pool:
https://github.com/kennethreitz/requests/blob/master/requests/models.py#L871