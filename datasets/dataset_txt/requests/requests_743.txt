fazalmajid commented on Mar 8, 2017
I switched Temboz from urllib2 to requests for better SSL compatibility with OpenSSL 1.1.0. In the process of running the yappi profiler to identify hot spots, I found 536 calls to requests.get() and one call to requests.post() generate a truly staggering 78,842,716 calls to the bundled chardet.compat.wrap_ord(), the single most CPU-intensive function in the program, and one that clearly cries for being rewritten in C.
Here is the profile, filtered for functions in requests (tsub is time spent in the function itself, ttot the total time including that spent in subroutines):
Clock type: CPU
Ordered by: tsub, desc

name                                                                              ncall                 tsub      ttot      

..al/lib/python2.7/site-packages/requests/packages/chardet/compat.py:30 wrap_ord  78842716              94.90073  135.5516  
..s/requests/packages/chardet/sbcharsetprober.py:70 SingleByteCharSetProber.feed  990                   51.74951  171.9226  
..on2.7/site-packages/requests/packages/chardet/utf8prober.py:50 UTF8Prober.feed  66                    8.032774  30.21379  
..ite-packages/requests/packages/chardet/mbcharsetprober.py:53 GB2312Prober.feed  90                    4.740380  14.07524  
../site-packages/requests/packages/chardet/latin1prober.py:110 Latin1Prober.feed  66                    1.839232  5.587769  
..on2.7/site-packages/requests/packages/chardet/sjisprober.py:52 SJISProber.feed  16                    1.297811  6.159460  
..requests/packages/chardet/chardistribution.py:68 SJISDistributionAnalysis.feed  3068462               1.139531  1.140868  
..2.7/site-packages/requests/packages/chardet/eucjpprober.py:52 EUCJPProber.feed  16                    1.063283  4.183719  
..packages/requests/packages/chardet/jpcntx.py:186 SJISContextAnalysis.get_order  513796                0.933412  2.930005  
..site-packages/requests/packages/chardet/jpcntx.py:139 SJISContextAnalysis.feed  804396                0.861518  4.545487  
..ackages/requests/packages/chardet/jpcntx.py:207 EUCJPContextAnalysis.get_order  235890                0.432921  1.347917  
..kages/requests/packages/urllib3/connectionpool.py:409 HTTPConnectionPool.close  457                   0.276394  0.724681  
..ages/requests/packages/urllib3/connectionpool.py:409 HTTPSConnectionPool.close  186                   0.264481  0.466707  
..packages/requests/packages/chardet/codingstatemachine.py:32 CodingStateMachine  3                     0.243423  1.155184  
..7/site-packages/requests/packages/urllib3/contrib/pyopenssl.py:161 idna_encode  2236                  0.195292  0.537523  
..s/requests/packages/chardet/chardistribution.py:149 GB2312DistributionAnalysis  100987                0.135266  0.729219  
../site-packages/requests/packages/urllib3/response.py:59 GzipDecoder.decompress  1643                  0.133783  1.593196  
/usr/local/lib/python2.7/site-packages/requests/utils.py:109 get_netrc_auth       675                   0.079331  0.482274  
..es/requests/packages/chardet/chardistribution.py:215 EUCJPDistributionAnalysis  4                     0.066621  0.316271  
/usr/local/lib/python2.7/site-packages/requests/models.py:804 Response.text       935                   0.046146  234.3144  
..ges/requests/packages/urllib3/packages/ordered_dict.py:28 OrderedDict.__init__  5389                  0.036204  0.076659  
../requests/packages/urllib3/packages/ordered_dict.py:44 OrderedDict.__setitem__  18560                 0.031681  0.031681  
..hon2.7/site-packages/requests/structures.py:48 CaseInsensitiveDict.__setitem__  17486                 0.031517  0.068291  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:569 Session.send      675/537               0.031151  13.03016  
../site-packages/requests/packages/chardet/hebrewprober.py:193 HebrewProber.feed  66                    0.028608  0.387578  
...7/site-packages/requests/packages/urllib3/packages/ordered_dict.py:142 update  6463                  0.028498  0.044194  
..al/lib/python2.7/site-packages/requests/packages/chardet/__init__.py:22 detect  80                    0.026783  234.1047  
..ges/requests/packages/urllib3/connectionpool.py:446 HTTPConnectionPool.urlopen  635                   0.022364  5.970765  
..e-packages/requests/packages/chardet/hebrewprober.py:176 HebrewProber.is_final  20786                 0.021933  0.057430  
..on2.7/site-packages/requests/packages/urllib3/_collections.py:307 from_httplib  673                   0.021078  0.132086  
..ages/requests/packages/urllib3/packages/ordered_dict.py:120 OrderedDict.values  4179                  0.020975  0.033571  
..kages/requests/packages/urllib3/_collections.py:150 HTTPHeaderDict.__getitem__  10584                 0.020511  0.028778  
..hon2.7/site-packages/requests/structures.py:53 CaseInsensitiveDict.__getitem__  14970                 0.020442  0.026593  
..n2.7/site-packages/requests/packages/urllib3/response.py:342 HTTPResponse.read  1194                  0.018882  0.623519  
..e-packages/requests/packages/urllib3/response.py:563 HTTPResponse.read_chunked  2453                  0.018336  4.454664  
..python2.7/site-packages/requests/structures.py:42 CaseInsensitiveDict.__init__  3640                  0.017919  0.232792  
/usr/local/lib/python2.7/site-packages/requests/adapters.py:375 HTTPAdapter.send  675                   0.017755  7.363262  
..ges/requests/packages/urllib3/packages/ordered_dict.py:63 OrderedDict.__iter__  28275                 0.017196  0.017196  
..es/requests/packages/urllib3/connectionpool.py:161 HTTPConnectionPool.__init__  603                   0.015133  0.446155  
../site-packages/requests/packages/urllib3/response.py:109 HTTPResponse.__init__  673                   0.014580  0.032654  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:42 merge_setting      3759                  0.014469  0.143070  
..python2.7/site-packages/requests/packages/urllib3/response.py:437 from_httplib  673                   0.014440  0.188490  
..site-packages/requests/packages/urllib3/_collections.py:208 HTTPHeaderDict.add  7288                  0.013808  0.045963  
..l/lib/python2.7/site-packages/requests/sessions.py:371 Session.prepare_request  537                   0.013452  0.781796  
..cal/lib/python2.7/site-packages/requests/cookies.py:121 extract_cookies_to_jar  1620                  0.013200  0.439333  
..kages/requests/packages/urllib3/_collections.py:86 RecentlyUsedContainer.clear  1074                  0.012815  1.241480  
/usr/local/lib/python2.7/site-packages/requests/utils.py:193 to_key_val_list      3760                  0.012193  0.048183  
..lib/python2.7/site-packages/requests/models.py:350 PreparedRequest.prepare_url  537                   0.012025  0.058131  
..packages/requests/packages/urllib3/_collections.py:135 HTTPHeaderDict.__init__  673                   0.011954  0.096859  
..ite-packages/requests/packages/urllib3/util/connection.py:36 create_connection  644                   0.011301  0.929808  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:308 Session.__init__  537                   0.011118  0.147501  
/usr/local/lib/python2.7/site-packages/requests/api.py:59 get                     536                   0.010793  15.27869  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:411 Session.request   537                   0.010758  13.90416  
...7/site-packages/requests/packages/urllib3/response.py:411 HTTPResponse.stream  3921                  0.010551  5.093289  
..ckages/requests/packages/chardet/hebrewprober.py:180 HebrewProber.is_non_final  10360                 0.010459  0.027898  
..ib/python2.7/site-packages/requests/adapters.py:240 HTTPAdapter.build_response  673                   0.010364  0.357617  
../lib/python2.7/site-packages/requests/sessions.py:89 Session.resolve_redirects  809/673               0.010361  4.891653  
..e-packages/requests/packages/urllib3/_collections.py:231 HTTPHeaderDict.extend  673                   0.010303  0.066090  
..packages/requests/packages/urllib3/response.py:285 HTTPResponse._error_catcher  2952                  0.009959  0.283745  
../local/lib/python2.7/site-packages/requests/cookies.py:503 cookiejar_from_dict  1747                  0.009438  0.054105  
..ackages/requests/packages/urllib3/util/selectors.py:362 EpollSelector.__init__  31                    0.009375  0.009515  
/usr/local/lib/python2.7/site-packages/requests/models.py:591 Response.__init__   673                   0.009241  0.054446  
/usr/local/lib/python2.7/site-packages/requests/utils.py:623 select_proxy         1350                  0.008971  0.040397  
..es/requests/packages/urllib3/response.py:527 HTTPResponse._update_chunk_length  2481                  0.008881  0.396292  
..-packages/requests/packages/urllib3/response.py:541 HTTPResponse._handle_chunk  2199                  0.008796  2.364839  
..ib/python2.7/site-packages/requests/packages/urllib3/util/url.py:128 parse_url  1212                  0.008659  0.030989  
/usr/local/lib/python2.7/site-packages/requests/structures.py:60 <genexpr>        16382                 0.008584  0.008584  
/usr/local/lib/python2.7/site-packages/requests/api.py:16 request                 537                   0.008567  15.31966  
..python2.7/site-packages/requests/models.py:436 PreparedRequest.prepare_headers  537                   0.008421  0.057456  
..ocal/lib/python2.7/site-packages/requests/adapters.py:107 HTTPAdapter.__init__  1074                  0.008286  0.049011  
...7/site-packages/requests/packages/urllib3/util/timeout.py:93 Timeout.__init__  2668                  0.007956  0.011990  
..e-packages/requests/packages/urllib3/poolmanager.py:43 _default_key_normalizer  675                   0.007883  0.011798  
../local/lib/python2.7/site-packages/requests/cookies.py:40 MockRequest.__init__  2295                  0.007826  0.054429  
/usr/local/lib/python2.7/site-packages/requests/models.py:784 Response.content    2677                  0.007645  5.127400  
..ckages/requests/packages/chardet/charsetgroupprober.py:58 MBCSGroupProber.feed  132                   0.007291  228.4211  
/usr/local/lib/python2.7/site-packages/requests/models.py:715 generate            3921                  0.007136  5.100890  
/usr/local/lib/python2.7/site-packages/requests/hooks.py:17 default_hooks         1749                  0.007067  0.009190  
..-packages/requests/packages/urllib3/response.py:246 HTTPResponse._init_decoder  1476                  0.006796  0.021775  
..-packages/requests/packages/urllib3/contrib/pyopenssl.py:181 get_subj_alt_name  118                   0.006681  1.656172  
..requests/packages/urllib3/_collections.py:50 RecentlyUsedContainer.__getitem__  1200                  0.006554  0.021538  
..packages/requests/packages/urllib3/contrib/pyopenssl.py:253 WrappedSocket.recv  2681                  0.006503  1.339557  
..7/site-packages/requests/packages/urllib3/response.py:256 HTTPResponse._decode  3280                  0.006496  1.599581  
..s/requests/packages/urllib3/connectionpool.py:201 HTTPConnectionPool._new_conn  524                   0.006479  0.019929  
..es/requests/packages/urllib3/connection.py:282 VerifiedHTTPSConnection.connect  119                   0.006425  4.282900  
..ite-packages/requests/packages/urllib3/poolmanager.py:113 PoolManager.__init__  1074                  0.006354  0.031242  
..es/requests/packages/urllib3/_collections.py:43 RecentlyUsedContainer.__init__  1611                  0.006306  0.033341  
..cal/lib/python2.7/site-packages/requests/models.py:297 PreparedRequest.prepare  537                   0.006199  0.221293  
..l/lib/python2.7/site-packages/requests/packages/urllib3/util/url.py:18 __new__  1212                  0.006106  0.014044  
..requests/packages/urllib3/_collections.py:57 RecentlyUsedContainer.__setitem__  761                   0.005778  0.033536  
..te-packages/requests/packages/urllib3/poolmanager.py:132 PoolManager._new_pool  643                   0.005776  0.462834  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:692 Session.mount     1074                  0.005719  0.010732  
..python2.7/site-packages/requests/structures.py:59 CaseInsensitiveDict.__iter__  2959                  0.005634  0.028188  
..e-packages/requests/packages/urllib3/response.py:198 HTTPResponse._init_length  673                   0.005503  0.009351  
..packages/requests/packages/urllib3/_collections.py:180 HTTPHeaderDict.__iter__  7762                  0.005025  0.016189  
..ib/python2.7/site-packages/requests/adapters.py:277 HTTPAdapter.get_connection  675                   0.004904  0.578169  
..e-packages/requests/packages/urllib3/connection.py:106 HTTPConnection.__init__  603                   0.004904  0.009951  
..cal/lib/python2.7/site-packages/requests/models.py:60 PreparedRequest.path_url  675                   0.004774  0.006620  
/usr/local/lib/python2.7/site-packages/requests/models.py:217 Request.__init__    537                   0.004712  0.007227  
..n2.7/site-packages/requests/sessions.py:645 Session.merge_environment_settings  537                   0.004704  0.072752  
..b/python2.7/site-packages/requests/packages/urllib3/util/url.py:95 split_first  1212                  0.004652  0.006813  
..packages/requests/packages/urllib3/contrib/pyopenssl.py:151 _dnsname_to_stdlib  2236                  0.004607  0.542130  
/usr/local/lib/python2.7/site-packages/requests/cookies.py:523 merge_cookies      1212                  0.004594  0.020980  
../local/lib/python2.7/site-packages/requests/utils.py:557 should_bypass_proxies  813                   0.004582  0.039443  
../local/lib/python2.7/site-packages/requests/utils.py:778 check_header_validity  2451                  0.004534  0.008794  
..kages/requests/packages/urllib3/packages/ordered_dict.py:124 OrderedDict.items  2286                  0.004458  0.006893  
/usr/local/lib/python2.7/site-packages/requests/cookies.py:138 get_cookie_header  675                   0.004346  0.081325  
../python2.7/site-packages/requests/packages/urllib3/poolmanager.py:117 <lambda>  643                   0.004320  1.195708  
..r/local/lib/python2.7/site-packages/requests/adapters.py:300 HTTPAdapter.close  1074                  0.004301  1.249044  
../requests/packages/urllib3/poolmanager.py:158 PoolManager.connection_from_host  675                   0.004206  0.528484  
..ib/python2.7/site-packages/requests/models.py:447 PreparedRequest.prepare_body  537                   0.004169  0.012838  
..on2.7/site-packages/requests/packages/urllib3/util/retry.py:144 Retry.__init__  1074                  0.004126  0.004126  
..site-packages/requests/packages/chardet/mbcharsetprober.py:42 SJISProber.reset  924                   0.004068  0.005386  
../site-packages/requests/packages/urllib3/util/timeout.py:103 _validate_timeout  8004                  0.004034  0.004034  
../python2.7/site-packages/requests/adapters.py:141 HTTPAdapter.init_poolmanager  1074                  0.003880  0.035122  
..al/lib/python2.7/site-packages/requests/cookies.py:54 MockRequest.get_full_url  1901                  0.003832  0.012588  
..l/lib/python2.7/site-packages/requests/cookies.py:349 RequestsCookieJar.update  1350                  0.003746  0.015778  
/usr/local/lib/python2.7/site-packages/requests/utils.py:658 default_headers      537                   0.003738  0.039377  
..l/lib/python2.7/site-packages/requests/adapters.py:310 HTTPAdapter.request_url  675                   0.003729  0.036763  
..s/requests/packages/urllib3/poolmanager.py:212 PoolManager.connection_from_url  675                   0.003607  0.548444  
..al/lib/python2.7/site-packages/requests/utils.py:359 get_encoding_from_headers  673                   0.003579  0.019060  
/usr/local/lib/python2.7/site-packages/requests/utils.py:758 get_auth_from_url    537                   0.003563  0.010764  
../requests/packages/chardet/sbcharsetprober.py:54 SingleByteCharSetProber.reset  1980                  0.003514  0.004381  
..-packages/requests/packages/urllib3/connection.py:127 HTTPConnection._new_conn  604                   0.003505  0.925816  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:687 Session.close     537                   0.003486  1.257747  
/usr/local/lib/python2.7/site-packages/requests/utils.py:563 <lambda>             813                   0.003399  0.007317  
..e-packages/requests/packages/urllib3/response.py:170 HTTPResponse.release_conn  811                   0.003365  0.272946  
..al/lib/python2.7/site-packages/requests/models.py:280 PreparedRequest.__init__  675                   0.003356  0.007124  
/usr/local/lib/python2.7/site-packages/requests/models.py:81 _encode_params       538                   0.003343  0.013350  
..local/lib/python2.7/site-packages/requests/models.py:698 Response.iter_content  673                   0.003307  0.003614  
..local/lib/python2.7/site-packages/requests/sessions.py:673 Session.get_adapter  675                   0.003268  0.008285  
..kages/requests/packages/chardet/charsetgroupprober.py:40 MBCSGroupProber.reset  132                   0.003110  0.008333  
..te-packages/requests/packages/urllib3/connection.py:165 HTTPConnection.connect  525                   0.003057  0.625827  
..al/lib/python2.7/site-packages/requests/_internal_utils.py:14 to_native_string  3126                  0.003039  0.004066  
..n2.7/site-packages/requests/packages/urllib3/util/timeout.py:156 Timeout.clone  1350                  0.002941  0.008006  
/usr/local/lib/python2.7/site-packages/requests/utils.py:450 unquote_unreserved   675                   0.002912  0.004601  
..hon2.7/site-packages/requests/packages/urllib3/util/response.py:7 is_fp_closed  1585                  0.002897  0.003943  
..s/requests/packages/urllib3/connectionpool.py:214 HTTPConnectionPool._get_conn  635                   0.002894  0.092972  
..e-packages/requests/packages/urllib3/util/connection.py:88 _set_socket_options  644                   0.002790  0.006663  
..e-packages/requests/packages/urllib3/util/response.py:38 assert_header_parsing  673                   0.002732  0.005067  
..7/site-packages/requests/packages/urllib3/poolmanager.py:149 PoolManager.clear  1074                  0.002725  1.244205  
../requests/packages/urllib3/connectionpool.py:812 HTTPSConnectionPool._new_conn  119                   0.002628  0.007596  
..l/lib/python2.7/site-packages/requests/adapters.py:198 HTTPAdapter.cert_verify  675                   0.002602  0.031776  
..hon2.7/site-packages/requests/packages/chardet/chardistribution.py:28 <module>  1                     0.002548  0.002633  
..python2.7/site-packages/requests/models.py:551 PreparedRequest.prepare_cookies  675                   0.002538  0.084870  
...7/site-packages/requests/packages/urllib3/response.py:481 HTTPResponse.closed  673                   0.002517  0.003622  
..ite-packages/requests/packages/urllib3/util/ssl_.py:214 create_urllib3_context  119                   0.002504  0.362631  
../local/lib/python2.7/site-packages/requests/models.py:681 Response.is_redirect  673                   0.002497  0.006499  
..b/python2.7/site-packages/requests/models.py:170 PreparedRequest.register_hook  537                   0.002423  0.008708  
/usr/local/lib/python2.7/site-packages/requests/utils.py:474 requote_uri          675                   0.002381  0.010384  
..lib/python2.7/site-packages/requests/structures.py:82 CaseInsensitiveDict.copy  683                   0.002333  0.043642  
..b/python2.7/site-packages/requests/cookies.py:344 RequestsCookieJar.set_cookie  616                   0.002289  0.011899  
..es/requests/packages/urllib3/connectionpool.py:446 HTTPSConnectionPool.urlopen  40                    0.002261  0.366308  
..ib/python2.7/site-packages/requests/models.py:529 PreparedRequest.prepare_auth  537                   0.002208  0.013306  
..s/requests/packages/urllib3/contrib/pyopenssl.py:328 WrappedSocket.getpeercert  118                   0.002201  1.799241  
/usr/local/lib/python2.7/site-packages/requests/utils.py:50 super_len             538                   0.002193  0.003779  
..on2.7/site-packages/requests/packages/urllib3/util/retry.py:285 Retry.is_retry  673                   0.002188  0.004632  
..s/requests/packages/urllib3/connectionpool.py:252 HTTPConnectionPool._put_conn  635                   0.002127  0.266527  
/usr/local/lib/python2.7/site-packages/requests/hooks.py:18 <genexpr>             3498                  0.002123  0.002123  
..ackages/requests/packages/urllib3/util/retry.py:276 Retry._is_method_retryable  673                   0.002035  0.002444  
..s/requests/packages/urllib3/connectionpool.py:752 HTTPSConnectionPool.__init__  119                   0.001983  0.065428  
..kages/requests/packages/chardet/sbcsgroupprober.py:43 SBCSGroupProber.__init__  60                    0.001938  0.010099  
..ges/requests/packages/urllib3/connectionpool.py:67 HTTPConnectionPool.__init__  603                   0.001902  0.003367  
../lib/python2.7/site-packages/requests/models.py:693 Response.apparent_encoding  80                    0.001895  234.1067  
../python2.7/site-packages/requests/models.py:328 PreparedRequest.prepare_method  537                   0.001857  0.003037  
..kages/requests/packages/chardet/universaldetector.py:64 UniversalDetector.feed  80                    0.001842  234.0574  
/usr/local/lib/python2.7/site-packages/requests/utils.py:611 get_environ_proxies  675                   0.001840  0.047788  
..packages/requests/packages/urllib3/response.py:274 HTTPResponse._flush_decoder  282                   0.001821  0.044676  
..thon2.7/site-packages/requests/packages/urllib3/util/timeout.py:140 from_float  643                   0.001745  0.005623  
..site-packages/requests/packages/urllib3/response.py:470 HTTPResponse.getheader  673                   0.001658  0.004491  
/usr/local/lib/python2.7/site-packages/requests/cookies.py:114 MockResponse.info  3240                  0.001641  0.001641  
..l/lib/python2.7/site-packages/requests/sessions.py:222 Session.rebuild_proxies  138                   0.001596  0.020238  
..kages/requests/packages/urllib3/connection.py:154 HTTPConnection._prepare_conn  525                   0.001595  0.002043  
..thon2.7/site-packages/requests/packages/urllib3/packages/six.py:595 itervalues  1074                  0.001519  0.001519  
..al/lib/python2.7/site-packages/requests/_internal_utils.py:30 unicode_is_ascii  537                   0.001480  0.002808  
..local/lib/python2.7/site-packages/requests/adapters.py:54 HTTPAdapter.__init__  1074                  0.001477  0.001477  
..7/site-packages/requests/packages/chardet/charsetprober.py:37 UTF8Prober.reset  3234                  0.001469  0.001469  
..b/python2.7/site-packages/requests/models.py:571 PreparedRequest.prepare_hooks  537                   0.001463  0.010171  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:368 Session.__exit__  537                   0.001448  1.259195  
..ib/python2.7/site-packages/requests/packages/urllib3/response.py:146 <genexpr>  1346                  0.001422  0.001699  
..2.7/site-packages/requests/packages/urllib3/request.py:41 PoolManager.__init__  1717                  0.001417  0.001417  
..te-packages/requests/packages/chardet/charsetprober.py:46 UTF8Prober.get_state  2892                  0.001296  0.001296  
/usr/local/lib/python2.7/site-packages/requests/hooks.py:23 dispatch_hook         673                   0.001289  0.001716  
..e-packages/requests/packages/urllib3/util/timeout.py:171 Timeout.start_connect  675                   0.001287  0.001931  
..kages/requests/packages/chardet/mbcsgroupprober.py:42 MBCSGroupProber.__init__  60                    0.001269  0.015906  
..ges/requests/packages/chardet/universaldetector.py:134 UniversalDetector.close  80                    0.001236  0.009989  
..packages/requests/packages/urllib3/util/timeout.py:195 Timeout.connect_timeout  1993                  0.001235  0.001235  
...7/site-packages/requests/packages/urllib3/response.py:53 GzipDecoder.__init__  337                   0.001185  0.002436  
..ocal/lib/python2.7/site-packages/requests/cookies.py:107 MockResponse.__init__  1620                  0.001141  0.001141  
../python2.7/site-packages/requests/packages/urllib3/response.py:65 _get_decoder  337                   0.001121  0.003557  
../local/lib/python2.7/site-packages/requests/models.py:317 PreparedRequest.copy  138                   0.001101  0.015648  
..on2.7/site-packages/requests/packages/urllib3/util/ssl_.py:277 ssl_wrap_socket  119                   0.001098  1.709963  
/usr/local/lib/python2.7/site-packages/requests/sessions.py:73 merge_hooks        537                   0.001095  0.001354  
..7/site-packages/requests/packages/urllib3/util/request.py:77 set_file_position  675                   0.001090  0.001873  
../local/lib/python2.7/site-packages/requests/cookies.py:48 MockRequest.get_host  619                   0.001079  0.004473  
..te-packages/requests/packages/urllib3/util/timeout.py:213 Timeout.read_timeout  674                   0.001076  0.001076  
..s/requests/packages/urllib3/contrib/pyopenssl.py:372 PyOpenSSLContext.__init__  119                   0.001027  0.289464  
..s/requests/packages/urllib3/connectionpool.py:161 HTTPSConnectionPool.__init__  40                    0.000994  0.007482  
..hon2.7/site-packages/requests/structures.py:56 CaseInsensitiveDict.__delitem__  331                   0.000992  0.001867  
..on2.7/site-packages/requests/packages/urllib3/connectionpool.py:883 _ipv6_host  643                   0.000962  0.001316  
..b/python2.7/site-packages/requests/packages/chardet/euckrprober.py:28 <module>  2                     0.000939  0.000996  
/usr/local/lib/python2.7/site-packages/requests/utils.py:649 default_user_agent   537                   0.000929  0.000929  
..ackages/requests/packages/urllib3/contrib/pyopenssl.py:318 WrappedSocket.close  247                   0.000922  0.004400  
..te-packages/requests/packages/urllib3/util/connection.py:96 allowed_gai_family  644                   0.000900  0.000900  
..python2.7/site-packages/requests/cookies.py:51 MockRequest.get_origin_req_host  619                   0.000826  0.005299  
../requests/packages/urllib3/response.py:518 HTTPResponse.supports_chunked_reads  564                   0.000800  0.001027  
..n2.7/site-packages/requests/packages/chardet/charsetprober.py:33 CharSetProber  8                     0.000778  0.005072  
..ite-packages/requests/packages/urllib3/util/response.py:69 is_response_to_head  282                   0.000757  0.001057  
../python2.7/site-packages/requests/structures.py:62 CaseInsensitiveDict.__len__  537                   0.000746  0.000917  
...7/site-packages/requests/models.py:516 PreparedRequest.prepare_content_length  537                   0.000746  0.000803  
..ocal/lib/python2.7/site-packages/requests/sessions.py:198 Session.rebuild_auth  138                   0.000670  0.092779  
..e-packages/requests/packages/chardet/mbcharsetprober.py:36 SJISProber.__init__  462                   0.000666  0.000815  
../requests/packages/urllib3/packages/ordered_dict.py:54 OrderedDict.__delitem__  331                   0.000655  0.000754  
..2.7/site-packages/requests/packages/urllib3/util/ssl_.py:175 resolve_cert_reqs  238                   0.000645  0.000908  
..kages/requests/packages/urllib3/contrib/pyopenssl.py:308 WrappedSocket.sendall  129                   0.000635  0.038841  
..2.7/site-packages/requests/packages/urllib3/util/wait.py:9 _wait_for_io_events  31                    0.000632  0.031665  
..es/requests/packages/chardet/codingstatemachine.py:39 CodingStateMachine.reset  1584                  0.000628  0.000628  
..requests/packages/chardet/codingstatemachine.py:33 CodingStateMachine.__init__  528                   0.000621  0.000839  
..7/site-packages/requests/packages/chardet/sjisprober.py:38 SJISProber.__init__  60                    0.000584  0.002277  
..ackages/requests/packages/chardet/charsetprober.py:34 MBCSGroupProber.__init__  1782                  0.000572  0.000572  
..ib/python2.7/site-packages/requests/packages/chardet/sjisprober.py:28 <module>  7                     0.000558  0.003366  
..es/requests/packages/chardet/mbcharsetprober.py:85 GB2312Prober.get_confidence  504                   0.000540  0.000750  
..-packages/requests/packages/chardet/sjisprober.py:88 SJISProber.get_confidence  108                   0.000531  0.000805  
..s/requests/packages/urllib3/connection.py:213 VerifiedHTTPSConnection.__init__  119                   0.000530  0.002644  
..s/requests/packages/urllib3/connection.py:257 VerifiedHTTPSConnection.set_cert  119                   0.000530  0.000763  
..site-packages/requests/packages/chardet/eucjpprober.py:38 EUCJPProber.__init__  60                    0.000529  0.001712  
..ages/requests/packages/urllib3/contrib/pyopenssl.py:357 WrappedSocket.makefile  129                   0.000526  0.001304  
../site-packages/requests/packages/urllib3/util/selectors.py:53 _syscall_wrapper  62                    0.000522  0.008563  
..es/requests/packages/urllib3/contrib/pyopenssl.py:295 WrappedSocket.settimeout  129                   0.000497  0.003564  
..ite-packages/requests/packages/chardet/jpcntx.py:127 SJISContextAnalysis.reset  300                   0.000477  0.000477  
..site-packages/requests/packages/urllib3/response.py:56 GzipDecoder.__getattr__  200                   0.000471  0.019052  
..s/requests/packages/chardet/universaldetector.py:45 UniversalDetector.__init__  80                    0.000467  0.004395  
..es/requests/packages/urllib3/contrib/pyopenssl.py:382 PyOpenSSLContext.options  119                   0.000461  0.002009  
../python2.7/site-packages/requests/models.py:688 Response.is_permanent_redirect  138                   0.000455  0.000905  
..on2.7/site-packages/requests/packages/chardet/universaldetector.py:29 <module>  1                     0.000453  0.005976  
..lib/python2.7/site-packages/requests/cookies.py:84 MockRequest.get_new_headers  675                   0.000450  0.000450  
..cal/lib/python2.7/site-packages/requests/cookies.py:415 RequestsCookieJar.copy  138                   0.000438  0.003926  
/usr/local/lib/python2.7/site-packages/requests/utils.py:398 iter_slices          673                   0.000430  0.000430  
..ages/requests/packages/chardet/universaldetector.py:52 UniversalDetector.reset  160                   0.000414  0.000414  
..al/lib/python2.7/site-packages/requests/sessions.py:260 Session.rebuild_method  138                   0.000403  0.000403  
../requests/packages/urllib3/connectionpool.py:252 HTTPSConnectionPool._put_conn  40                    0.000395  0.003106  
/usr/local/lib/python2.7/site-packages/requests/cookies.py:422 _copy_cookie_jar   138                   0.000391  0.004414  
..ages/requests/packages/urllib3/contrib/pyopenssl.py:236 WrappedSocket.__init__  118                   0.000384  0.000384  
..s/requests/packages/urllib3/connection.py:106 VerifiedHTTPSConnection.__init__  40                    0.000378  0.000744  
../requests/packages/urllib3/connection.py:127 VerifiedHTTPSConnection._new_conn  40                    0.000377  0.007874  
/usr/local/lib/python2.7/site-packages/requests/models.py:179 <genexpr>           537                   0.000376  0.000376  
..te-packages/requests/packages/chardet/gb2312prober.py:34 GB2312Prober.__init__  60                    0.000369  0.001173  
..ckages/requests/packages/urllib3/packages/ordered_dict.py:220 OrderedDict.copy  138                   0.000367  0.002163  
..l/lib/python2.7/site-packages/requests/adapters.py:339 HTTPAdapter.add_headers  675                   0.000361  0.000361  
/usr/local/lib/python2.7/site-packages/requests/models.py:911 Response.close      138                   0.000359  0.000550  
..n2.7/site-packages/requests/packages/chardet/sjisprober.py:45 SJISProber.reset  120                   0.000347  0.001461  
..site-packages/requests/packages/chardet/euctwprober.py:34 EUCTWProber.__init__  60                    0.000346  0.001106  
..7/site-packages/requests/packages/chardet/utf8prober.py:37 UTF8Prober.__init__  60                    0.000346  0.000844  
..7/site-packages/requests/packages/chardet/big5prober.py:35 Big5Prober.__init__  60                    0.000334  0.001091  
..site-packages/requests/packages/chardet/euckrprober.py:35 EUCKRProber.__init__  60                    0.000333  0.001113  
..site-packages/requests/packages/chardet/cp949prober.py:35 CP949Prober.__init__  60                    0.000320  0.001015  
..n2.7/site-packages/requests/packages/urllib3/connection.py:350 _match_hostname  118                   0.000320  0.084708  
..site-packages/requests/packages/chardet/latin1prober.py:102 Latin1Prober.reset  66                    0.000319  0.000347  
..es/requests/packages/chardet/charsetgroupprober.py:34 MBCSGroupProber.__init__  132                   0.000317  0.000373  
..lib/python2.7/site-packages/requests/cookies.py:68 MockRequest.is_unverifiable  619                   0.000301  0.000301  
..n2.7/site-packages/requests/packages/chardet/utf8prober.py:42 UTF8Prober.reset  120                   0.000284  0.000429  
..ackages/requests/packages/urllib3/util/selectors.py:369 EpollSelector.register  31                    0.000278  0.004234  
..ackages/requests/packages/urllib3/util/selectors.py:174 EpollSelector.register  31                    0.000268  0.000811  
..ackages/requests/packages/chardet/eucjpprober.py:87 EUCJPProber.get_confidence  90                    0.000265  0.000378  
..-packages/requests/packages/urllib3/util/selectors.py:388 EpollSelector.select  31                    0.000250  0.005710  
..ib/python2.7/site-packages/requests/packages/chardet/utf8prober.py:28 <module>  13                    0.000242  0.000377  
..r/local/lib/python2.7/site-packages/requests/sessions.py:365 Session.__enter__  537                   0.000235  0.000235  
..e-packages/requests/packages/urllib3/contrib/pyopenssl.py:449 _verify_callback  360                   0.000226  0.000226  
...7/site-packages/requests/packages/chardet/eucjpprober.py:45 EUCJPProber.reset  120                   0.000225  0.001109  
..-packages/requests/packages/chardet/utf8prober.py:69 UTF8Prober.get_confidence  174                   0.000221  0.000263  
..e-packages/requests/packages/urllib3/util/selectors.py:421 EpollSelector.close  31                    0.000210  0.011407  
..e-packages/requests/packages/chardet/hebrewprober.py:156 HebrewProber.__init__  60                    0.000196  0.000297  
..te-packages/requests/packages/chardet/latin1prober.py:98 Latin1Prober.__init__  60                    0.000193  0.000377  
../requests/packages/urllib3/connectionpool.py:214 HTTPSConnectionPool._get_conn  40                    0.000182  0.003277  
..ython2.7/site-packages/requests/packages/chardet/euctwprober.py:33 EUCTWProber  91                    0.000166  0.000366  
..ages/requests/packages/chardet/latin1prober.py:124 Latin1Prober.get_confidence  66                    0.000165  0.000212  
..-packages/requests/packages/chardet/hebrewprober.py:278 HebrewProber.get_state  66                    0.000154  0.000185  
...7/site-packages/requests/packages/urllib3/util/selectors.py:38 _fileobj_to_fd  31                    0.000152  0.000388  
..-packages/requests/packages/urllib3/util/connection.py:7 is_connection_dropped  32                    0.000150  0.031954  
../python2.7/site-packages/requests/packages/chardet/latin1prober.py:29 <module>  1                     0.000149  0.000215  
..site-packages/requests/packages/chardet/hebrewprober.py:162 HebrewProber.reset  132                   0.000139  0.000139  
..es/requests/packages/urllib3/connectionpool.py:67 HTTPSConnectionPool.__init__  40                    0.000128  0.000239  
..7/site-packages/requests/packages/urllib3/util/ssl_.py:198 resolve_ssl_version  119                   0.000122  0.000122  
..ges/requests/packages/chardet/jpcntx.py:169 SJISContextAnalysis.get_confidence  190                   0.000112  0.000112  
..ackages/requests/packages/urllib3/util/selectors.py:147 EpollSelector.__init__  31                    0.000111  0.000140  
..ython2.7/site-packages/requests/packages/urllib3/util/wait.py:29 wait_for_read  31                    0.000110  0.031775  
..hon2.7/site-packages/requests/packages/chardet/latin1prober.py:97 Latin1Prober  7                     0.000107  0.001448  
..e-packages/requests/packages/urllib3/util/selectors.py:220 EpollSelector.close  31                    0.000100  0.000128  
..lib/python2.7/site-packages/requests/packages/chardet/escprober.py:28 <module>  1                     0.000098  0.000111  
..packages/requests/packages/chardet/jpcntx.py:124 EUCJPContextAnalysis.__init__  60                    0.000093  0.000166  
..ackages/requests/packages/urllib3/util/selectors.py:251 EpollSelector.__exit__  31                    0.000091  0.011498  
..2.7/site-packages/requests/packages/urllib3/contrib/pyopenssl.py:222 <genexpr>  118                   0.000087  0.000087  
..es/requests/packages/urllib3/contrib/pyopenssl.py:378 PyOpenSSLContext.options  119                   0.000082  0.000082  
../requests/packages/urllib3/util/selectors.py:154 EpollSelector._fileobj_lookup  31                    0.000076  0.000464  
..lib/python2.7/site-packages/requests/packages/chardet/euctwfreq.py:44 <module>  11                    0.000064  0.000064  
..requests/packages/urllib3/packages/six.py:184 _SixMetaPathImporter.find_module  74                    0.000057  0.000057  
..python2.7/site-packages/requests/packages/chardet/charsetprober.py:29 <module>  4                     0.000053  0.000058  
../python2.7/site-packages/requests/packages/chardet/utf8prober.py:36 UTF8Prober  7                     0.000052  0.000217  
..ackages/requests/packages/chardet/mbcharsetprober.py:35 MultiByteCharSetProber  43                    0.000046  0.000084  
..-packages/requests/packages/chardet/jpcntx.py:180 SJISContextAnalysis.__init__  60                    0.000046  0.000046  
..ckages/requests/packages/urllib3/contrib/pyopenssl.py:243 WrappedSocket.fileno  11                    0.000045  0.000097  
..al/lib/python2.7/site-packages/requests/packages/chardet/jpcntx.py:28 <module>  1                     0.000044  0.000046  
..es/requests/packages/chardet/chardistribution.py:111 EUCTWDistributionAnalysis  31                    0.000043  0.000043  
..ib/python2.7/site-packages/requests/packages/chardet/big5prober.py:28 <module>  7                     0.000041  0.000108  
..b/python2.7/site-packages/requests/packages/chardet/cp949prober.py:28 <module>  7                     0.000040  0.000108  
..2.7/site-packages/requests/packages/chardet/jpcntx.py:206 EUCJPContextAnalysis  8                     0.000039  0.000110  
..ocal/lib/python2.7/site-packages/requests/cookies.py:71 MockRequest.has_header  12                    0.000039  0.000087  
..ages/requests/packages/chardet/charsetprober.py:49 HebrewProber.get_confidence  78                    0.000039  0.000039  
..s/requests/packages/chardet/hebrewprober.py:172 HebrewProber.set_model_probers  66                    0.000039  0.000039  
..n2.7/site-packages/requests/packages/chardet/charsetgroupprober.py:28 <module>  7                     0.000038  0.000086  
..hon2.7/site-packages/requests/packages/chardet/gb2312prober.py:33 GB2312Prober  7                     0.000034  0.000106  
..packages/requests/packages/chardet/charsetgroupprober.py:33 CharSetGroupProber  13                    0.000031  0.000046  
..ackages/requests/packages/chardet/utf8prober.py:47 UTF8Prober.get_charset_name  54                    0.000031  0.000031  
../python2.7/site-packages/requests/packages/chardet/sjisprober.py:37 SJISProber  13                    0.000030  0.000103  
..ckages/requests/packages/chardet/sbcharsetprober.py:44 SingleByteCharSetProber  12                    0.000030  0.000040  
..ages/requests/packages/urllib3/util/selectors.py:115 _SelectorMapping.__init__  31                    0.000029  0.000029  
..n2.7/site-packages/requests/packages/chardet/codingstatemachine.py:28 <module>  2                     0.000027  0.000029  
..ython2.7/site-packages/requests/packages/chardet/euckrprober.py:34 EUCKRProber  7                     0.000026  0.000092  
/usr/local/lib/python2.7/site-packages/requests/api.py:99 post                    1                     0.000025  0.052094  
..n2.7/site-packages/requests/packages/chardet/jpcntx.py:179 SJISContextAnalysis  9                     0.000024  0.000031  
..lib/python2.7/site-packages/requests/packages/chardet/constants.py:29 <module>  7                     0.000022  0.000198  
..ckages/requests/packages/urllib3/util/selectors.py:248 EpollSelector.__enter__  31                    0.000020  0.000020  
..n2.7/site-packages/requests/packages/urllib3/util/retry.py:310 Retry.increment  1                     0.000016  0.000022  
..b/python2.7/site-packages/requests/packages/chardet/eucjpprober.py:28 <module>  1                     0.000015  0.000016  
..thon2.7/site-packages/requests/packages/chardet/sbcharsetprober.py:29 <module>  2                     0.000013  0.000015  
..es/requests/packages/chardet/jpcntx.py:166 SJISContextAnalysis.got_enough_data  10                    0.000012  0.000012  
..ages/requests/packages/chardet/chardistribution.py:46 CharDistributionAnalysis  7                     0.000011  0.000017  
../python2.7/site-packages/requests/packages/chardet/hebrewprober.py:28 <module>  1                     0.000010  0.000012  
..ges/requests/packages/chardet/chardistribution.py:168 Big5DistributionAnalysis  17                    0.000010  0.000010  
..cal/lib/python2.7/site-packages/requests/packages/chardet/escsm.py:28 <module>  1                     0.000010  0.000010  
../python2.7/site-packages/requests/packages/chardet/gb2312prober.py:28 <module>  1                     0.000010  0.000010  
..on2.7/site-packages/requests/cookies.py:81 MockRequest.add_unredirected_header  12                    0.000009  0.000009  
..thon2.7/site-packages/requests/packages/chardet/mbcharsetprober.py:30 <module>  1                     0.000008  0.000009  
..b/python2.7/site-packages/requests/packages/chardet/euctwprober.py:28 <module>  1                     0.000007  0.000008  
..lib/python2.7/site-packages/requests/exceptions.py:17 ConnectionError.__init__  1                     0.000005  0.000006  
../local/lib/python2.7/site-packages/requests/exceptions.py:17 SSLError.__init__  1                     0.000005  0.000005  
../local/lib/python2.7/site-packages/requests/cookies.py:45 MockRequest.get_type  4                     0.000003  0.000003  
..ackages/requests/packages/urllib3/util/retry.py:264 Retry._is_connection_error  1                     0.000002  0.000003  
..on2.7/site-packages/requests/packages/chardet/hebrewprober.py:155 HebrewProber  1                     0.000002  0.000002  
..site-packages/requests/packages/urllib3/util/retry.py:270 Retry._is_read_error  1                     0.000001  0.000002  
../python2.7/site-packages/requests/packages/chardet/big5prober.py:34 Big5Prober  1                     0.000001  0.000001  
..e-packages/requests/packages/chardet/universaldetector.py:44 UniversalDetector  1                     0.000001  0.000001  
..on2.7/site-packages/requests/packages/chardet/escprober.py:36 EscCharSetProber  1                     0.000001  0.000001  
..ges/requests/packages/chardet/chardistribution.py:190 SJISDistributionAnalysis  1                     0.000001  0.000001  
..ython2.7/site-packages/requests/packages/chardet/cp949prober.py:34 CP949Prober  1                     0.000001  0.000001  
..es/requests/packages/chardet/chardistribution.py:130 EUCKRDistributionAnalysis  1                     0.000001  0.000001  