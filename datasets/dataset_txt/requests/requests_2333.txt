temoto commented on Nov 8, 2012
import requests
requests.post("http://localhost:9091/", data="foobar")

$ nc -l -p 9091
POST / HTTP/1.1
Host: localhost:9091
Content-Length: 6
Authorization: Basic YW5vbnltb3VzOm5vQG1haWwuZG9t
Accept-Encoding: gzip, deflate, compress
Accept: */*
User-Agent: python-requests/0.14.2 CPython/2.7.3 Linux/3.6.0-1-ARCH

foobar^C

$ base64 -d
YW5vbnltb3VzOm5vQG1haWwuZG9t
anonymous:no@mail.dom
WTF this is coming from? So after poking a bit, i found that it's from my .netrc: default login anonymous password no@mail.dom
Okay, so i have to disable automatic netrc support somehow.
Please, tell me one thing, how does it correspond to #44 where auth is explicitly set, but no header is sent and here no auth is set but header is sent?