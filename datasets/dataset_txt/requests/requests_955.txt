ddzialak commented on Aug 23, 2016 â€¢
edited
import requests
import sys
import logging
logging.basicConfig(stream=sys.stdout, level=logging.DEBUG)
logger=logging.getLogger()

def produce():
    for _ in xrange(5000):
        yield "bla" * 1000 + '\0\n'


logger.info("sending....")
response = requests.request("POST", "http://localhost:30006/upload", data=produce(), stream=True)
logger.info("received respone: %s", response.json())
As the result I'm receiving:
python test.py 
INFO:root:sending....
INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): localhost
**WARNING:requests.packages.urllib3.connectionpool:Connection pool is full, discarding connection: localhost**
INFO:root:received respone: {u'estimation': 0, u'reason_code': None,
Everything works but there should be no warning.