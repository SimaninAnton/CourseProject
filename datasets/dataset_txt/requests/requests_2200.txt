Contributor
maxcountryman commented on Feb 16, 2013
I'm noticing that cookies are not preserved across calls to Session.send calls as they would be with Session.request. Once again I'm left with the desire for the ability to use my own Request object subclass in the scope of Session.request; e.g. if it were a key worded arg all my problems would be solved.
Below I've taken an example from the documentation and modified it to demonstrate that using Session.send directly eschews some nice functionality that you'd get "for free" using the Session.request method. However because I would like to make sure of my own Request subclass, without completely overloading Session.request on my own Session object or monkey patching Requests, I can't make use of Session.request.
>>> req = requests.Request(method='get', url='http://httpbin.org/cookies/set/sessioncookie/123456789')
>>> r = s.send(req.prepare())
>>> r.content
'{\n  "cookies": {\n    "sessioncookie": "123456789"\n  }\n}'
>>> req = requests.Request(method='get', url='http://httpbin.org/cookies')
>>> r = s.send(req.prepare())
>>> r.content
'{\n  "cookies": {}\n}'