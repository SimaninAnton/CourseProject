geoff-kruss commented on Mar 23, 2013
My test code:
import requests
s = requests.Session()
s.proxies = {'http': 'myproxy:3128'}
r = requests.Request(method='GET', url='http://www.google.com')
s.send(r.prepare())
In the above case, the proxy is ignored completely.
It looks to me like in Session.request() the following code is run:
proxies = merge_kwargs(proxies, self.proxies)
But in the send() function this is not happening. I am not sure if this is a bug - or if always passing proxies to the send() function explicitly is the intended behavior.
I am relatively new in using the requests library - my apologies if this has been brought up before or if i'm missing something obvious.