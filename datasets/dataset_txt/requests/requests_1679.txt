kiarashplusplus commented on Aug 2, 2014
I'm trying to make connections with proxies. and some of the times I get this error. I put the traceback below.
The command I use is this: requests.get(w, verify=False, timeout=4, proxies=proxy)
w is a url and proxy is a dictionary.. something I make like this:
http_proxy  = "http://"+ip.strip()
https_proxy = http_proxy
proxyDict = { 
              "http"  : http_proxy, 
              "https" : https_proxy, 
            }
Traceback (most recent call last):
  File "explore_proxies.py", line 13, in onewebsite
    r= requests.get(w, verify=False, timeout=4, proxies=proxy)
  File "/usr/lib/python2.7/dist-packages/requests/api.py", line 55, in get
    return request('get', url, **kwargs)
  File "/usr/lib/python2.7/dist-packages/requests/api.py", line 44, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/lib/python2.7/dist-packages/requests/sessions.py", line 383, in req
uest
    resp = self.send(prep, **send_kwargs)
  File "/usr/lib/python2.7/dist-packages/requests/sessions.py", line 486, in sen
d
    r = adapter.send(request, **kwargs)
  File "/usr/lib/python2.7/dist-packages/requests/adapters.py", line 330, in sen
d
    timeout=timeout
  File "/usr/lib/python2.7/dist-packages/urllib3/connectionpool.py", line 537, i
n urlopen
    conn = self._get_conn(timeout=pool_timeout)
  File "/usr/lib/python2.7/dist-packages/urllib3/connectionpool.py", line 299, i
n _get_conn
    return conn or self._new_conn()
  File "/usr/lib/python2.7/dist-packages/urllib3/connectionpool.py", line 719, i
n _new_conn
    return self._prepare_conn(connection)
  File "/usr/lib/python2.7/dist-packages/urllib3/connectionpool.py", line 686, i
n _prepare_conn
    connection.connect()
  File "/usr/lib/python2.7/dist-packages/urllib3/connectionpool.py", line 124, i
n connect
    self._tunnel()
  File "/usr/lib/python2.7/httplib.py", line 759, in _tunnel
    line = response.fp.readline(_MAXLINE + 1)
TypeError: readline() takes exactly 1 argument (2 given)