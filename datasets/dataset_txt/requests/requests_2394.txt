Arfrever commented on Aug 18, 2012
tests/test_requests_ext.py seems to contain a typo in RequestsTestSuite.test_cookies_on_redirects().
The last lines in this function are:
        # get cookies on another domain
        r2 = s.get(url='http://httpbin.org/cookies')
        # the cookie is not there
        self.assertTrue('preview' not in json.loads(r2.text)['cookies'])

        # this redirects to another domain, httpbin.org
        # cookies of the first domain should NOT be sent to the next one
        r3 = s.get(url='http://tinyurl.com/7zp3jnr')
        assert r3.url == 'http://httpbin.org/cookies'
        self.assertTrue('preview' not in json.loads(r2.text)['cookies'])
r2.text should be r3.text in last line.