gtrainavicius commented on Sep 6, 2017
We have noticed that 'import requests' statement started taking roughly 3 times more time between versions 2.12.0 (bad) and 2.11.1 (last known good), the difference is especially visible running on Raspberry Pi 3.
Expected Result
'import requests' execution time should not increase by 3-4 times between versions.
Actual Result
3-4 times slower 'import requests' execution.
Reproduction Steps
pi@raspberrypi:~ $ sudo pip install 'requests<2.12.1'
Collecting requests<2.12.1
  Downloading requests-2.12.0-py2.py3-none-any.whl (574kB)
    100% |████████████████████████████████| 583kB 363kB/s
Installing collected packages: requests
  Found existing installation: requests 2.12.1
    Uninstalling requests-2.12.1:
      Successfully uninstalled requests-2.12.1
Successfully installed requests-2.12.0
pi@raspberrypi:~ $ time python -c "import requests"

real    0m1.761s
user    0m1.640s
sys     0m0.080s
pi@raspberrypi:~ $ sudo pip install 'requests<2.12.0'
Collecting requests<2.12.0
  Using cached requests-2.11.1-py2.py3-none-any.whl
Installing collected packages: requests
  Found existing installation: requests 2.12.0
    Uninstalling requests-2.12.0:
      Successfully uninstalled requests-2.12.0
Successfully installed requests-2.11.1
pi@raspberrypi:~ $ time python -c "import requests"

real    0m0.420s
user    0m0.370s
sys     0m0.040s
System Information
pi@raspberrypi:~ $ python --version
Python 2.7.13
pi@raspberrypi:~ $ uname -a
Linux raspberrypi 4.9.41-v7+ #1023 SMP Tue Aug 8 16:00:15 BST 2017 armv7l GNU/Linux
Raspbian Stretch.