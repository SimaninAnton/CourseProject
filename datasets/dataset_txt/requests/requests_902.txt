jpmelos commented on Oct 19, 2016 â€¢
edited
Python version: 2.7.12 and 3.5.2
Requests version: 2.11.1
I'm sorry if this is a duplicate, but I don't know what the issue is, so I also don't even know how to look for it in the search... But this might be a bug, so I decided to report.
When I run this in Python 2:
import requests


response = requests.post('http://evds.tcmb.gov.tr/cgi-bin/famecgi', data={
    'cgi': '$ozetweb',
    'ARAVERIGRUP': 'bie_yymkpyuk.db',
    'DIL': 'UK',
    'ONDALIK': '5',
    'wfmultiple_selection': 'ZAMANSERILERI',
    'f_begdt': '07-01-2005',
    'f_enddt': '07-10-2016',
    'ZAMANSERILERI': ['TP.PYUK1', 'TP.PYUK2', 'TP.PYUK21', 'TP.PYUK22', 'TP.PYUK3', 'TP.PYUK4', 'TP.PYUK5', 'TP.PYUK6'],
    'YON': '3',
    'SUBMITDEG': 'Report',
    'GRTYPE': '1',
    'EPOSTA': 'xxx',
    'RESIMPOSTA': '***',
})

print(response.text)
I always get the same response, consistently, no matter how many times. If I run this in Python 3, I get a different response. I checked the request body being sent to the server, and the request headers, and they are all the same in both versions of Python. The correct response is obtained from running this in Python 2.
Since both versions of Python are supported, and the same API is exposed, then the same result should happen. I also asked this in Stack Overflow, and at least one other developer was able to reprodeuce and confirm this happens: http://stackoverflow.com/questions/40118133/library-requests-getting-different-results-unpredictably
You should check the discussion at Stack Overflow, as some people entertained some more scenarios.