dubhunter commented on May 7, 2017
I have been trying to get the cookies from a response, as your docs suggest (http://docs.python-requests.org/en/master/user/quickstart/#cookies [first example]), but it does not seem to be working.
When I dug through the sessions.py (https://github.com/kennethreitz/requests/blob/master/requests/sessions.py#L655), it looks like cookies are extracted to the cookie jar on the Session object, but never set on the response.
I had to do the following to get my intended behavior (which is probably not entirely correct, since it will copy all cookies on the Session, not just the ones from the most recent request):
>>> url = 'http://example.com/some/cookie/setting/url'
>>> s = requests.Session()
>>> r = s.get(url)
>>> r.cookies = s.cookies

>>> r.cookies['example_cookie_name']
'example_cookie_value'
👍 1