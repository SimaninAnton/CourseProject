gfplk commented on Jun 26, 2017
Hello, my head HTTP request is sent, although is ordered, but this is out of order, the anti spider detection target site to request the head not in the same order will ban off request. After finally put the code here watching, actually can bypass anti crawler mechanism.
你好，我发送http请求时的头部，虽然是有序的，但是这里是顺序被打乱，目标网站的反爬虫检测到请求头的顺序不一样就会ban掉请求. 最后把这里的代码注视之后，居然可以绕过反爬虫机制。
merged_setting = dict_class(to_key_val_list(session_setting))
merged_setting.update(to_key_val_list(request_setting))