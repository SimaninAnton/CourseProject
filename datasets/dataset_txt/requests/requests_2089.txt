esaurito commented on Jun 11, 2013
I was looking for a way to temporary disable cookie persistence.
When I use requests to access an URL cookies are automatically sent back to the server (in the following example the requested URL set some cookie values and then redirect to another URL that display the stored cookie)
>>> import requests
>>> response = requests.get("http://httpbin.org/cookies/set?k1=v1&k2=v2")
>>> response.content
'{\n  "cookies": {\n    "k2": "v2",\n    "k1": "v1"\n  }\n}'
Is it possible to temporary disable cookie handling in the same way you set Chrome or Firefox to not accept cookies?
I made this question on SO and it seems that the only way to go is patching the requests.cookies.RequestsCookieJar.update. I think that should be an easier way to do this in requests, Maybe passing parameter to the get method?