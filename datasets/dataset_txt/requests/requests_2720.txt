Contributor
pennersr commented on Sep 22, 2011
Using the latest development version, requests returns an HTTP 400, whereas curl/wget have no trouble fetching that link.
>>> import requests
>>> requests.__version__
'0.6.2 (dev)'
>>> requests.get('http://t.co/fvMzDtAo')
<Response [400]>
This does not seem related to issue #158 -- I tried the version from cactus with the same result.
Here's the output of wget, showing an HTTP 200 as the final result:
$ wget --no-check-certificate http://t.co/fvMzDtAo
--2011-09-22 14:17:56--  http://t.co/fvMzDtAo
Resolving t.co (t.co)... 199.59.148.12
Connecting to t.co (t.co)|199.59.148.12|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: http://goo.gl/LQU5O [following]
--2011-09-22 14:17:57--  http://goo.gl/LQU5O
Resolving goo.gl (goo.gl)... 74.125.79.100, 74.125.79.102, 74.125.79.101
Connecting to goo.gl (goo.gl)|74.125.79.100|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: http://www.pharosreizen.nl/pharos/?tt=893_121092_71405_&amp;r= [following]
--2011-09-22 14:17:57--  http://www.pharosreizen.nl/pharos/?tt=893_121092_71405_&amp;r=
Resolving www.pharosreizen.nl (www.pharosreizen.nl)... 84.244.159.50
Connecting to www.pharosreizen.nl (www.pharosreizen.nl)|84.244.159.50|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: http://tc.tradetracker.nl/v2/893/121092/71405/?r= [following]
--2011-09-22 14:17:57--  http://tc.tradetracker.nl/v2/893/121092/71405/?r=
Resolving tc.tradetracker.nl (tc.tradetracker.nl)... 81.93.57.150
Connecting to tc.tradetracker.nl (tc.tradetracker.nl)|81.93.57.150|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: http://tc.tradetracker.net/v2/893/121092/71405/?r= [following]
--2011-09-22 14:17:57--  http://tc.tradetracker.net/v2/893/121092/71405/?r=
Resolving tc.tradetracker.net (tc.tradetracker.net)... 81.93.57.150
Connecting to tc.tradetracker.net (tc.tradetracker.net)|81.93.57.150|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: http://tc.tradetracker.net/v2/893/121092/71405/?r=&c=893&m=121092&a=71405&bct=1 [following]
--2011-09-22 14:17:57--  http://tc.tradetracker.net/v2/893/121092/71405/?r=&c=893&m=121092&a=71405&bct=1
Connecting to tc.tradetracker.net (tc.tradetracker.net)|81.93.57.150|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: https://tm.tradetracker.net/bct?s=893&t=m [following]
--2011-09-22 14:17:57--  https://tm.tradetracker.net/bct?s=893&t=m
Resolving tm.tradetracker.net (tm.tradetracker.net)... 81.93.57.161
Connecting to tm.tradetracker.net (tm.tradetracker.net)|81.93.57.161|:443... connected.
WARNING: The certificate of `tm.tradetracker.net' is not trusted.
WARNING: The certificate of `tm.tradetracker.net' hasn't got a known issuer.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: http://www.pharosreizen.nl/Gezinnen/Wintersport?utm_source= tt-2011-71405&utm_term=s [following]
--2011-09-22 14:17:57--  http://www.pharosreizen.nl/Gezinnen/Wintersport?utm_source=%20tt-2011-71405&utm_term=s
Reusing existing connection to www.pharosreizen.nl:80.
HTTP request sent, awaiting response... 302 Found
Location: /gezinnen/wintersport/?utm_source=%20tt-2011-71405&utm_term=s [following]
--2011-09-22 14:17:57--  http://www.pharosreizen.nl/gezinnen/wintersport/?utm_source=%20tt-2011-71405&utm_term=s
Connecting to www.pharosreizen.nl (www.pharosreizen.nl)|84.244.159.50|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 25978 (25K) [text/html]
Saving to: `fvMzDtAo.1'

100%[======================================>] 25,978      --.-K/s   in 0.09s   

2011-09-22 14:17:58 (283 KB/s) - `fvMzDtAo.1' saved [25978/25978]