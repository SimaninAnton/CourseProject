odlbo commented on Apr 7, 2016
Hello!
The requests module redirects to a wrong URL if the 'Location' field of the response header contains UTF-8 characters (for example, https://picsrch.me/wCtd3uQF). The server typically does not return a response containing UTF-8 characters in the 'Location' field, but many HTTP clients (Firefox, Chrome, Wget, etc.) react correctly. As I can see, this module tries to solve this problem as well.
The main problem is that http.client module (which is used by requests module) decodes all fields in latin1, but requests module uses utf-8 encoding to prepare URL from 'Location' field (we can see this behavior in urllib.parse.quote function).
P.S.:
Python - 3.4.0
requests - 2.8.1