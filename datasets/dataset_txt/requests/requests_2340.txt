airnandez commented on Oct 29, 2012
Hello,
I'm evaluating requests as a building block to develop a client that needs to query a third party web service. I like the succinctness of the API so I would like to be able to use it. However, I'm facing the problem below.
I need to be able to send requests using URLs of the form below:
https://www.example.com/?versioning
Please note that the query string of the URL is not of the type 'key=value' but just 'key'.
In the requests API documentation, it is stated about the params argument of the constructor or class requests.Request:
params = None
Dictionary or byte of querystring data to attach to the Request.
However, if I pass a bytesargument I get an exception:
ValueError: cannot encode objects that are not 2-tuples
Looking at the source code (file utils.py:134) one can observe that requests does not accept bytes (nor string, nor bool, nor int, BTW). So I suspect, there is a bug in the documentation.
What is the recommended way for using requests for interacting with a web service with a URL which needs a "custom" query string (e.g. not of the form "key=value")? Should I encode the query string in my application and pass it as part of the url argument and not as part of paramsargument?
[Test context: Python v3.3, MacOS X v10.7.5]
Thanks of your help.