vitek commented on Jun 23, 2014
Hi!
Using gevent with pyOpenSSL 0.14 I got OpenSSL.SSL.WantWriteError error. Here is simple script to reproduce the issue:
from gevent import monkey
monkey.patch_all()

import requests

payload = 'x' * 1024 * 1000
requests.get('https://example.org/', data=payload, verify=False)
As a workaround you can use pyOpenSSL 0.13. BTW it seems to me that SSL's WrappedSocket.sendall() method should do the same thing it does for SSL handshake. But it seems to be a problem since pyOpenSSL doesn't report number of bytes already sent. I got OpenSSL.SSL.Error: [('SSL routines', 'SSL3_WRITE_PENDING', 'bad write retry')] on retry.