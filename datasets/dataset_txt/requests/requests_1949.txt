Arfrever commented on Oct 11, 2013
Requests fails 2 tests with all versions of Python (2.6, 2.7, 3.1, 3.2, 3.3).
This bug occurs in Requests 2.0.0 and trunk.
These tests do not exist in Requests 1.2.3.
Result for Requests trunk:
$ python2.7 test_requests.py
..EE..................................................................................
======================================================================
ERROR: test_DIGEST_AUTH_RETURNS_COOKIE (__main__.RequestsTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "test_requests.py", line 285, in test_DIGEST_AUTH_RETURNS_COOKIE
    assert r.cookies['fake'] == 'fake_value'
  File "/tmp/requests/requests/cookies.py", line 256, in __getitem__
    return self._find_no_duplicates(name)
  File "/tmp/requests/requests/cookies.py", line 311, in _find_no_duplicates
    raise KeyError('name=%r, domain=%r, path=%r' % (name, domain, path))
KeyError: "name='fake', domain=None, path=None"

======================================================================
ERROR: test_DIGEST_AUTH_SETS_SESSION_COOKIES (__main__.RequestsTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "test_requests.py", line 295, in test_DIGEST_AUTH_SETS_SESSION_COOKIES
    assert s.cookies['fake'] == 'fake_value'
  File "/tmp/requests/requests/cookies.py", line 256, in __getitem__
    return self._find_no_duplicates(name)
  File "/tmp/requests/requests/cookies.py", line 311, in _find_no_duplicates
    raise KeyError('name=%r, domain=%r, path=%r' % (name, domain, path))
KeyError: "name='fake', domain=None, path=None"

----------------------------------------------------------------------
Ran 86 tests in 26.973s

FAILED (errors=2)