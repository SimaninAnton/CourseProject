peterbe commented on Mar 30, 2017
response = requests.get('https://s3-us-west-2.amazonaws.com/org.mozilla.crash-stats.symbols-public/v1/wntdll.pdb/D74F79EB1F8D4A45ABCD2F476CCABACC2/wntdll.sym', stream=True)
for line in response.iter_lines(decode_unicode=True):
    print(type(line), repr(line[:50]))
    break

response = requests.get('https://s3-us-west-2.amazonaws.com/org.mozilla.crash-stats.symbols-public/v1/ntdll.pdb/120028FA453F4CD5A6A404EC37396A582/ntdll.sym', stream=True)
for line in response.iter_lines(decode_unicode=True):
    print(type(line), repr(line[:50]))
    break
When I run this, I get this output:
▶ python3.5 test.py
<class 'str'> 'MODULE windows x86 D74F79EB1F8D4A45ABCD2F476CCABAC'
<class 'bytes'> b'MODULE windows x86 120028FA453F4CD5A6A404EC37396A5'
Here's what I get with python 2.7 (with from __future__ import print_function)
▶ python test.py
<type 'unicode'> u'MODULE windows x86 D74F79EB1F8D4A45ABCD2F476CCABAC'
<type 'str'> 'MODULE windows x86 120028FA453F4CD5A6A404EC37396A5'