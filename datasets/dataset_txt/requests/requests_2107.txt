Arfrever commented on May 25, 2013
Tarballs of last 2 releases of requests on PyPI are broken:
https://pypi.python.org/packages/source/r/requests/requests-1.2.1.tar.gz
https://pypi.python.org/packages/source/r/requests/requests-1.2.2.tar.gz
They contain test_requests.py incompatible with Python 3 (in test_content_length_override function).
This function is absent in test_requests.py in tags in repository:
https://github.com/kennethreitz/requests/blob/v1.2.1/test_requests.py
https://github.com/kennethreitz/requests/blob/v1.2.2/test_requests.py
Difference between 1.2.2 tag and 1.2.2 tarball:
--- 1.2.2-tag/requests/models.py
+++ 1.2.2-tarball/requests/models.py
@@ -399,7 +399,13 @@

         self.body = body

-    def prepare_content_length(self, body):
+    def prepare_content_length(self, body, force=False):
+
+        # Skip this if it's already set, you crazy crazy person.
+        if 'Content-Length' in self.headers:
+            if not force:
+                return
+
         if hasattr(body, 'seek') and hasattr(body, 'tell'):
             body.seek(0, 2)
             self.headers['Content-Length'] = str(body.tell())
@@ -431,7 +437,7 @@
             self.__dict__.update(r.__dict__)

             # Recompute Content-Length
-            self.prepare_content_length(self.body)
+            self.prepare_content_length(self.body, force=True)

     def prepare_cookies(self, cookies):
         """Prepares the given HTTP cookie data."""
--- 1.2.2-tag/test_requests.py
+++ 1.2.2-tarball/test_requests.py
@@ -702,5 +702,10 @@
         self.assertEqual(frozenset(cid), keyset)


+    def test_content_length_override(self):
+        r = requests.Request('POST', httpbin('post'), data='ohai', headers={'f-length': 1})
+        print r.prepare().headers
+
+
 if __name__ == '__main__':
     unittest.main()
I suggest to create correct tarballs and re-upload them to PyPI