DaveDunne commented on Jun 24, 2013
When trying to specifiy other values for http_pool_maxsize
self.session.mount('http://', requests.adapters.HTTPAdapter(pool_connections=self.pool_connections,
pool_maxsize=self.pool_maxsize,
max_retries=self.max_retries,
pool_block=self.is_pool_block))
Error
Traceback (most recent call last):
File "/usr/lib/python2.7/unittest/case.py", line 327, in run
..........
return self.session.put(self.swiftAuthPath + SWAUTH_API_VERSION_2 + "/" + account, headers=headers)
File "/usr/local/lib/python2.7/dist-packages/requests/sessions.py", line 387, in put
return self.request('PUT', url, data=data, *_kwargs)
File "/usr/local/lib/python2.7/dist-packages/requests/sessions.py", line 335, in request
resp = self.send(prep, *_send_kwargs)
File "/usr/local/lib/python2.7/dist-packages/requests/sessions.py", line 438, in send
r = adapter.send(request, *_kwargs)
File "/usr/local/lib/python2.7/dist-packages/requests/adapters.py", line 272, in send
conn = self.get_connection(request.url, proxies)
File "/usr/local/lib/python2.7/dist-packages/requests/adapters.py", line 199, in get_connection
conn = self.poolmanager.connection_from_url(url)
File "/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/poolmanager.py", line 123, in connection_from_url
return self.connection_from_host(u.host, port=u.port, scheme=u.scheme)
File "/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/poolmanager.py", line 109, in connection_from_host
pool = self._new_pool(scheme, host, port)
File "/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/poolmanager.py", line 79, in _new_pool
return pool_cls(host, port, *_kwargs)
File "/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py", line 189, in init
for _ in xrange(maxsize):
TypeError: an integer is required
Problem is that it tries to create a xrange when doing init in connectionpool.py and supplies a string and I get this above exception
Am I doing something wrong? This only seems to work with the default
Thanks
Dave