stuz5000 commented on May 11, 2017
If I:
requests.post(LOGIN_URL, data=DATA, headers=HEADERS)
and the initial response is a redirect with with new cookies in the response, it seems the cookies are passed to the redirected request and the above may receive no cookies. :-(
If I do
requests.post(LOGIN_URL, data=DATA, headers=HEADERS, allow_redirects=False)
then I do get back cookies, but then have to extract the cookie, and add them to a new request for the redirected URL.
If the redirect is to the same domain, it would be helpful to have the returned cookies passed to the second request where allow_redirects=True, emulating a browser's treatment of cookies.