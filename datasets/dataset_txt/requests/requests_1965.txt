atomontage commented on Sep 27, 2013
System configured HTTPS proxy, reported by urllib2.getproxies() as:
{'https' : 'https://10.1.1.1:3128'}
The target webserver is 2.2.2.2.
Requests 2.0 doing a POST through the system configured proxy:
requests.post('https://2.2.2.2:6666/test', verify=False)
The web server receives the POST as:
[2013-09-27 10:01:36] "POST https://2.2.2.2:6666/test HTTP/1.1" 404 918 0.000754
which is obviously wrong.
To verify with curl:
curl -x https://10.1.1.1:3128 -i -k -X POST https://2.2.2.2:6666/test 
The web server receives:
[2013-09-27 10:04:11] "POST /test HTTP/1.1" 404 861 0.000694
which is the expected behavior.