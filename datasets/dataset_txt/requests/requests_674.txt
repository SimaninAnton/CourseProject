dev-dull commented on May 12, 2017 â€¢
edited
requests 2.4.3
python 2.7.9
os: Debian Jesse
I looked through the release notes from 2.4.3 to present and didn't see this one as fixed.
Issue:
requests.exceptions.SSLError is raised, but when the error is printed or cast to string, another error is thrown stating that str returned a non-string.
Just to restate: the non-string value is the issue here. I'm not yet sure how to reproduce as we were doing some wacky things. If I'm successful in reproducing this, I'll follow-up with steps.
I was using python/requests to troubleshoot a 'connection reset by peer' error at work and we made the following manipulations:
changed /etc/hosts to point a domain at a test IP.
added a 'Host' header that referred back at that domain.
hit an HTTPS/SSL URL on that domain
-- because of previous changes, the cert and domain likely mismatch
-- This URL does a 302 redirect (it's a redirect service)
requests.exceptions.SSLError is raised and caught as expected
printing the error and casting the error as str() raises an error about str returning a non-string.
iirc, this issue still existed when I set verify=False