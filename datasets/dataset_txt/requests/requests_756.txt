ckcollab commented on Feb 28, 2017
Heyo! Thanks so much for requests, I use it all the time and appreciate the effort ya'll put into this!
Anyway, I am having a bit of trouble PUT'ing some files to Azure, for some reason Azure receives the files as:
--d21a382fd3cb49f085c89cc5c15e180e
Content-Disposition: form-data; name="file"; filename="stdout.txt"
Content-Type: text/plain

<file data>

--d21a382fd3cb49f085c89cc5c15e180e--
Instead of just
<file data>
For the life of me, I can't figure out why it's keeping the headers there and such...
def put_blob(url, file_path):
    requests.put(
        url,
        files={'file': open(file_path, 'rb')},
        headers={
            'x-ms-blob-type': 'BlockBlob',
        }
    )