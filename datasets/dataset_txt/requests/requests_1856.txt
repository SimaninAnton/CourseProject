ghost commented on Jan 6, 2014
The following is not working:
import requests
requests.post('http://localhost:8080/', data={"hello": "world"})
This works:
import requests
requests.post('http://localhost/', data={"hello": "world"})```
This works too:
$ export HTTP_PROXY="http://localhost:8080"
$ python 
import requests
requests.post('http://localhost/', data={"hello": "world"})```
Requests 2.1.0
Python 2.6.1
Mac OS X 10.6.8
httpie debug:
requests.request({'allow_redirects': False,
 'auth': None,
 'data': {},
 'files': {},
 'headers': CaseInsensitiveDict({'User-Agent': 'HTTPie/0.8.0-dev'}),
 'method': 'post',
 'params': {},
 'proxies': {},
 'stream': True,
 'timeout': 30,
 'url': 'http://localhost:8080/xxx/rest/product/',
 'verify': True})

Traceback (most recent call last):
  File "/Users/andi/.virtualenvs/xxxx/bin/http", line 8, in <module>
    load_entry_point('httpie==0.8.0-dev', 'console_scripts', 'http')()
  File "/Users/andi/.virtualenvs/xxxx/lib/python2.6/site-packages/httpie/core.py", line 95, in main
    response = get_response(args, config_dir=env.config.directory)
  File "/Users/andi/.virtualenvs/xxxx/lib/python2.6/site-packages/httpie/client.py", line 27, in get_response
    response = requests.request(**requests_kwargs)
  File "/Users/andi/.virtualenvs/xxxx/lib/python2.6/site-packages/requests/api.py", line 44, in request
    return session.request(method=method, url=url, **kwargs)
  File "/Users/andi/.virtualenvs/xxxx/lib/python2.6/site-packages/requests/sessions.py", line 355, in request
    env_proxies = get_environ_proxies(url) or {}
  File "/Users/andi/.virtualenvs/xxxx/lib/python2.6/site-packages/requests/utils.py", line 490, in get_environ_proxies
    if proxy_bypass(netloc):
  File "/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/urllib.py", line 1567, in proxy_bypass
    return proxy_bypass_macosx_sysconf(host)
  File "/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/urllib.py", line 1433, in proxy_bypass_macosx_sysconf
    hostIP = socket.gethostbyname(host)
socket.gaierror: [Errno 8] nodename nor servname provided, or not known