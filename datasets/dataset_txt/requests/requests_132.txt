SebastianoF commented on Dec 13, 2018 ‚Ä¢
edited
Hi!
Please run
import requests

r = requests.get('http://httpbin.org/status/200')
r.status_code
r.json()
The answer is:
200
JSONDecodeError:  Expecting value: line 1 column 1 (char 0)
I do not think it is informative and maybe it could contain something like:
Json: Response content is not in the json format
Do you think it is a good idea to wrap line 892 of requests/models.py into something like:
try: 
    return complexjson.loads(self.text, **kwargs)  # current line 892
except JSONDecodeError:
    print('Response content is not in the json format')
?
System Information
(py3)  ~/ $ python -m requests.help
{
  "chardet": {
    "version": "3.0.4"
  },
  "cryptography": {
    "version": ""
  },
  "idna": {
    "version": "2.6"
  },
  "implementation": {
    "name": "CPython",
    "version": "3.6.6"
  },
  "platform": {
    "release": "4.15.0-39-generic",
    "system": "Linux"
  },
  "pyOpenSSL": {
    "openssl_version": "",
    "version": null
  },
  "requests": {
    "version": "2.18.4"
  },
  "system_ssl": {
    "version": "1010007f"
  },
  "urllib3": {
    "version": "1.22"
  },
  "using_pyopenssl": false
}
üëç 2