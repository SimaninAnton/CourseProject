PabloLefort commented on Jun 15, 2016
Hi, i have a service for send email through SMTP with Mandrill.
# Service
from django.core.mail import EmailMessage
e = EmailMessage('test subject', 'test message', 'test@mail.com', ['me@me.com'])
e.send()
Throws this exception trace:
Traceback (most recent call last):
  File "<input>", line 1, in <module>
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/django/core/mail/message.py", line 286, in send
    return self.get_connection(fail_silently).send_messages([self])
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/djrill/mail/backends/djrill.py", line 68, in send_messages
    sent = self._send(message)
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/djrill/mail/backends/djrill.py", line 107, in _send
    response = requests.post(api_url, data=json.dumps(api_params, cls=JSONDateUTCEncoder))
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/requests/api.py", line 109, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/requests/api.py", line 50, in request
    response = session.request(method=method, url=url, **kwargs)
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/requests/sessions.py", line 465, in request
    resp = self.send(prep, **send_kwargs)
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/requests/sessions.py", line 573, in send
    r = adapter.send(request, **kwargs)
  File "/opt/apps/project/virtualenv/project/lib/python2.7/site-packages/requests/adapters.py", line 431, in send
    raise SSLError(e, request=request)
SSLError: [Errno bad handshake] (-1, 'Unexpected EOF')
Env: Red Hat 4.8.2-13, Python: 2.7.5
Libs:
Django==1.7.4
requests==2.7.0
djrill==1.3.0
pyOpenSSL==0.14
Any suggestions?
Going with this answer did not change anything.
Thanks in advance.