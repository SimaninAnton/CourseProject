Add caching support with pluggable storage classes