MrThanlon commented on May 12, 2018 â€¢
edited
Summary.
Expected Result
>>>import requests
>>>requests.get('http://localhost/test.php').cookies
<RequestsCookieJar[Cookie(....)]>
Actual Result
>>>import requests
>>>requests.get('http://localhost/test.php').cookies
<RequestsCookieJar[]>
Reproduction Steps
import requests
requests.get('http://localhost/test.php').cookies
System Information
$ python -m requests.help
{
  "chardet": {
    "version": "3.0.4"
  },
  "cryptography": {
    "version": ""
  },
  "idna": {
    "version": "2.6"
  },
  "implementation": {
    "name": "CPython",
    "version": "2.7.14"
  },
  "platform": {
    "release": "7",
    "system": "Windows"
  },
  "pyOpenSSL": {
    "openssl_version": "",
    "version": null
  },
  "requests": {
    "version": "2.18.4"
  },
  "system_ssl": {
    "version": "100020bf"
  },
  "urllib3": {
    "version": "1.22"
  },
  "using_pyopenssl": false
}
This command is only available on Requests v2.16.4 and greater. Otherwise,
please provide some basic information about your system (Python version,
operating system, &c).
I found it when I test a php script.I put it on IIS and explorer worked.Howerver requests did not got the cookies,response header showed there was a key "Set-Cookie".Strangely,when I put the php script on my site whose domain is not localhost,requests successfully got the cookies.
The session is the same situation.
Sorry for my poor English.