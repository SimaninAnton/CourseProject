zhanglue commented on May 21, 2018
Hello~
I find the "REAL" CL, by 'tcpdump' the server host, is not according to the 'body data'.
The type of data is serialized protobuf string, and I have specified it in headers as "'Content-type': 'application/x-protobuf'".
Known point:
Content-Length(ab. CL) will be replaced even if it is specified in "headers".
CL can be set arbitrarily by Session.
After times of failed trying, I send the same PB string by 'httplib' instead, which works well.
Comparing the data dumped by tcpdumps, it seems like that data server received has been modified by 'requests' , while 'httplib' did not, even if the string dumped is not human readable.
So I found I did it in a wrong way, the point is how to send bytes string by 'requests' but how to set CL.
Right?