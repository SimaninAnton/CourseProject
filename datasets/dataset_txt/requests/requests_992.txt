JamesJGoodwin commented on Aug 1, 2016 â€¢
edited
Hi. I've wrote a code, but i'm getting an error 400 Bad Request, when sending a GET-request. What i did wrong?
{'Host': 'http://keddr.com', 'Keep-Alive': 112, 'User-Agent': 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.8) Gecko/20100223 Firefox/3.5.8 Lunascape/6.1.0.20940 ( .NET CLR 3.5.30729)', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Connection': 'keep-alive', 'Referer': 'http://grandsultansaloon.com/plugins/system/plugin_googlemap2_proxy.php?url=EQZMME', 'Cache-Control': 'no-cache'} <Response [400]>
Here goes my Python code:
def httprequest():
    url = sys.argv[1]
    payload = {buildblock(random.randint(50,100)): buildblock(random.randint(50,100))}
    headers = {'User-Agent': random.choice(ua),
        'Cache-Control': 'no-cache',
        'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7',
        'Referer': random.choice(ref)+buildblock(random.randint(3,10)),
        'Keep-Alive': random.randint(110,120),
        'Connection': 'keep-alive',
        'Host': url}
    r = requests.get(url, params=payload, headers=headers)
    print(headers)
    print(r)