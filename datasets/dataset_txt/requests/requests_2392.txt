Contributor
sigmavirus24 commented on Aug 20, 2012
So I realized in changing github3.py's download creation function that when @jkbr changed the encoding of files (_encode_files) he inserted the file tuples first. So making a call like:
from requests import post


r = post('http://httpbin.org/post', data=[('some', 'data'), ('some', 'more data')], files=[('file', open(__file__, 'rb'))])
Will actually have the structure (sent to urllib3) of
[('file', '<data from __file__>'), ('some', 'data'), ('some', 'more data')]
Whereas before that it would be:
[('some', 'data'), ('some', 'more data'), ('file', '<data from __file__>')]
And this changes the previously expected/exhibited behavior. I kept that construction assuming it had been approved, but I can't find that and I'm not sure if anyone was aware of this. I can change the ordering very easily, but I was wondering if I should or if this is ok.