jerbluba commented on Mar 29, 2018 â€¢
edited
I found if we have "|" vertical bar in url will show
Expecting value: line 9 column 1 (char 16)
The following is my code...
req = requests.session()
req.get('http://mis.twse.com.tw/stock/index.jsp',headers={'Accept-Language': 'zh-TW'})
response = req.get(self.query_url)
print(content)
self.query_url is aurl have "|"
For example:
http://mis.twse.com.tw/stock/api/getStockInfo.jsp?_=1522229112409&json=1&delay=0&ex_ch=tse_3374.tw|tse_2455.tw|tse_8086.tw|tse_3105.tw|tse_4991.tw|tse_2360.tw|tse_4971.tw|tse_6271.tw|tse_2448.tw|tse_2454.tw|tse_3443.tw|tse_3661.tw|tse_3035.tw|tse_2376.tw|tse_2377.tw
Expected Result
I hope I can read url with "vertical bar"
Actual Result
Expecting value: line 9 column 1 (char 16)
Reproduction Steps
import requests

req = requests.session()
req.get('http://mis.twse.com.tw/stock/index.jsp',headers={'Accept-Language': 'zh-TW'})   
response = req.get('http://mis.twse.com.tw/stock/api/getStockInfo.jsp?_=1522229112409&json=1&delay=0&ex_ch=tse_3374.tw|tse_2455.tw|tse_8086.tw|tse_3105.tw|tse_4991.tw|tse_2360.tw|tse_4971.tw|tse_6271.tw|tse_2448.tw|tse_2454.tw|tse_3443.tw|tse_3661.tw|tse_3035.tw|tse_2376.tw|tse_2377.tw'
)
content = json.loads(response.text)
print(content)
System Information
version python3.6