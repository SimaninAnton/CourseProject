panda-34 commented on Jun 7, 2016
I was scraping a site where the search form makes a POST request which is redirected with 301 code. That code being permanent, the redirect is cached in session.redirect_cache by POST URL alone, so for all further searches the session gets the same page. I suggest that redirect_cache should use POST body as a key also, it's quite typical for sites to redirect POSTs to different URLs based on data.