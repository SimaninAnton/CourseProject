Contributor
dpursehouse commented on Jun 28, 2015
My .netrc contains a line for the github auth, like this.
It turns out that netrc.netrc() doesn't like that:
>>> from netrc import netrc
>>> netrc()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/netrc.py", line 35, in __init__
    self._parse(file, fp, default_netrc)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/netrc.py", line 117, in _parse
    file, lexer.lineno)
netrc.NetrcParseError: bad follower token 'protocol' (/Users/david/.netrc, line 9)
get_netrc_auth catches the NetrcParseError but just ignores it.
At least having it emit a warning would have saved some hair-pulling.