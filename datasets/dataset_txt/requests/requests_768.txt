duyanghao commented on Feb 17, 2017
python-requests version:1.1.0
there are sometimes two error appear:
error one log:
Traceback (most recent call last):
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1687, in wsgi_app
response = self.full_dispatch_request()
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1360, in full_dispatch_request
rv = self.handle_user_exception(e)
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1358, in full_dispatch_request
rv = self.dispatch_request()
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1344, in dispatch_request
return self.view_functionsrule.endpoint
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/toolkit.py", line 264, in wrapper
return f(*args, **kwargs)
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/images.py", line 35, in wrapper
return f(*args, **kwargs)
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/images.py", line 56, in wrapper
return f(*args, **kwargs)
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/lib/mirroring.py", line 140, in wrapper
flask.request.path, stream=stream, source=source
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/lib/mirroring.py", line 42, in lookup_source
stream=stream
File "/usr/lib/python2.6/site-packages/requests/api.py", line 55, in get
return request('get', url, **kwargs)
File "/usr/lib/python2.6/site-packages/requests/api.py", line 44, in request
return session.request(method=method, url=url, **kwargs)
File "/usr/lib/python2.6/site-packages/requests/sessions.py", line 279, in request
resp = self.send(prep, stream=stream, timeout=timeout, verify=verify, cert=cert, proxies=proxies)
File "/usr/lib/python2.6/site-packages/requests/sessions.py", line 374, in send
r = adapter.send(request, **kwargs)
File "/usr/lib/python2.6/site-packages/requests/adapters.py", line 206, in send
raise ConnectionError(sockerr)
ConnectionError: [Errno 2] server failed
another error log:
ConnectionError: [Errno 3] name does not exist
2017-02-09 17:44:56,515 ERROR: Exception on /v1/images/d1048c584ea5b29273c1f58e432044dcafcb62a62749378a986b9a42cbe8994d/layer [GET]
Traceback (most recent call last):
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1687, in wsgi_app
response = self.full_dispatch_request()
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1360, in full_dispatch_request
rv = self.handle_user_exception(e)
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1358, in full_dispatch_request
rv = self.dispatch_request()
File "/usr/lib/python2.6/site-packages/flask/app.py", line 1344, in dispatch_request
return self.view_functionsrule.endpoint
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/toolkit.py", line 264, in wrapper
return f(*args, **kwargs)
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/images.py", line 35, in wrapper
return f(*args, **kwargs)
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/images.py", line 56, in wrapper
return f(*args, **kwargs)
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/lib/mirroring.py", line 140, in wrapper
flask.request.path, stream=stream, source=source
File "/usr/lib/python2.6/site-packages/docker-registry/docker_registry/lib/mirroring.py", line 42, in lookup_source
stream=stream
File "/usr/lib/python2.6/site-packages/requests/api.py", line 55, in get
return request('get', url, **kwargs)
File "/usr/lib/python2.6/site-packages/requests/api.py", line 44, in request
return session.request(method=method, url=url, **kwargs)
File "/usr/lib/python2.6/site-packages/requests/sessions.py", line 279, in request
resp = self.send(prep, stream=stream, timeout=timeout, verify=verify, cert=cert, proxies=proxies)
File "/usr/lib/python2.6/site-packages/requests/sessions.py", line 374, in send
r = adapter.send(request, **kwargs)
File "/usr/lib/python2.6/site-packages/requests/adapters.py", line 206, in send
raise ConnectionError(sockerr)
ConnectionError: [Errno 3] name does not exist