mstan-xx commented on Feb 21, 2012
The documentation states that :
data â€“ (optional) Dictionary or bytes to send in the body of the Request
However the code in models.py (line 429 in 0.10.4) uses : "isinstance(self.data, str)" to check for non-form data, and "str" was imported from requests.compat as unicode (str for python 3, unicode for python 2)
This means that:
implementation does not conform to documentation
unexpected behaviour with python 2.x, for example calling requests.post(url, data="mydata") will NOT result in a non-encoded data, because "mydata" will be a byte string, not a unicode one
I was expecting both unicode and bytes to be considered non-form data parameters