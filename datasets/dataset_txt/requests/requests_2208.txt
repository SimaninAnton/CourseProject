Miarevo commented on Feb 11, 2013
When I attempt to load a page using an HTTPS proxy, I get an odd SSL exception that I never got before (with the same code). This happens with any valid HTTPS proxy. Unfortunately, I don't know when this began to occur. If I were to guess, I'd say version 1.1 introduced the issue. Here's an example:
Python 3.3.0 (default, Dec 22 2012, 21:02:07) 
[GCC 4.7.2] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import requests
>>> sess = requests.Session()
>>> r = sess.get('https://google.com/', proxies={'https': proxy})

Traceback (most recent call last):
  File "/usr/lib/python3.3/site-packages/requests/packages/urllib3/connectionpool.py", line 422, in urlopen
    body=body, headers=headers)
  File "/usr/lib/python3.3/site-packages/requests/packages/urllib3/connectionpool.py", line 274, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "/usr/lib/python3.3/http/client.py", line 1049, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python3.3/http/client.py", line 1087, in _send_request
    self.endheaders(body)
  File "/usr/lib/python3.3/http/client.py", line 1045, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python3.3/http/client.py", line 890, in _send_output
    self.send(msg)
  File "/usr/lib/python3.3/http/client.py", line 828, in send
    self.connect()
  File "/usr/lib/python3.3/site-packages/requests/packages/urllib3/connectionpool.py", line 105, in connect
    ssl_version=self.ssl_version)
  File "/usr/lib/python3.3/site-packages/requests/packages/urllib3/util.py", line 289, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "/usr/lib/python3.3/ssl.py", line 210, in wrap_socket
    _context=self)
  File "/usr/lib/python3.3/ssl.py", line 310, in __init__
    raise x
  File "/usr/lib/python3.3/ssl.py", line 306, in __init__
    self.do_handshake()
  File "/usr/lib/python3.3/ssl.py", line 513, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLError: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:547)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.3/site-packages/requests/adapters.py", line 174, in send
    timeout=timeout
  File "/usr/lib/python3.3/site-packages/requests/packages/urllib3/poolmanager.py", line 158, in urlopen
    return self.proxy_pool.urlopen(method, url, **kw)
  File "/usr/lib/python3.3/site-packages/requests/packages/urllib3/connectionpool.py", line 453, in urlopen
    raise SSLError(e)
requests.packages.urllib3.exceptions.SSLError: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:547)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/lib/python3.3/site-packages/requests/sessions.py", line 310, in get
    return self.request('GET', url, **kwargs)
  File "/usr/lib/python3.3/site-packages/requests/sessions.py", line 279, in request
    resp = self.send(prep, stream=stream, timeout=timeout, verify=verify, cert=cert, proxies=proxies)
  File "/usr/lib/python3.3/site-packages/requests/sessions.py", line 374, in send
    r = adapter.send(request, **kwargs)
  File "/usr/lib/python3.3/site-packages/requests/adapters.py", line 213, in send
    raise SSLError(e)
requests.exceptions.SSLError: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:547)