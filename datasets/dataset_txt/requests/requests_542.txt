adamwilbert commented on Aug 16, 2017
Summary.
I am trying to make a request to a private api with a private api with an expired certificate that I do not control.
I am attempting to use verify=False in the request, but continue to get a
("bad handshake: SysCallError(-1, 'Unexpected EOF')",) error.
I have tried using the old 2.11 cipher string, but I still cannot complete the request. I have tried creating a custom adapter as detailed here: https://lukasa.co.uk/2017/02/Configuring_TLS_With_Requests/
I am able to recreate the request locally and inside the container that holds my application, but I am not able to make the request within my application without the bad handshake.
Expected Result
Get the same response as I am able to get with cURL/postman/etc.
Actual Result
("bad handshake: SysCallError(-1, 'Unexpected EOF')",)
Reproduction Steps
import requests
requests.post(url, data=data, headers=headers, verify=False)
Have also tried making get requests here without data just to test, they also fail
System Information
$ python -m requests.help
{
  "chardet": {
    "version": "3.0.4"
  },
  "cryptography": {
    "version": "2.0.3"
  },
  "idna": {
    "version": ""
  },
  "implementation": {
    "name": "CPython",
    "version": "3.5.2"
  },
  "platform": {
    "release": "4.9.31-moby",
    "system": "Linux"
  },
  "pyOpenSSL": {
    "openssl_version": "1010006f",
    "version": "16.2.0"
  },
  "requests": {
    "version": "2.18.3"
  },
  "system_ssl": {
    "version": "1000207f"
  },
  "urllib3": {
    "version": "1.21.1"
  },
  "using_pyopenssl": true
}
This command is only available on Requests v2.16.4 and greater. Otherwise,
please provide some basic information about your system (Python version,
operating system, &c).