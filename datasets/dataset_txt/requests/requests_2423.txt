dpnova commented on Jul 16, 2012
Connecting to some HTTP sites is failing. It seems to be sites that use TLS and OpenSSL isn't selecting the right SSL protocol to communicate with the server. This seems to be an issue on Ubuntu 12.04 so far..
There is more discussion here: https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/965371
Example to test is below:
>>> import requests
>>> requests.get("https://www.acgov.org/alco_ssl_app/rov/voter_info/voter_profile.jsp?formLanguage=E")
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/api.py", line 54, in get
    return request('get', url, **kwargs)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/safe_mode.py", line 37, in wrapped
    return function(method, url, **kwargs)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/api.py", line 42, in request
    return s.request(method=method, url=url, **kwargs)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/sessions.py", line 230, in request
    r.send(prefetch=prefetch)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/models.py", line 613, in send
    raise SSLError(e)
requests.exceptions.SSLError: [Errno 8] _ssl.c:504: EOF occurred in violation of protocol
>>> requests.get("https://www.acgov.org/alco_ssl_app/rov/voter_info/voter_profile.jsp?formLanguage=E", verify=False)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/api.py", line 54, in get
    return request('get', url, **kwargs)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/safe_mode.py", line 37, in wrapped
    return function(method, url, **kwargs)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/api.py", line 42, in request
    return s.request(method=method, url=url, **kwargs)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/sessions.py", line 230, in request
    r.send(prefetch=prefetch)
  File "/home/dpn/.virtualenvs/scrapers/local/lib/python2.7/site-packages/requests/models.py", line 615, in send
    raise Timeout('Request timed out.')
requests.exceptions.Timeout: Request timed out.
>>> 
It seems that manually specifying the SSL version to use may be the best option until the problem is fixed.
It seems the issue of selecting SSL version has come up here before: #606