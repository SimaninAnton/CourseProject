jvaleo commented on Apr 25, 2014
When trying to POST a large binary file > 2GB, I see the following error. I've tried on multiple web severs all with the same result:
bash-3.2# du -h AirGuitarNation-Quicktime_H.264.mp4
2.4G    AirGuitarNation-Quicktime_H.264.mp4
....
2014-04-24 17:26:41,600 ERROR Exception caught in upload_file HTTPConnectionPool(host='REDACTED', port=80): Max retries exceeded with url: /uploader_rails/upload.py?signature= REDACTED&username= REDACTED&site_id=763&validate=localhost%3A29125 (Caused by <class 'socket.error'>: [Errno 22] Invalid argument)
Here is my code:
file_path = os.path.join(ROOT_PATH, 'uploads', file_name)
files = {'file': open(file_path, 'rb')}
logger.info('Starting upload for {}'.format(file_name))
    try:
        post = requests.post(upload_url, files=files)
    except Exception as e:
        logger.error('Exception caught in upload_file {}'.format(e.message))
Smaller files work without issue, it seems to be anything over 2GB.