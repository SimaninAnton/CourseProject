marcocova commented on Nov 27, 2014
When calling response.text() and no encoding was set or determined, requests relies on chardet to detect the encoding:
    @property
    def apparent_encoding(self):
        """The apparent encoding, provided by the chardet library"""
        return chardet.detect(self.content)['encoding']
Unfortunately, chardet can be pathologically slow and memory-hungry to do its job. For example, processing the text property of a response with the following content:
"a" * (1024 * 1024) + "\xa9"
causes python-requests to use 131.00MB and 40+ seconds (for a 1MB response!)