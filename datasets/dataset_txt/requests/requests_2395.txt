Contributor
ayanamist commented on Aug 18, 2012
Since requests can be attached with an auth method, and there is oauth files in the package, so we can pass auth method to requests in order to archive auto auth function.
However, the code of oauth is conflicting with current trunk code.
Let's see
https://github.com/kennethreitz/requests/blob/develop/requests/models.py#L535
So if i pass in a dict object as post data, content-type will be set automatically.
Then see here
https://github.com/kennethreitz/requests/blob/develop/requests/auth.py#L81
If content-type is set, oauth won't work! It expects signing will be executed by manual operation!
Let's summarize all things:
Content-Type is set for the existence of non-plain dict object, oauth rejects to work for the existence of content-type.
WTF!
Either cancel automatically adding content-type or always sign the request without thinking about content-type will finally solve the problem.
Plz fix it.