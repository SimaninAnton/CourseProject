julianzhoucn commented on Sep 11, 2013
Some of my code are as follows:
import requests
#my auth deamon
proxies={'https':'http://10.204.133.76:8080'}    
response=requests.get('https://www.redhat.com',proxies=proxies,allow_redirects=False,verify=False)
And response.headers is:
CaseInsensitiveDict({'content-length': '0', 'set-cookie': '_zk_sc_tc1=1; HttpOnly, _zk_sc_tc2=1; expires=Wed, 18-Sep-2013 11:58:37 GMT; Path=/; Domain=.redhat.com; HttpOnly', 'connection': 'Keep-Alive', 'location': 'https://auto-scanner-133-76.tmicss.com:443/auth?forward=http%3A%2F%2Fwww.redhat.comhttps%3A%2F%2Fwww.redhat.com%2F', 'date': 'Wed, 11 Sep 2013 11:58:37 GMT', 'p3p': 'CP="NOI ADM DEV PSAi COM NAV OUR OTR STP IND DEM"', 'content-type': 'text/html; charset=UTF-8'})
And the location in the headers is not same as the Browser behavior. And the right 'location' value is 'https://auto-scanner-133-76.tmicss.com:443/auth?forward=https%3A%2F%2Fwww.redhat.com%2F'
Is this an issue of requests?