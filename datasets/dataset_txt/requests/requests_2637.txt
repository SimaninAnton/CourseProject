zed commented on Dec 28, 2011
Example from the docs doesn't work http://docs.python-requests.org/en/latest/user/advanced/#ssl-cert-verification
>>> import requests
>>> requests.get('https://httpbin.org', verify=True)
Traceback (most recent call last):
  File "<input>", line 1, in <module>
  File "/path/to/lib/python2.7/site-packages/requests/api.py", line
50, in get
    return request('get', url, **kwargs)
  File "/path/to/lib/python2.7/site-packages/requests/api.py", line
38, in request
    return s.request(method=method, url=url, **kwargs)
  File "/path/to/lib/python2.7/site-packages/requests/sessions.py",
line 200, in request
    r.send(prefetch=prefetch)
  File "/path/to/lib/python2.7/site-packages/requests/models.py", li
ne 502, in send
    raise SSLError(e)
SSLError: [Errno 1] _ssl.c:503: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certi
ficate verify failed
>>> requests.__version__
'0.9.0'
>>> import ssl
>>> ssl.OPENSSL_VERSION
'OpenSSL 1.0.0e 6 Sep 2011'
$ pip freeze | grep certifi
certifi==0.0.6
$ python -mplatform
Linux-3.0.0-14-generic-i686-with-Ubuntu-11.10-oneiric
I've also tried to specify path to httpbin certificate:
>>> requests.get('https://httpbin.org', verify='./httpbin.pem')
Traceback (most recent call last):
  File "<input>", line 1, in <module>
  File "/path/to/lib/python2.7/site-packages/requests/api.py", line
50, in get
    return request('get', url, **kwargs)
  File "/path/to/lib/python2.7/site-packages/requests/api.py", line
38, in request
    return s.request(method=method, url=url, **kwargs)
  File "/path/to/lib/python2.7/site-packages/requests/sessions.py",
line 200, in request
    r.send(prefetch=prefetch)
  File "/path/to/lib/python2.7/site-packages/requests/models.py", li
ne 502, in send
    raise SSLError(e)
SSLError: [Errno 1] _ssl.c:503: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certi
ficate verify failed
>>> print open('./httpbin.pem').read(),
-----BEGIN CERTIFICATE-----
MIIEPjCCAyagAwIBAgIDBEmFMA0GCSqGSIb3DQEBBQUAMDwxCzAJBgNVBAYTAlVT
MRcwFQYDVQQKEw5HZW9UcnVzdCwgSW5jLjEUMBIGA1UEAxMLUmFwaWRTU0wgQ0Ew
HhcNMTExMjA1MDc0NzE4WhcNMTIwOTI3MTQwOTIxWjCB3TEpMCcGA1UEBRMgVmZQ
ZmpuSlVKWi9MZkVEdkVPd1l1LzJWWDJKZzEvQVcxCzAJBgNVBAYTAlVTMRQwEgYD
VQQKEwtodHRwYmluLm9yZzETMBEGA1UECxMKR1QxNjA2ODExMjExMC8GA1UECxMo
U2VlIHd3dy5yYXBpZHNzbC5jb20vcmVzb3VyY2VzL2NwcyAoYykxMTEvMC0GA1UE
CxMmRG9tYWluIENvbnRyb2wgVmFsaWRhdGVkIC0gUmFwaWRTU0woUikxFDASBgNV
BAMTC2h0dHBiaW4ub3JnMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDHxo+T
CKPwIVglz3VpmkptvP/JAd1pLwyVafQwixGY779wuRwMwF3GRqwfHk2BNMuXWhw2
FwAoLT6oRjpFEGT/sbh5AY3V+qf+bXyQfxebFvjME5eA0hKb8HXnHAtmqWaDUs7k
yItMWUSAGi+vBiUjwSLTrWdslNWtKxD5KXBJNwIDAQABo4IBKTCCASUwHwYDVR0j
BBgwFoAUa2k9ahhCSt2PAmU5/TUkhniRFjAwDgYDVR0PAQH/BAQDAgWgMB0GA1Ud
JQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAWBgNVHREEDzANggtodHRwYmluLm9y
ZzBDBgNVHR8EPDA6MDigNqA0hjJodHRwOi8vcmFwaWRzc2wtY3JsLmdlb3RydXN0
LmNvbS9jcmxzL3JhcGlkc3NsLmNybDAdBgNVHQ4EFgQUTZ2ILuE9CsUsoMX1uUGu
n+kbHBgwDAYDVR0TAQH/BAIwADBJBggrBgEFBQcBAQQ9MDswOQYIKwYBBQUHMAKG
LWh0dHA6Ly9yYXBpZHNzbC1haWEuZ2VvdHJ1c3QuY29tL3JhcGlkc3NsLmNydDAN
BgkqhkiG9w0BAQUFAAOCAQEAdLSwICRSG3vSSxBVdF/vZ1rAURU6ztOFaYiPC6jg
GWdNNOwljG4tkf5bCGh6XJjlMtLosz7QtcKprTvoMuCYSTKR5VTxJqgWbdhds4oU
nBnI0YzcgZR9qtVItCaZfl5487gYuIertX8le0cJBAG+X8I14AKAsBGJ/+HFbtRV
aWa4M7Faw6jTLxrc/NjiCFSs4RB38vpLkcbUa0jOTN4czPmSgWJHiaEnleUQ+AO9
L+0f+4Y1HULBFJAOJ1VjIdY0JEt67CFulkdbMXZ8qrGldpWYLlHqsoUH1xYS9g0F
RufOesXsqmteRxjKo8KocDpxw+RSFvyJL4sRBzBobHLWyg==
-----END CERTIFICATE-----
Firefox for https://httpbin.org says:
httpbin.org uses an invalid security certificate.

The certificate is not trusted because no issuer chain was provided.