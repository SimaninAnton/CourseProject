Bekt commented on Nov 19, 2015
s = requests.Session()
r = s.get('https://httpbin.org/cookies/set?k2=v2&k1=v1', allow_redirects=False)
r.headers['set-cookie']
# 'k2=v2; Path=/, k1=v1; Path=/'
r.cookies.keys()
# ['k1', 'k2']

r = s.get('https://httpbin.org/cookies/delete?k1', allow_redirects=False)
r.headers['set-cookie']
# 'k1=; Expires=Thu, 01-Jan-1970 00:00:00 GMT; Max-Age=0; Path=/'
r.cookies.keys()
# []
This is pretty frustrating when one is trying to build a custom response object off of a requests.Response.
Expected behavior is r.cookies should include a CookieJar when a cookie is deleted (empty value) in the response.