thedrow commented on Aug 3, 2015
Some APIs like https://www.virustotal.com/en/documentation/private-api require you to pass the API key in a query parameter which is not possible at the moment because the request is prepared before the authentication class is applied.
Using the following authentication class:
class VirusTotalAuth(auth.AuthBase):
    def __init__(self, api_key):
        self.api_key = api_key

    def __call__(self, r):
        r.params['apikey'] = self.api_key

        return r
Produces this error:
AttributeError: 'PreparedRequest' object has no attribute 'params'
Which makes sense because you can't change a request's parameters after it has been prepared.