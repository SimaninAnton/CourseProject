Smosker commented on May 17, 2017 â€¢
edited
Using session object like this:
import requests
session = requests.Session()
session.auth = (u'user', 'test')
session.verify = False
response = session.get(url='https://my_url/rest/api/1.0/users')
if i looking for this response request headers i see:
{'Authorization': 'Basic auth_data', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.12.3'}
but if i send next request using the same url:
response = session.get(url='https://my_url/rest/api/1.0/users')
I can see that where is not auth header in request:
print response.request.headers
{'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.12.3'}
And i getting 401 response because of it.
Why is it so? Shouldnt session send auth with every request made using it? How can i send auth data with every request using session?