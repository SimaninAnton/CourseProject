wontonst commented on Apr 20, 2016
SITE = 'HTTP@{}'.format(API_ENDPOINT)
w_, krb_context = kerberos.authGSSClientInit(SITE)
kerberos.authGSSClientStep(krb_context, '')
AUTH = HTTPKerberosAuth(mutual_authentication=requests_kerberos.DISABLED)

r = requests.post(url, json = {'key':'value'}, auth=AUTH)
print 'MY REQUEST'
pprint.pprint(vars(r.request))
r = requests.post('http://httpbin.org/post', json = {'key':'value'})
print 'THEIR REQUEST'
pprint.pprint(vars(r.request))
MY REQUEST
{'_cookies': <RequestsCookieJar[Cookie(version=0, name='xxx', value='xx', port=None, port_specified=False, domain='xxx', d\
omain_specified=False, domain_initial_dot=False, path='/', path_specified=True, secure=True, expires=1461145561, discard=False, comment=None, comment_url=None, rest={'HttpOnly\
': None}, rfc2109=False), Cookie(version=0, name='xxx', value='xxxx', port=None,\
 port_specified=False, domain='xxx', domain_specified=False, domain_initial_dot=False, path='/', path_specified=True, secure=True, expires=146114\
5561, discard=False, comment=None, comment_url=None, rest={'HttpOnly': None}, rfc2109=False)]>,
 'body': None,
 'headers': {'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.9.1', 'Connection': 'keep-alive', 'Cookie': 'xxx', 'Content-Type': 'application/json'},
 'hooks': {'response': [<bound method HTTPKerberosAuth.handle_response of <requests_kerberos.kerberos_.HTTPKerberosAuth object at 0x10c0a6310>>]},
 'method': 'GET',
 'url': 'xxx'}
THEIR REQUEST
{'_cookies': <RequestsCookieJar[]>,
 'body': '{"key": "value"}',
 'headers': {'Content-Length': '16', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.9.1', 'Connection': 'keep-alive', 'Content-Type': 'a\
pplication/json'},
 'hooks': {'response': []},
 'method': 'POST',
 'url': 'http://httpbin.org/post'}
As you can see, body becomes empty and the method is POST.
Looking at the response history shows that it gets redirected from the authenticator, then the request becomes a GET.
Shouldn't the POST request propagate all the way to the end?