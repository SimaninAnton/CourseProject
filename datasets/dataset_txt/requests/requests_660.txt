evgenykovalyov commented on May 18, 2017
I noticed a bug while trying to simulate a login process for a service. At some point I receive a 302 response where there are two Location headers.
HTTP/1.1 302 Found
Location: https://some_url.com/
Accept-Ranges: bytes
Location: https://some_url.com/
While using the Session object, I noticed that both Location values are merged into one value like this:
{'Location':'https://some_url.com/, https://some_url.com/'}
I added a temp split solution into SessionRedirectMixin.get_redirect_target(), but I was wondering if you could come up with a permanent fix for this please?
if resp.is_redirect:
            location = resp.headers['location']
            location = location.split(', ')[0]
Thanks in advance.