sdog869 commented on Apr 24, 2014
I'm not sure if this is a urllib3 error or a requests issue, but when trying to use requests on live app engine I see the stack trace:
line 55, in get
return request('get', url, *_kwargs)
line 44, in request
return session.request(method=method, url=url, *_kwargs)
/libs/requests/sessions.py", line 452, in request
resp = self.send(prep, *_send_kwargs)
/libs/requests/sessions.py", line 555, in send
r = adapter.send(request, *_kwargs)
/libs/requests/adapters.py", line 327, in send
timeout=timeout
/libs/requests/packages/urllib3/connectionpool.py", line 493, in urlopen
body=body, headers=headers)
/libs/requests/packages/urllib3/connectionpool.py", line 291, in _make_request
conn.request(method, url, *_httplib_request_kw)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/python_std_lib/httplib.py", line 973, in request
self._send_request(method, url, body, headers)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/python_std_lib/httplib.py", line 1007, in _send_request
self.endheaders(body)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/python_std_lib/httplib.py", line 969, in endheaders
self._send_output(message_body)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/python_std_lib/httplib.py", line 829, in _send_output
self.send(msg)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/python_std_lib/httplib.py", line 791, in send
self.connect()
/libs/requests/packages/urllib3/connection.py", line 156, in connect
*_self.conn_kw)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/socket.py", line 560, in create_connection
sock.connect(sa, host)
File "/base/data/home/runtimes/python27/python27_dist/lib/python2.7/socket.py", line 222, in meth
return getattr(self._sock,name)(*args)
File "/base/data/home/runtimes/python27/python27_lib/versions/1/google/appengine/api/remote_socket/_remote_socket.py", line 776, in connect
if translated_e.errno == errno.EISCONN:
AttributeError: 'ApplicationError' object has no attribute 'errno'
This was working up until recently, so I'm not sure what happened, thanks for the help!