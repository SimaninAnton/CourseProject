gsakkis commented on Jul 21, 2015
I recently installed requests[security] to get rid of the InsecurePlatformWarning and have been getting intermittent Runtime errors in pyopenssl. Here's a sample stacktrace:
Stacktrace (most recent call last):

  File "requests/sessions.py", line 465, in request
    resp = self.send(prep, **send_kwargs)
  File "requests/sessions.py", line 605, in send
    r.content
  File "requests/models.py", line 750, in content
    self._content = bytes().join(self.iter_content(CONTENT_CHUNK_SIZE)) or bytes()
  File "requests/models.py", line 673, in generate
    for chunk in self.raw.stream(chunk_size, decode_content=True):
  File "requests/packages/urllib3/response.py", line 307, in stream
    data = self.read(amt=amt, decode_content=decode_content)
  File "requests/packages/urllib3/response.py", line 243, in read
    data = self._fp.read(amt)
  File "python2.7/httplib.py", line 567, in read
    s = self.fp.read(amt)
  File "python2.7/socket.py", line 380, in read
    data = self._sock.recv(left)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 188, in recv
    return self.recv(*args, **kwargs)
  File "requests/packages/urllib3/contrib/pyopenssl.py", line 171, in recv
    data = self.connection.recv(*args, **kwargs)
  File "OpenSSL/SSL.py", line 1318, in recv
    buf = _ffi.new("char[]", bufsiz)
  File "cffi/api.py", line 235, in new
    if isinstance(cdecl, basestring):
Any ideas?