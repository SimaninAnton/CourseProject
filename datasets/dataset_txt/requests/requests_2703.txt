ghost commented on Oct 12, 2011
That was a good day, and I was trying to retrieve the response content, when suddenly a wild exception appears.
>>> import requests
>>> response = requests.get("http://httpbin.herokuapp.com/")
>>> response.content
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "requests\models.py", line 458, in content
    self._content = self.fo.read()
AttributeError: 'Response' object has no attribute 'fo'
I tried to fix it by replacing line 162 of models.py (response.raw = resp) with response.raw = response.fo = resp, but I got the following error:
>>> import requests
>>> response = requests.get("http://httpbin.herokuapp.com/")
>>> response.content
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "requests\models.py", line 481, in content
    if settings.decode_unicode:
NameError: global name 'settings' is not defined
Hmm... from .config import settings?
>>> import requests
>>> response = requests.get("http://httpbin.herokuapp.com/")
>>> response.content
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "requests\models.py", line 493, in content
    self._content = get_unicode_from_response(self)
  File "requests\utils.py", line 291, in get_unicode_from_response
    return unicode(r.content, encoding)
  File "requests\models.py", line 493, in content
    self._content = get_unicode_from_response(self)
  ...
RuntimeError: maximum recursion depth exceeded
Now I'm pretty sure I can't fix that. What is happening?
If that helps, everything was OK in commit f524fe4. This problem probably exists because you merged an outdated pull request.