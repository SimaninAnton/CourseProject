oliverandrich commented on Aug 10, 2011
I know keep alive is currently beyond the scope of urllib2, but I think it is a worthwhile addition to requests. I use requests mainly to consume HTTP based APIs created by our own or by 3rd party developers. Generally I need to do tasks like searching for some data, which is returned as a json document, afterwards I download 200-2000 images referenced by the json document.
I maintain a lib which is based on urllib2/requests, which is nice to read because of requests. But the production version is based on httplib2 which provides keep alive support. The code is not as nice as with requests, but a typical job takes 30-200% less time, because the http connection is reused.
urlgrabber (http://urlgrabber.baseurl.org/) provided such a HTTPHandler class. (See also http://stackoverflow.com/questions/1037406/python-urllib2-with-keep-alive) May be something like that can be integrated into requests?
I will take a look at the url grabber code myself. May be I can provided a useable patch.