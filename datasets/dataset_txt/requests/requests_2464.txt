echo1 commented on May 28, 2012
I have written a small example to fetch http://www.google.com ( from France that is why there is a redirect )
So it seems the history is not really consistent or more exactly I would have expected the first redirect response object to have a value for the request.
Any thought? Is it bug ? In this case i can have a look to fix it or the expected behaviour?
urls = ["http://www.google.com"]

for url in urls:
    print 'Fetching %s' % url
    r = requests.get(url, prefetch=True)
    history.append(r)

for r in history:
    print r.request.url
    print r.url
    for redirected in r.history:
        print redirected.request
        print redirected.url
Output
http://www.google.com
http://www.google.fr/
None !!!!!
http://www.google.com/