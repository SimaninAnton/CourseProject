Contributor
garywu commented on Mar 2, 2017
Problem statement
Current documentation only specifies the most common case of post data - a dictionary. The code in fact supports other forms of post data which is not documented. Propose to enhance the quick start section that deals with post data to include examples of other uses.
Section of text in the current documentation: More complicated POST requests
Questions in the wild indicating the need for more documentation in this regard
On stockoverflow:
how to post multiple value with same key in python requests?
handling duplicate keys in HTTP post in order to specify multiple values
How to send multiple of the same key/parameter via POST?
How to send an array using requests.post (Python)? “Value Error: Too many values to unpack”
And there is this issue #1641: Cannot send Single Key, Multiple value data in post because of the use of pythons dict.
Proposed modification:
You can also pass a list of tuples to the ``data`` argument. This is particularly
useful when the form has multiple elements that use the same key::

    >>> payload = (('key1', 'value1'), ('key1', 'value2'))
    >>> r = requests.post('http://httpbin.org/post', data=payload)
    >>> print(r.text)
    {
      ...
      "form": {
        "key1": [
          "value1",
          "value2"
        ]
      },
      ...
    }

Value of each payload element can be a scalar or an iterable::

    >>> payload = (('key1', ('value1', 1, (1, 2))), {'key2', ('value2', 2)})
    >>> r = requests.post('http://httpbin.org/post', data=payload)
    >>> print(r.text)
    {
      ...
      "form": {
        "key1": [
          "value1",
          "1",
          "1",
          "2"
        ],
        "key2": [
          "value2",
          "2"
        ]
      },
      ...
    }