alex-ethier commented on Oct 25, 2012
The following code does not generate an Authorization header.
import requests
from requests.auth import OAuth1
import json


client_key = u'mykey'
client_secret = u'mysecret'

headeroauth = OAuth1(
    client_key,
    client_secret,
    None,
    None,
    signature_type='auth_header'
)

payload = {
    "type": "command_line",
    "params":  {
        "command": "sleep 0"
    }
}

url = u'http://localhost:8003/test'
data = json.dumps(payload, sort_keys=True, indent=4)

r = requests.post(url, auth=headeroauth, data=data )
If I replace
data=data
by
data={'data':'payload'}
I get and Authorization header but that's not what I need...
Am I missing anything? This seem to be broken.