cuzzasoft commented on Apr 5, 2017 â€¢
edited
Can reproduce with the below:
import requests
r = requests.get('https://downloads.atlassian.com/software/confluence/downloads/atlassian-confluence-6.0.5.zip', stream=True)
print r.headers.get('content-length')
None
This results in None - I'm using content-length for a download progress bar and can't get it with requests ;(
If we use something else like urllib it returns it:
import urllib
r = urllib.urlopen(url).info()
print r
Content-Type: application/zip
Content-Length: 541131731
This used to work a while back, not sure if anything changed. Reproduced with Python 2.7.13 & 3.6.0 with requests 2.13.0.