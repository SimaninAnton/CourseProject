Contributor
newmaniese commented on Mar 15, 2012
You can reproduce this:
In [1]: import select; select.poll
Out[1]: <function select.poll>

In [2]: from requests import async

In [3]: import select; select.poll
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
/opt/VirtualEnvs/weather-daemon/src/wxcdc/wxcdc/<ipython-input-3-a25f519ae2a6> in <module>()
----> 1 import select; select.poll

AttributeError: 'module' object has no attribute 'poll'
The line that seems to be causing this is the monkey patching done in async:
https://github.com/kennethreitz/requests/blob/develop/requests/async.py#L20
curious_george.patch_all(thread=False)
We can remove the patching of select from this and things seem to work. Do we need to patch select? Should we look into what else we don't need to patch in this documentation: http://www.gevent.org/gevent.monkey.html ?
curious_george.patch_all(thread=False, select=False)