yuji38kwmt commented on Oct 1, 2018
Actual Result
When content-type header is "application/json" and charset is none, response.encoding is empty.
from flask import Flask, make_response, jsonify
import json
app = Flask(__name__)

@app.route('/test')
def test():
    resp = jsonify({"result":"test"})
    resp.headers['Content-Type'] = 'application/json;'
    return resp
r = requests.get("http://localhost:5000/test")
print(r.encoding)
// empty
Feature request
In RFC8259, character encoding of JSON must be UTF-8. Please ensure it is set correctly.
JSON text exchanged between systems that are not part of a closed ecosystem MUST be encoded using UTF-8 [RFC3629].
https://www.rfc-editor.org/rfc/rfc8259.txt