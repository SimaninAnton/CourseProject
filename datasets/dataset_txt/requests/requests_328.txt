dcsoft4 commented on Mar 28, 2018
As reported on StackOverflow, the latest Requests version dies on initialization in an app frozen app by CX-Freeze / PyInstaller. But Requests version 2.11.1 works OK.
Expected Result
The current versions of Requests run without exception, like version 2.11.1 does.
Actual Result
This exception occurred:
Traceback (most recent call last):
File "C:\PythonEnvs\CL\Client32\lib\site-packages\cx_Freeze\initscripts_startup_.py", line 14, in run
module.run()
File "C:\PythonEnvs\CL\Client32\lib\site-packages\cx_Freeze\initscripts\Console.py", line 26, in run
exec(code, m.dict)
File "PythonSocketIoClient.py", line 5, in
File "C:\PythonEnvs\CL\Client32\lib\site-packages\socketIO_client_init_.py", line 14, in
from .transports import (
File "C:\PythonEnvs\CL\Client32\lib\site-packages\socketIO_client\transports.py", line 1, in
import requests
File "C:\PythonEnvs\CL\Client32\lib\site-packages\requests_init_.py", line 98, in
from . import packages
File "C:\PythonEnvs\CL\Client32\lib\site-packages\requests\packages.py", line 7, in
locals()[package] = import(package)
File "C:\PythonEnvs\CL\Client32\lib\site-packages\idna_init_.py", line 2, in
from .core import *
File "C:\PythonEnvs\CL\Client32\lib\site-packages\idna\core.py", line 1, in
from . import idnadata
ImportError: cannot import name 'idnadata'
Reproduction Steps
Run CX-Freeze (or PyInstaller) with the appropriate Requests version installed, to compare the results.
System Information
{
"chardet": {
"version": "3.0.4"
},
"cryptography": {
"version": ""
},
"idna": {
"version": "2.6"
},
"implementation": {
"name": "CPython",
"version": "3.6.4"
},
"platform": {
"release": "10",
"system": "Windows"
},
"pyOpenSSL": {
"openssl_version": "",
"version": null
},
"requests": {
"version": "2.18.4"
},
"system_ssl": {
"version": "100020bf"
},
"urllib3": {
"version": "1.22"
},
"using_pyopenssl": false
}