burdiyan commented on Dec 19, 2014
Hello,
I have this code for making POST request to url with unicode character. I tried to replace í to %C3%AD but python is still telling me: UnicodeEncodeError: 'ascii' codec can't encode character '\xf3' in position 1771: ordinal not in range(128)
# coding=UTF-8
import requests

url = u'http://www.madridmovilidad.es/localizador-vehículo.aspx?idioma=es'
payload = {'veh_matricula': '5555HWS'}
url = url.encode('UTF-8')
r = requests.post(url, data=payload)

print(r.text)
I'm new to Python, but I have tried all I could find to solve python unicode "problems" but nothing helps. So maybe this is requests problem?
Can anyone help me, please?
Thank you!