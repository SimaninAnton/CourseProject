sanga commented on Aug 9, 2012
I use Requests to test a JSON over HTTP API - which I suppose is a pretty common usecase. Given that, I find the response.json property to be pretty convenient and would find a request.json property to be similarly useful (for put and post requests). A patch to do such a thing would be trivial, which I could provide. Prior to doing that though, I was wondering if you had any objection to such a patch?
So it'd go like:
r = requests.post(...., body=json.dumps(....))
=> <response 400>
hmmmm, I wonder what I did wrong
r.request.json
=> {'nmae': 'tim', ....}
Actually, it'd be nice to be able to instantiate a request directly with json content i.e.
req = requests.post(...., json={'name': 'tim'})
as opposed to:
req = requests.post(....., body=json.dumps({'name': 'tim'}))