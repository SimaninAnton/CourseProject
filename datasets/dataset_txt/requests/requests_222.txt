redstoneleo commented on Jul 21, 2018 •
edited
import json , requests 
r = requests.post(
      "http://httpbin.org/post",
      files={'image': open(filename, 'rb')},
      data=json.dumps({'wordPos': [86, 23]})
  )
exceptions:
Traceback (most recent call last):
  File "D:\BaiduYunDownload\编程\Python\Project\EngkuDict\Utils.py", line 128, in <module>
    myOCR2()
  File "D:\BaiduYunDownload\编程\Python\Project\EngkuDict\Utils.py", line 116, in myOCR2
    data=json.dumps({'wordPos': [86, 23]})
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\api.py", line 112, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\api.py", line 58, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\sessions.py", line 498, in request
    prep = self.prepare_request(req)
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\sessions.py", line 441, in prepare_request
    hooks=merge_hooks(request.hooks, self.hooks),
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\models.py", line 312, in prepare
    self.prepare_body(data, files, json)
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\models.py", line 500, in prepare_body
    (body, content_type) = self._encode_files(files, data)
  File "C:\Users\i\AppData\Local\Programs\Python\Python36-32\lib\site-packages\requests\models.py", line 122, in _encode_files
    raise ValueError("Data must not be a string.")
ValueError: Data must not be a string.