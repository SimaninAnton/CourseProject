Member
tomchristie commented on 24 Oct 2014
From IRC:
[13:59:27] <Sjoerder>    I have this in my serializer: tags = SlugRelatedField(source='_tags', slug_field='tag', many=True, read_only=True). I would expect it to read the property _tags, but I get the error "object has no attribute 'tags'"
[14:22:17] <kevin-brown>     Sjoerder: `_tags` doesn't reference a `self.tags`, right?
[14:36:04] <Sjoerder>    kevin-brown: I have a property _tags on my model.
[14:36:34] <kevin-brown>     Sjoerder: if you can put the traceback in a gist/paste, that would be helpful
[14:45:01] <Sjoerder>    kevin-brown: http://sjoerdlangkemper.nl/attributeerror.html
[14:50:56] <kevin-brown>     Sjoerder: DRF 3?
[14:53:46] <Sjoerder>    Yes.
[14:54:23] <Sjoerder>    When I rename the field to _tags it works as expected. It seems to ignore the source kwarg.
[14:56:49] <kevin-brown>     Yeah, it shouldn't be doing that
[14:58:05] <kevin-brown>     I have a feeliing the problem is in `ManyRelation`
[14:59:24] <kevin-brown>     Yup, it's a bug
[14:59:52] <kevin-brown>     The kwargs aren't full transferred when turning the field into a `ManyRelation`: http://git.io/0MnNjQ
[15:01:11] <kevin-brown>     It should probably just point to the child relation's source actually: http://git.io/WJYTHw
/cc @kevin-brown