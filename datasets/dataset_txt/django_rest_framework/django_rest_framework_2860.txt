codyhatch commented on 27 Apr 2013
I'm running into an issue with trying to use object permissions. As per the documentation I have the following code:
class IsOwnerPermission(permissions.BasePermission):
    def has_object_permission(self, request, view, obj):
        import pdb; pdb.set_trace()
        return obj.owner == request.user
Elsewhere I have the following code:
@api_view(['GET', 'PUT', 'PATCH', 'DELETE'])
@permission_classes((IsOwnerPermission, ))
def scene_detail(request, pk):
  # ......
has_object_permission() is never called, and digging through the source code it seems that the only way it gets called is if I'm using generic views. Am I missing something? Is there an easy-ish way to use object permissions with the function based api_view style code? Is this a bug or by design?