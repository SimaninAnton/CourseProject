phr34ck commented on 10 Jul 2016
I'm using DRF version 3.3.3. to_representation is throwing UnicodeEncodeError when I have arabic text. I'm using the default renderers.
class MySerializer(ModelSerializer):
     def to_representation(self, obj):
         return { 'name': obj.name }  <--- UnicodeEncodeError
    class Meta:
        model = MyModel
If I remove to_representation everything works fine and the data is rendered correctly (json):
class MySerializer(ModelSerializer):
    class Meta:
        model = MyModel
        fields = ("name",)
Here's a sample content that causes to_representation to throw an exception: بالعربي
unicode: u'\u0628\u0627\u0644\u0639\u0631\u0628\u064a'
Is there any way I can use to_representation when I have arabic content?