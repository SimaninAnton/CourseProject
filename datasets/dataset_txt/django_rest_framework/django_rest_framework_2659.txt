Contributor
thedrow commented on 3 Dec 2013
When I perform requests using this serializer:
class Foo(Model):
  d = DecimalField(max_digits=20, decimal_places=10, default=0)

class FooSerializer(ModelSerializer):
  class Meta:
    model = Foo
    fields = ['d']
I get the following response:
{
  "d": "0E-10"
}
Even if I override the defaults and quantize the decimal myself the response is the same:
class FooSerializer(ModelSerializer):
  d = SerializerMethodField('get_d')
  class Meta:
    model = Foo
    fields = ['d']

  def get_d(self, obj):
    return obj.quantize(Decimal('.01'))
I suspect the problem is in the JSONEncoder but I'm not sure.