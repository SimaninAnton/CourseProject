ibuler commented on 8 Sep 2018
# models.py
class Namespace(models.Model):
    name = models.SlugField(allow_unicode=True, unique=True)

class Pod(models.Model):
    name = models.CharField(max_length=128)
    namespace = models.ForeignKey('Namespace', on_delete=models.CASCADE)

    class Meta:
        unique_together = ('name', 'namespace')


# serializers.py
class PodSerializer(serializers.ModelSerializer):
       class Meta:
           model = Pod
When a create a Pod with name space, It's work
url: /pods/
method: POST
data: {'name': 'pod1', 'project': 1}
But I want also create a pod in a special space like that, and the swagger api does show the namespace parameter, How I reuse the serializer?
url: /namespace/1/pods/
method: POST
data: {'name': 'pod1'}
I try that, but serializer not has the ('name', 'namespace') unique validator
class NamespacePodSerializer(PodSerializer):
     def get_extra_kwargs(self):
            extra_kwargs = super().get_extra_kwargs()
            extra_kwargs['namespace'] = {'read_only': True}
            return extra_kwargs