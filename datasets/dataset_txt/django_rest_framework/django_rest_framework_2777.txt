hxu commented on 17 Jul 2013
In the docs, there is a snippet that describes a signal to create tokens automatically for users. However, this causes syncdb to fail in a new deployment of the application immediately after creating the first superuser, with the error:
DatabaseError: relation "authtoken_token" does not exist
LINE 1: ...oken"."user_id", "authtoken_token"."created" FROM "authtoken...
The reason is because the authtoken table has not been created yet, so the signal is triggered, but cannot find the relation. In order to create the table, you need to run migrate. However, you can't migrate because the south migration history table hasn't been created.
I guess there is no "fix," but maybe the docs should more strongly recommend an alternative method of generating the tokens, such as upon first request.