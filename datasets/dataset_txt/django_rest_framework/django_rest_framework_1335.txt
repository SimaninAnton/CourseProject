alexmadjar commented on 12 Jan 2016
In a unit test in my app I pass in the query param u'?name[]=â˜‚' (I also tried the normally escaped u'?name[]=%E2%98%82') and the request.query_params comes back empty
(Pdb) request.get_full_path
<bound method WSGIRequest.get_full_path of <WSGIRequest
path:/users/,
GET:<QueryParams: {}>,
POST:<QueryDict: {}>,
COOKIES:{},
META:{u'HTTP_COOKIE': u'',
 u'PATH_INFO': u'/users/',
 u'QUERY_STRING': u'name[]=%E2%98%82',
 u'REMOTE_ADDR': '127.0.0.1',
 u'REQUEST_METHOD': u'GET',
 u'SCRIPT_NAME': u'',
 u'SERVER_NAME': 'testserver',
 u'SERVER_PORT': '80',
 u'SERVER_PROTOCOL': 'HTTP/1.1',
 u'wsgi.errors': <_io.BytesIO object at 0x104016ef0>,
 u'wsgi.input': <django.test.client.FakePayload object at 0x10409c390>,
 u'wsgi.multiprocess': True,
 u'wsgi.multithread': False,
 u'wsgi.run_once': False,
 u'wsgi.url_scheme': 'http',
 u'wsgi.version': (1, 0)}>>

(Pdb) request.query_params
<QueryParams: {}>
Testing Django itself does not repro this error. Something about the Request wrapping done in this rest framework is failing to decode the unicode.