niebloomj commented on 13 Jun 2017
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
python manage.py test --noinput alloy.modules.super_tester
class SuperTester(APITestCase):

 def test1(self):
  client = APIClient()
  data = client.get('/')
  print(data)
Expected behavior
I expect that this see the data of the json that the get request produces.
This used to work and all my integration tests were passing.
Actual behavior
======================================================================
ERROR: test1 (alloy.modules.super_tester.SuperTester)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/alloy/modules/super_tester.py", line 15, in test1
    data = client.get('/')
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/rest_framework/test.py", line 282, in get
    response = super(APIClient, self).get(path, data=data, **extra)
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/rest_framework/test.py", line 208, in get
    return self.generic('GET', path, **r)
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/django/test/client.py", line 416, in generic
    return self.request(**r)
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/rest_framework/test.py", line 279, in request
    return super(APIClient, self).request(**kwargs)
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/rest_framework/test.py", line 231, in request
    request = super(APIRequestFactory, self).request(**kwargs)
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/django/test/client.py", line 483, in request
    response = self.handler(environ)
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/django/test/client.py", line 131, in __call__
    self.load_middleware()
  File "/Users/Jacob/Dropbox/Github/edu-chat-core/educhatenv/lib/python3.6/site-packages/django/core/handlers/base.py", line 82, in load_middleware
    mw_instance = middleware(handler)
TypeError: __init__() takes 1 positional argument but 2 were given