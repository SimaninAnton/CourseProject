monkut commented on 26 Nov 2018 â€¢
edited
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
I'm using the integrated docs app to prepare user documentation.
Master urls.py looks like:
from django.contrib import admin
from django.urls import path, include
from django.conf import settings

from rest_framework.documentation import include_docs_urls
from rest_framework.schemas import get_schema_view

# update displayed header/title
admin.site.site_header = settings.SITE_HEADER
admin.site.site_title = settings.SITE_TITLE

schema_view = get_schema_view(title="Example API")


urlpatterns = [
    path('docs/', include_docs_urls(title='Example API')),
    path('schema/', schema_view),
    path('accounts/', include('accounts.urls')),
    path('api-auth/', include('rest_framework.urls')),
    path('admin/', admin.site.urls),
]
Expected behavior
Shell output example displays:
$ coreapi action accounts clients list -p page=...
Actual behavior
In the docs shell usage example, I see the following:
$ coreapi action accounts clients &gt; list -p page=...
WHERE:
&gt; is displayed in the visible output.
Looking at the code it appears that the comment states, "# this format is used in docs/js/api.js:normalizeKeys". I suspect that this should be processed in some way as to now output the > directly, but somehow this is not being done.
https://github.com/encode/django-rest-framework/blob/master/rest_framework/templatetags/rest_framework.py#L269
couldn't find the related docs/js/api.js code.... yet...