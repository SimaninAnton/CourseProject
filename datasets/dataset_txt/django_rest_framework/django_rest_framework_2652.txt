paulnurkkala commented on 14 Dec 2013
in rest-framework/serializers.py, line 652, there's this line
                if to_many and not model_field.rel.through._meta.auto_created:
                    has_through_model = True
I encountered a problem in which it wouldn't serialize a particular model of mine, because the model_field.rel.through would be null..
This is the error I would get:
AttributeError at /api/user/list/
'NoneType' object has no attribute '_meta'
Full stack trace from the django output here:
http://pastebin.com/QLjZjHUE
I was able to fix it (as far as I know) by first checking to make sure that model_field.rel.through was populated:
            if model_field.rel.through: 
                if to_many and not model_field.rel.through._meta.auto_created:
                    has_through_model = True
and then it will run my query just fine.
I'm not really sure what's going on, but I wanted to mention it back to the community, in case they understood better what's going on. I LOVE this package! Use it every day!
Thanks!
--A fan