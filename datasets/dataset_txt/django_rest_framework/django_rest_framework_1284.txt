stunaz commented on 17 Feb 2016
Hi, I have the following models:
class Category(models.Model):
    code= models.CharField(max_length=2)
    name= models.CharField(max_length=100)
class Question(models.Model):
    category= models.ForeignKey(Category, related_name='categories')
    title = models.CharField(max_length=100)
and the following serializers:
class CategorySerializer(serializers.ModelSerializer):

    class Meta:
        model = Category
        fields = ('code', 'name')
class QuestionSerializer(serializers.ModelSerializer):
    category= CategorySerializer()

    class Meta:
        model = Question
        fields = ('category', 'title')

    def create(self, validated_data):
        category = validated_data.pop('category')
        category_obj = Category.objects.get(code=category)

        return self.Meta.model.objects.create(category= category_obj, **validated_date)
So I am just trying to POST a Question with an existing Category. unfortunately, it doesnt work, i get Http Status 400 with the message The field category is required : this si where I think there is a bug
My post looks like the following:
POST /api/question
DATA: {"title": "question title", "category": "AB"}