Integrity problems with object creation