vitaly-nevgen commented on 9 Oct 2015
So, for example we have this code. One user can leave only one message:
class Message(models.Model):
   ...
   author = ForeignKey(...)
   body = TextField(...)

   class Meta:
       unique_together = (('author', 'body'), )


class MessageSerializer(serializers.ModelSerializer):
    ...
    class Meta:
        model = Message
        fields = ('body', )

def perform_create(self, serializer):
    ...
    serializer.save(author=author)
The problem is that second message from the same author will fail with IntegrityError, because no validation was made after new data was added. Serializer not validating fields what was not listed in Meta.fields. But if we'll add this fields to serializer - DRF will wait this data from user, but user must have no ability to set this data by himself.
Or may be I missing something?