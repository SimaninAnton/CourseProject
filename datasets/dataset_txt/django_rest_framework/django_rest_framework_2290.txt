paulfurley commented on 6 Nov 2014
I may not be using it correctly, but I get this stack trace when I try to do an OPTIONS with a ListSerializer:
Should fields be taken from child somehow?
Traceback (most recent call last):
  File "/home/paul/slr/sea-level-api/api/apps/tide_gauges/tests/views/test_post_raw_measurements.py", line 182, in test_that_http_options_allowed_methods_are_post_and_options
    response = self.client.options(_URL)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/test.py", line 200, in options
    path, data=data, format=format, content_type=content_type, **extra)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/test.py", line 106, in options
    return self.generic('OPTIONS', path, data, content_type, **extra)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/compat.py", line 209, in generic
    return self.request(**r)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/test.py", line 157, in request
    return super(APIClient, self).request(**kwargs)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/test.py", line 109, in request
    request = super(APIRequestFactory, self).request(**kwargs)
  File "/home/paul/.virtualenvs/api/lib/python3.2/site-packages/django/test/client.py", line 437, in request
    six.reraise(*exc_info)
  File "/home/paul/.virtualenvs/api/lib/python3.2/site-packages/django/utils/six.py", line 550, in reraise
    raise value
  File "/home/paul/.virtualenvs/api/lib/python3.2/site-packages/django/core/handlers/base.py", line 111, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/paul/.virtualenvs/api/lib/python3.2/site-packages/django/views/decorators/csrf.py", line 57, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/paul/.virtualenvs/api/lib/python3.2/site-packages/django/views/generic/base.py", line 69, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/views.py", line 406, in dispatch
    response = self.handle_exception(exc)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/views.py", line 403, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/views.py", line 417, in options
    data = self.metadata_class().determine_metadata(request, self)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/metadata.py", line 63, in determine_metadata
    actions = self.determine_actions(request, view)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/metadata.py", line 89, in determine_actions
    actions[method] = self.get_serializer_info(serializer)
  File "/home/paul/.virtualenvs/api/src/rest-framework/rest_framework/metadata.py", line 102, in get_serializer_info
    for field_name, field in serializer.fields.items()
AttributeError: 'RawMeasurementSerializer' object has no attribute 'fields'