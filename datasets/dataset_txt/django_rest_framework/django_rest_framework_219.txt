marcoooo commented on 22 Feb 2019
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
None
Expected behavior
Viewset classes automatically return good http header when a list is retrieved, but in case of an empty list, it could be good to return a 204 - No Content instead of 200. Because even if the request was successful result is empty. May it worth a new parameter or config to viewset to let user set their own return HTTP code for this particular behaviour: either 200 or 204 (I don't think this would have a big impact for some Javascript test sur as 'success' because this is still a 2XX returned code.
Actual behavior
Viewset return 200 HTTP code when GET returned list is empty. I saw some discussion about this on previous issues, but related to delete returned code.