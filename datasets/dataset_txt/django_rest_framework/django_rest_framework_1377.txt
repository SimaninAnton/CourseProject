umutbozkurt commented on 15 Dec 2015
Any serializer field with read_only=True, do not raise exception on properties.
I think this is not intended behavior and it's caused by this and this.
Failing test case:
def test_property_exceptions_during_serialization(self):
        class ExampleSerializer(serializers.Serializer):
            key_error = serializers.CharField(read_only=True)
            attr_error = serializers.ReadOnlyField()

        class PropertyExceptions:
            @property
            def key_error(self):
                raise KeyError()

            @property
            def attr_error(self):
                raise AttributeError()

        instance = PropertyExceptions()
        serializer = ExampleSerializer(instance)

        with pytest.raises(ValueError):
            serializer.data
Probable solution:
Changing fields.py L:76-82 as following:
        try:
            if isinstance(instance, collections.Mapping):
                instance = instance[attr]
            else:
                instance = getattr(instance, attr)
        except ObjectDoesNotExist:
            return None
        except (KeyError, AttributeError):
            raise ValueError()  # same as callable