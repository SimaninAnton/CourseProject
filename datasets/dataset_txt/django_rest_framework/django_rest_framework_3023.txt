chuchiperriman commented on 11 Nov 2012
I have this model:
class Grupo(models.Model):
    nombre = models.CharField(blank=False,null=False, max_length=100)
    division = models.ForeignKey(Division)
    equipos = models.ManyToManyField(Equipo, null=True, blank=True)

    class Meta:
        unique_together = (("division", "nombre"),)
I've created a serializer:
class GrupoSerializer(serializers.ModelSerializer):
    class Meta:
        model = Grupo
        depth = 1
And I've created an url:
url(r'^grupos/(?P[0-9]+)/$',
generics.RetrieveAPIView.as_view(model=Grupo, serializer_class=GrupoSerializer),
name='api_grupos_instance')
But this raise an exception:
'NoneType' object has no attribute '_meta'
Exception Location: /home/perriman/dev/virtualenvs/djdardos-env/local/lib/python2.7/site-packages/djangorestframework-2.1.2-py2.7.egg/rest_framework/serializers.py in default_fields, line 345
I think this is a problem with the ManyToManyField. I'm trying to debug and find the problem but I cannot the knowledge to do it.
I'm using the last source code from git