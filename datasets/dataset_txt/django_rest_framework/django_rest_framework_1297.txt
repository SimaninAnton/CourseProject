MattyDub commented on 11 Feb 2016
I'm trying to get metadata on a ModelViewSet, and I am only seeing OPTIONS in the allowed_methods.
I have the following serializer:
class FooSerializer(serializers.ModelSerializer):

    class Meta:
        model = Foo
        fields = '__all__'
and the following ViewSet:
class FooViewSet(viewsets.ModelViewSet):
    queryset = Foo.objects.all()
    serializer_class = FooSerializer
...and the following code doesn't give me any actions:
        # this is in the post() of a View that extends APIView
        m_class = FooViewSet.metadata_class()
        metadata = m_class.determine_metadata(request, FooViewSet())
The results are:
    "foo_meta": {
        "description": "",
        "name": "Foo",
        "parses": [
            "application/json",
            "application/x-www-form-urlencoded",
            "multipart/form-data"
        ],
        "renders": [
            "application/json",
            "text/html"
        ]
    },
How do I get the POST options inside a view function? That is, how do I get the metadata_obj["actions"]["POST"] to show up? I see them fine when using the browsable API. I don't want to actually make an OPTIONS request from a view function, but clearly I am calling the metadata API incorrectly. Any help is appreciated.