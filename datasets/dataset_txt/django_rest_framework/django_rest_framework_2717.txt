rsonbie456 commented on 22 Sep 2013
Hi Guys,
So, because I had troubles figuring out how to use viewsets on GET/POST data, I went back to generic APIViews. But when I did this, my pre-defined serializer fields do not work anymore. When I use the REST Web API page to post something, my predefined fields (owner, firstname, lastname) come out as Null.
I just cannot wrap my head around why switching from viewsets to ListCreateAPIView will make the serializer pre-defined fields stop working.
Here's what I have:
serializers.py
class NoteSerializer(serializers.ModelSerializer):
owner = serializers.Field(source='owner.username')
firstname = serializers.Field(source='owner.first_name')
lastname = serializers.Field(source='owner.last_name')
#id = serializers.Field(source='id')
class Meta:
    model = Note
    fields = ('id','owner','firstname','lastname','text','color', 'time')
views.py
...
def post(self, request, format=None):
serializer = NoteSerializer(data=request.DATA)
if serializer.is_valid():
serializer.save()
return Response(serializer.data, status=status.HTTP_201_CREATED)
return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
Thanks!!!!