ghost commented on 8 Apr 2017
Checklist
[x ] I have verified that that issue exists against the master branch of Django REST framework.
[x ] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
[] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
Create a APIRequestFactory, the AcceptHeaderVersioning on the latest version will throw an error in my tests with a 406. On the older versions of the framework my tests worked fine. I fixed this by manually setting the Accept headers.
Expected behavior
For it to work like it did in 3.1 where I could pass it the view directly for the response with our the versioning crash.
Actual behavior
It throws a versioning error.