Collaborator
xordoquy commented on 5 Dec 2014
Here's the code I wrote to get the full contributor list.
Please note that it's not consistent with what the github stats page shows...
You'll need to set USER / PASS to have an "unlimited" access to the API.
import time
import requests
from requests.auth import HTTPBasicAuth


USER = ''
PASS = ''
CONTRIBUTORS_URL = "https://api.github.com/repos/tomchristie/django-rest-framework/contributors?page=%i&per_page=50"
USER_URL = "https://api.github.com/users/%s"

session = requests.Session()


counter = 0
result = True
users = []
user_map = {}
final_text = []


def get_contributors(offset):
    url = CONTRIBUTORS_URL % offset
    response = session.get(url)
    assert response.status_code == 200, (response.status_code, response.text)
    return [item['login'] for item in response.json()]


def get_contributor_name(name):
    url = USER_URL % name
    response = session.get(url)
    assert response.status_code == 200, (response.status_code, response.text)
    return response.json()['name']


session.get('https://api.github.com/user', auth=HTTPBasicAuth(USER, PASS))


while result:
    counter += 1
    print('Fetching page: %i\r' % counter)
    result = get_contributors(counter)
    users.extend(result)


for user in users:
    final_text.append('* %s - [%s]' % (get_contributor_name(user), user))
    time.sleep(0.5)


with open('contributors.txt', 'w') as f:
    f.write('\n'.join(final_text))