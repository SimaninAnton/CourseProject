MGrass1 commented on 27 May 2018
I've been having a hell of a time trying to get Django to accept post-requests from logged in users. Numerous SO-posts with no responses later I've come here to see if the problem is within the way DRF handles session authentication with cookies. Here's the latest post made to SO Although a more comprehensive post was made here. Post requests can be made through the browsable API.
Here are the results in the browser console when cookie gets set:

Here are the results in the browser console when the same cookie is passed through a post requests:
A later get-requests shows that the same set-cookie as the current cookie is set by Django, so the cookie value hasn't changed between requests, it does this between not being logged in and loggin in, although the cookie is updated as it should be when that happens.
This is the cookie strategy from Angular:
providers: [
    {
      provide: XSRFStrategy,
      useValue: new CookieXSRFStrategy('csrftoken', 'X-CSRFToken')
    }
  ],
Lastly I'm sorry if questions relating to other languages are off-limits. I'm at my wits end here.
Django version 2.0.3
DRF version 3.8.2
Angular version 6.0.2
Steps to reproduce
CSRF_USE_SESSIONS = False in settings.py
Default DRF authentication methods.
Create a DRF modelviewset.
Send a post request while logged in as the user through Angular with the correct 'csrftoken' cookie-values.
Expected behavior
Accepting the csrftoken cookie and allowing the post request
Actual behavior
403 CSRF verification failed. Request aborted. "Reason given for failure: CSRF token missing or incorrect."