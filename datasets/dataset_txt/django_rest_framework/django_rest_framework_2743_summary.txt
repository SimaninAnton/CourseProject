Unexpected behavior with custom managers