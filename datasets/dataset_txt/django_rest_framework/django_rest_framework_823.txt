AndreasBackx commented on 14 Apr 2017
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
Use the new documentation feature with an API design like so:
/foo
    /bar
        /{pk}
/bar
    /foo
        /{pk}
Expected behavior
For the documentation to show all endpoints.
Actual behavior
The documentation only shows the titles for the root foo and bar urls.
You can see a more desired behaviour when you add the following code to the template document.html:
{% for section_key, section in document.data|items %}

...

    {% for document_key, document in section.data|items %}
        {% include "rest_framework/docs/document.html" %}
    {% endfor %}

...

{% endfor %}
I haven't looked into this too much, it's getting close to 2AM at the time of writing this. But the sidebar.html also needs to be changed. Currently an immediate fix isn't possible because the menu items are not in a separate template file. They need to be made recursive and put in their own template tag.
11