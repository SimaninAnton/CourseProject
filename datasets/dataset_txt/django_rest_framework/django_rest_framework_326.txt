daxaxelrod commented on 18 Sep 2018 â€¢
edited
Hi all,
While writing some unit tests, I've found that the apiRequest factory and the request that comes out of it fails to recognize a positional argument.
Steps to reproduce
    factory = APIRequestFactory()
    request = factory.post('/api/v1/notes/0/', {
          "org": [self.org.pk],
     })

     force_authenticate(request, user=self.user)
     response = Note.as_view()(request)
The code above consistently says it's missing a positional argument even though I use the same url in my frontend and when testing with postman. I went through with pdb and the generate wsgi request looks normal.
I was wondering if it was how the Test class was setup so but the error happens with both the standard django TestCase and the APITestCase
I was able to work around the issue with the RequestClient() but I was curious if anyone who worked on the tests infrastructure could take a look and verify I'm not crazy