dgilge commented on 6 Feb 2019
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
Compare https://github.com/encode/django-rest-framework/blob/master/docs/api-guide/filtering.md#searchfilter
and https://docs.djangoproject.com/en/2.1/ref/contrib/admin/#django.contrib.admin.ModelAdmin.search_fields
Expected behavior
If I'm not mistaken, the DRF documentation should mention that the search changed with Django 2.1. Something like:
Django <= v2.0:
^ Starts-with search.
= Exact matches.
@ Full-text search. (Currently only supported Django's MySQL backend.)
$ Regex search.
Django >= v2.1:
You can specify the desired search behavior by adding __<lookup> to the field. The older shortcuts are equal to:
^ = __startswith Starts-with search.
= = __iexact Case-insensitive exact matches.
@ = __search Full-text search.
None = __icontains Case-insensitive containment test.
$ = Regex search.
Sorry for not opening a PR. But I'm not sure about the Regex search and I didn't have the opportunity to test anything.
This issue also solves #5216.