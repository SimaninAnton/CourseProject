joaomsa commented on 13 Mar 2013
In my model I test some constraints that rely on field that's added by the ListCreateAPIView's pre_save method, however since the models's clean method is called before it, I get a DoesNotExist exception when I try to access self.owner. Is this the indented order?
class Car(models.Model):
    owner = models.ForeignKey('auth.User', related_name='cars')
    ...

    def clean(self, *args, **kwargs):
        super(Car, self).clean(*args, **kwargs)

        print('called clean')
        querySet = self.__class__._default_manager.filter(owner=self.owner)
    ...
class CarList(generics.ListCreateAPIView):
    ...
    def pre_save(self, obj):
        print('called pre_save')
        obj.owner = self.request.user