grantmcconnaughey commented on 16 Mar 2017 â€¢
edited
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
Django 1.10.6. Using the following code:
# Configuration
REST_FRAMEWORK = {
    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.URLPathVersioning',
}

# URLS
router = routers.DefaultRouter()
router.register(r'items', views.ItemViewSet)

urlpatterns = [
    url(r'^api/(?P<version>v1)/', include(router.urls, namespace='api')),
    url(r'^docs/', include_docs_urls(title='API')),
]

# View set
class ItemViewSet(viewsets.ModelViewSet):

    queryset = Item.objects.all()
    serializer_class = ItemSerializer

# Serializer
class ItemSerializer(serializers.ModelSerializer):
    actions = ActionSerializer(many=True)
    inputs = InputSerializer(many=True)

    class Meta:
        model = Item
        fields = ('queue', 'title', 'content', 'queue_date', 'source',
                  'assignee', 'actions', 'inputs')
Expected behavior
The API should be rendered.
Actual behavior
API documentation page is empty. Removing the version portion of the API URL pattern (url(r'^api/', include(router.urls, namespace='api'))) does fix the issue, but then I don't have a versioned API anymore.
7