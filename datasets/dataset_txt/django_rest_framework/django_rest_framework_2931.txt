zhangfisher commented on 28 Jan 2013
hello:
How to use CreateModelMixin to create the object?
The following code will not execute.
def create(self, request, *args, **kwargs):
    return self.create(request, *args, **kwargs)
class CaseDetailView(mixins.RetrieveModelMixin,mixins.UpdateModelMixin,mixins.DestroyModelMixin,generics.SingleObjectAPIView,mixins.CreateModelMixin):
model = Case
serializer_class = CaseSerializer
renderer_classes=(BrowsableAPIRenderer,JSONRenderer,TemplateHTMLRenderer)
def put(self, request, _args, *_kwargs):
pid=long(request.GET.get("pid",0))
try:
R= self.update(request, _args, *_kwargs)
if pid!=0:
product_obj=Product.objects.get(pk=pid)
self.object.save()
I send pk=0, then I find self.object.pk==0 after .save().
In this way, I can't add case to product
            self.object.product_set.add(product_obj)
            self.object.save()


    except:
        pass
    return R

def delete(self, request, *args, **kwargs):
    return self.destroy(request, *args, **kwargs)
def create(self, request, *args, **kwargs):
    return self.create(request, *args, **kwargs)