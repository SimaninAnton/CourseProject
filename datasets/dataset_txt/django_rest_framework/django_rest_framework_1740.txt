ybendana commented on 27 Jun 2015
I'm using 3.1.3 and my uploaded file is no longer being saved on update using angularFileUpload. This used to work in 2.4, but my code has changed alot to work in 3.x. In my serializer I have an update() where I do this to update my validated fields:
MyMgr.filter(pk=instance.id).update(**validated_data)
My uploaded file is in the validated_data but is not saved to the media directory although the FileField.url is updated when the filename changes. However it does not reflect the upload_to setting as I mentioned in #3082. The FileField is defined like so in models.py:
my_file = models.FileField(blank=True, upload_to='files/%Y/%m/%d')
If I call FileField.save() manually like so:
myfile = validated_data.get('myfile')
updated_inst = MyMgr.get(pk=instance.id)
if myfile:
    updated_inst.my_file.save(myfile.name, myfile)
the file is saved in the directory defined by upload_to.