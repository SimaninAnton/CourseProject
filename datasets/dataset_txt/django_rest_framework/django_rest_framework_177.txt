Contributor
Lucidiot commented on 3 Apr 2019
On pull request #6532 from @carltongibson:
The OpenAPI 3 specification for a Request Body Object says it should follow this format:
requestBody:
  content:
    application/json:
      schema:
        properties:
          something:
            type: string
        required:
        - something
However, the generated OpenAPI schemas instead have the following request body objects:
requestBody:
  content:
    application/json:
      properties:
        something:
          type: string
      required:
      - something
Probably an easy fix, I may make a PR on that tomorrow.
I also encounter an issue when using apistar to perform requests with a request body: even when manually fixing the issue in the schema, I still cannot use the request body anywhere because it lacks a custom field that apistar uses here: x-name. I guess apistar is to put to blame here, any thoughts? The request bodies apistar expects are:
requestBody:
  x-name: body_name
  content: ......
Then requests can be made using client.request('Endpoint', body_name={...})