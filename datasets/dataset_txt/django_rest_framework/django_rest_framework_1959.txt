learner010 commented on 10 Mar 2015
I know only the bugs are allowed to be posted here. But I have no idea whether this is bug or something I am overlooking. I did post the problem at SO but got no help. So I am posting it here.
At urls.py
# contents
## detail, update, remove
url(
   r'^api/campaign/(?P<campaign>[a-z0-9-]+)/content/(?P<content>\d+)/$',
   ContentAPI.as_view({'get' : 'retrieve', 'put' : 'update', 'delete' : 'destroy'}),
   name = "content-detail"
),
## toggle content verification
url(
   r'^api/campaign/(?P<campaign>[a-z0-9-]+)/content/(?P<content>\d+)/toggle_status/$',
   ContentAPI.as_view(
      {'post' : 'toggle_status'},
      permission_classes = [Or(IsContentManager, IsContentModerator)]
      ),
      name = "content-toggle-status"
),
At views.py
class ContentAPI(viewsets.ModelViewSet):
    permission_classes = [Or(IsContentManager)]
    ... # actions and methods here   
The permission here doesn't seem to work. I have replaced the permission with IsAuthenticated yet an anonymous user could access the url and actions.
1