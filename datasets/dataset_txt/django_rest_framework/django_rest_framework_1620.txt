mhipo1364 commented on 19 Aug 2015
Hi guys
I need some help, I've used ModelSerializer in DRF, here is the problem:
I want to generate response dynamically, I mean I decide on user's input, so I need to pass request parameter to ModelSerializer, then decide if my condition is established, generate fields, otherwise generate some other fields.
Something like this:
class AlbumSerializer(serializers.ModelSerializer):

    class Meta:
        model = Album
        if request.SOME_CONDITION: 
            fields = ('id', 'name_fa', 'name_en', 'price')
        else: 
            fields = ('description', 'image_path_absolute', 'publisher')
I've googled and get that I can pass parameters using context to serializers, but in serializer I need to get parameters via self object
How can I do this?