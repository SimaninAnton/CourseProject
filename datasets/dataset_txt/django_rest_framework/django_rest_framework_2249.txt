Xelia commented on 20 Nov 2014
class Model1(models.Model):
    pass

class Model1Serializer(ModelSerializer):
    class Meta:
        model = Model1

class Model1ViewSet(ModelViewSet):
    queryset = Model1.objects.all()
    serializer_class = Model1Serializer

    def create(self, request, *args, **kwargs):
        raise APIException('qwe')
use POST button in api.
what i expect:
Correct api error responce
what i got:
Traceback:
File "/home/ilya/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py" in get_response
  137.                 response = response.render()
File "/home/ilya/venv/local/lib/python2.7/site-packages/django/template/response.py" in render
  103.             self.content = self.rendered_content
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/response.py" in rendered_content
  63.         ret = renderer.render(self.data, media_type, context)
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/renderers.py" in render
  702.         context = self.get_context(data, accepted_media_type, renderer_context)
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/renderers.py" in get_context
  679.             'post_form': self.get_rendered_html_form(data, view, 'POST', request),
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/renderers.py" in get_rendered_html_form
  558.             return form_renderer.render(serializer.data, self.accepted_media_type, self.renderer_context)
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/serializers.py" in data
  403.         ret = super(Serializer, self).data
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/serializers.py" in data
  164.                 self._data = self.to_representation(self.validated_data)
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/serializers.py" in to_representation
  363.             attribute = field.get_attribute(instance)
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/fields.py" in get_attribute
  274.         return get_attribute(instance, self.source_attrs)
File "/home/ilya/venv/local/lib/python2.7/site-packages/rest_framework/fields.py" in get_attribute
  70.                 raise exc

Exception Type: AttributeError at /model1/
Exception Value: 'OrderedDict' object has no attribute 'id'