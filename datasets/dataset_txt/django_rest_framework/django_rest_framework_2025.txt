OdifYltsaeb commented on 11 Feb 2015
For example - All List route Route instances have exatly the same instance of initkwargs dict with {'suffix':'List'} as value of initkwargs.
Most of time it is not an issue, but should you want to extend routes to create nested routes that pass additional kwargs to views via initkwargs, then this becomes an issue. It becomes annoying issue when you pass one route instance additional initkwarg and then suddenly find that all other instances of same Route class are suddenly throwing errors because they recieved an unexpected initkwarg.
Fix is easy though:
    routes = [
        # List route.
        rest_framework.routers.Route(
            url=r'^{prefix}{trailing_slash}$',
            mapping={
                'get': 'list',
                'post': 'create'
            },
            name='{basename}-list',
            initkwargs={'suffix': 'List'}.copy()
        ),
        # Dynamically generated list routes.
        # Generated using @list_route decorator
        # on methods of the viewset.
        rest_framework.routers.DynamicListRoute(
            url=r'^{prefix}/{methodname}{trailing_slash}$',
            name='{basename}-{methodnamehyphen}',
            initkwargs={}.copy()
        ),
        # Detail route.
        rest_framework.routers.Route(
            url=r'^{prefix}/{lookup}{trailing_slash}$',
            mapping={
                'get': 'retrieve',
                'put': 'update',
                'patch': 'partial_update',
                'delete': 'destroy'
            },
            name='{basename}-detail',
            initkwargs={'suffix': 'Instance'}.copy()
        ),
        # Dynamically generated detail routes.
        # Generated using @detail_route decorator on methods of the viewset.
        rest_framework.routers.DynamicDetailRoute(
            url=r'^{prefix}/{lookup}/{methodname}{trailing_slash}$',
            name='{basename}-{methodnamehyphen}',
            initkwargs={}.copy()
        ),
    ]
Or you could remove routes declaration out of class declaration and into init method...