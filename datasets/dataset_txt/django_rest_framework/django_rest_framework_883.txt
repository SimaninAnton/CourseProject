bluesurfer commented on 10 Mar 2017
I override the get_querysetmethod of a ModelViewSet to query objects against the current user.
    def get_queryset(self):
        user = self.request.user
That throws an AttributeError when accessing the new API docs. It seems that self.requestis None.
Here's the full traceback
Traceback:

File "/Users/acasini/venv/lib/python3.6/site-packages/django/core/handlers/exception.py" in inner
  42.             response = get_response(request)

File "/Users/acasini/venv/lib/python3.6/site-packages/django/core/handlers/base.py" in _get_response
  187.                 response = self.process_exception_by_middleware(e, request)

File "/Users/acasini/venv/lib/python3.6/site-packages/django/core/handlers/base.py" in _get_response
  185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)

File "/Users/acasini/venv/lib/python3.6/site-packages/django/views/decorators/csrf.py" in wrapped_view
  58.         return view_func(*args, **kwargs)

File "/Users/acasini/venv/lib/python3.6/site-packages/django/views/generic/base.py" in view
  68.             return self.dispatch(request, *args, **kwargs)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/views.py" in dispatch
  483.             response = self.handle_exception(exc)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/views.py" in handle_exception
  443.             self.raise_uncaught_exception(exc)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/views.py" in dispatch
  480.             response = handler(request, *args, **kwargs)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/schemas.py" in get
  687.         schema = self.schema_generator.get_schema(request, self.public)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/schemas.py" in get_schema
  303.         links = self.get_links(None if public else request)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/schemas.py" in get_links
  342.             link = self.get_link(path, method, view)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/schemas.py" in get_link
  443.         fields += self.get_filter_fields(path, method, view)

File "/Users/acasini/venv/lib/python3.6/site-packages/rest_framework/schemas.py" in get_filter_fields
  618.             fields += filter_backend().get_schema_fields(view)

File "/Users/acasini/venv/lib/python3.6/site-packages/django_filters/rest_framework/backends.py" in get_schema_fields
  99.         filter_class = self.get_filter_class(view, view.get_queryset())

File "/Users/acasini/Project/api/views.py" in get_queryset
  35.         user = self.request.user

Exception Type: AttributeError at /docs/
Exception Value: 'NoneType' object has no attribute 'user'