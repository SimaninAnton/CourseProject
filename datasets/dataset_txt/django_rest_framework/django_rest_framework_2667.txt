Contributor
qooleot commented on 25 Nov 2013
I'm a new user to django-rest-framework and ran into several issues, so I thought I'd post them here to see if any pieces of the quickstart docs should be updated to help others avoid the same.
A quick first backwards-incompatible django change to consider updating for a new-users focused quickstart:
On django 1.6 the first line of the home page example blows up:
from django.conf.urls.defaults import url, patterns, include
needs to be:
from django.conf.urls import url, patterns, include
The framework doesn't seem to work with django-admin.
I took the basic poll site with django 1.6 (I also tried 1.5.5 and ran into the same issues) with py3.3.2 and pip installed the framework, updated the settings.py as per home page, and completely overrode the urls.py with what was on the home page of django-rest-framework.
At first, everything didn't work due to:
In template /home/taras/Envs/django1/lib/python3.3/site-packages/rest_framework/templates/rest_framework/form.html, error at line 9
Could not resolve URL for hyperlinked relationship using view name "permission-detail". You may have failed to include the related model in your API, or incorrectly configured the lookup_field attribute on this field.
I tested in another browser where I was not logged into django-admin as an admin beforehand, and that worked perfectly.
I also tried this on another site, leaving the main urls.py file with /admin/ urls intact and had the same issue.
I tried changing the default permissions thinking that might be somehow related to:
'DEFAULT_PERMISSION_CLASSES': ('rest_framework.permissions.IsAdminUser',),
and the non-logged browers got a correct json message saying credentials were not provided, and still a stack trace on the other.
Any help with #2 would be great, and let me know if you need additional info. Thanks!