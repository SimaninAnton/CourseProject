niksite commented on 13 Feb 2019 â€¢
edited
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
Any viewsets.ReadOnlyModelViewSet with search_fields attribute.
Request the API endpoint with the following search query param:
api-url?search=Exploit%20String:%200%0d%0a%00%3Cscript%20src=//example.com%3E
Expected behavior
No match found, no exception raised.
Expecting to see something like {"count": 0, next: None, previous: None, results: []} in the output.
Actual behavior
Got HTTP 500 error with the following exception:
ValueError: A string literal cannot contain NUL (0x00) characters.