fonfon commented on 23 Oct 2013
I've got two models: Documents and Lists, and an n:m relationship between them.
I have django-haystack indexing all documents, hooked to the post_save signal (django.db.models.signals.post_save).
When I change the lists of a document via DRF, the post_save signal is sent BEFORE the lists are updated (I'm using DRF 2.3.8).
That's probably happening in serializers.ModelSerializer.save_object:
900 obj.save(**kwargs) 
901
902 if getattr(obj, '_m2m_data', None):
903     ...
Is this intended behavior? Is there a reason why moving obj.save() to the bottom of the save_object method would be bad?
I'm aware of the m2m_changed signal, but I expected the post_save signal being emitted after updating all document related information of one request.