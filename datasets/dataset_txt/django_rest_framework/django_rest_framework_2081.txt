bacongobbler commented on 14 Jan 2015
I am sending a blank POST body to my viewsets. To show, I have the following data structures (and test case/response): https://gist.github.com/bacongobbler/ae96d73a618cedef55cc#file-gistfile1-py
The issue I'm hitting is an assertion error when validating the serializer data. Throwing myself into a pdb shell right before the serializer's data is validated and following BaseSerializer's .is_valid() flow, I see the following:
(Pdb) serializer.initial_data
MergeDict(<QueryDict: {}>, <MultiValueDict: {}>)
(Pdb) serializer.run_validation(serializer.initial_data)
*** ValidationError: {u'id': [u'This field may not be blank.']}
(Pdb) serializer.to_internal_value(serializer.initial_data)
*** ValidationError: {u'id': [u'This field may not be blank.']}
I'm seeing this issue while using DRF 3.0.2. Is there something wrong with my serializers which would cause the above issue, or is this a bug?