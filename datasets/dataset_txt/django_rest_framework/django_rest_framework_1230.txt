ziima commented on 21 Apr 2016
Defining positive PAGE_SIZE completely changes the output. The documentation says that "...pagination is disabled by default.", but I wouldn't in any case expect it suddenly returns completely different output.
These are the results using REST tutorial as an example:
# Without PAGE_SIZE=None or PAGE_SIZE=0
$ curl -s http://127.0.0.1:8000/users/ | json_pp 
[
   {
      "email" : "admin@example.cz",
      "url" : "http://127.0.0.1:8000/users/1/",
      "groups" : [],
      "username" : "admin"
   }
]
# With PAGE_SIZE=10
$ curl -s http://127.0.0.1:8000/users/ | json_pp 
{
   "next" : null,
   "results" : [
      {
         "url" : "http://127.0.0.1:8000/users/1/",
         "email" : "admin@example.cz",
         "groups" : [],
         "username" : "admin"
      }
   ],
   "previous" : null,
   "count" : 1
}
I wouldn't at all expected the change of the output when setting as simple as PAGE_SIZE changes. I would expect that output may change, when I change DEFAULT_PAGINATION_CLASS. But personally I'd suggest to keep the basic output structure same regardless of pagination, i.e. objects always listed in results. If pagination is enabled, add and only add items to the output.