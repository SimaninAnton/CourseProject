Contributor
chuckharmston commented on 7 Oct 2014
APIRequestFactory currently returns WSGIRequest objects, as it inherits from Django's inbuilt RequestFactory class.
>>> from rest_framework.test import APIRequestFactory
>>> type(APIRequestFactory().get('/'))
<class 'django.core.handlers.wsgi.WSGIRequest'>
I would expect it to return instances of DRF's Request class, instead. It's not clear if this was intentional or not, but it does make it difficult to write unit tests for e.g. permissions code that takes advantage of some of the features that Request provides that WSGIRequest does not.