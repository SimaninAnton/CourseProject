sn0rcha commented on 8 Oct 2013
Hey guys,
I was wondering how you configure the router when using an ApiView.
I have the following:
class QuickVarDoneCountView(APIView):
       model = QuickVarDone
       def get(self, request, format=None):
           quickvars_count = QuickVarDone.objects.filter(user=request.user).count()
           content = {'count': quickvars_count}
           return Response(content)
Then in my urls.py I have:
router = routers.DefaultRouter()
router.register(r'systemsettings', SystemSettingViewSet)
router.register(r'quickvarsdonecount', QuickVarDoneCountView)
The systemsettings viewset works no problem, but it never can find the quickvarsdonecount... Am I doing something wrong?
Many thanks,
Ben