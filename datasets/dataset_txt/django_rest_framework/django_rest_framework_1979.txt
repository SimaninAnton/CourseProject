JockeTF commented on 3 Mar 2015
Thepaginate_queryset method of the built in Pagination classes return objects of varying type.
PageNumberPagination.paginate_queryset returns a Page.
LimitOffsetPagination.paginate_queryset returns a QuerySet.
CursorPagination.paginate_queryset returns a list.
I suggest that these methods should all return a QuerySet.
I need to perform optimizations after pagination since I depend on having a complete list of object IDs for raw queries. However, since I also make calls to annotate and prefetch_related within my optimizers I still would like access to the QuerySet.
This makes performing optimizations for list views more difficult since I have to take the different instance types into account. Switching from PageNumberPagination to CursorPagination would also be problematic since I would no longer have a QuerySet to work with.