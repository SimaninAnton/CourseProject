rakanalh commented on 19 Nov 2013
Hello,
i currently have the following serializers:
class UserSerializer(serializers.Serializer):
    id = serializers.IntegerField()
    email = serializers.EmailField()
    username = serializers.CharField(max_length=100)


class ListSerializer(serializers.ModelSerializer):
    owner = UserSerializer()
    members = UserSerializer()

    class Meta:
        model = List
        fields = ('id', 'name', 'owner', 'members')


class ListItemSerializer(serializers.ModelSerializer):
    owner = UserSerializer()

    class Meta:
        model = Item
        fields = ('list', 'owner')
        depth = 1
When requesting the ListAPIView for ListItems:
class ListItems(generics.ListAPIView):
    permission_classes = (permissions.IsAuthenticated,)
    serializer_class = ListItemSerializer
    model = Item
i get the following result:
[
    {
        "list": {
            "id": 1, 
            "name": "List 1", 
            "owner": {
                "id": 1, 
                "email": "myemail@email.com", 
                "username": "rakan"
            }, 
            "members": [
                {
                    "id": 1, 
                    "email": "myemail@email.com", 
                    "username": "rakan"
                }
            ], 
        }, 
        "owner": {
            "id": 1, 
            "email": "myemail@email.com", 
            "username": "rakan"
        }, 
    }
]
As you can see the serializer goes up to depth 2. Is defining the field's serializer explicitly overriding the depth param?
Thanks