ajbeach2 commented on 9 Jul 2019 â€¢
edited
Django Rest Framework by default will make APIView csrf excempt for ApiView. CSRF handling in DRF is done at the SessionAuthenticaiton class level.
Here is the relevant code:
https://github.com/encode/django-rest-framework/blob/master/rest_framework/views.py#L144
All ApiView(s) will by default will be csrf_exempt.
When requests are authenticated with the SessionAuthentication class, unauthenticated users csrf tokens are not enforced
https://github.com/encode/django-rest-framework/blob/master/rest_framework/authentication.py#L124
If using SessionAuthenticaiton, any login views for example, that use the base ApiView and default SessionAuthentication class, would be vulnerable to csrf.
Shouldn't the SessionAuthentication authenticate method always enforce csrf regardless if it is an unauthenticated user for?