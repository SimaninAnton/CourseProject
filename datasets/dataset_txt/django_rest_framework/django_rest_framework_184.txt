blievrouw commented on 31 Mar 2019 •
edited
DRF automatically translates response messages for some languages if the right 'Accept-Language' header is present. It does this as expected for e.g. Spanish ('es') and French ('fr'), but apparently not for Dutch ('nl') even though all the necessary translations are available.
DRF provides a way to add new translations. But since the translations are already made, this should not be necessary.
Django settings (no LANGUAGES setting):
MIDDLEWARE = [
    ...
    'django.middleware.locale.LocaleMiddleware',
    'django.middleware.common.CommonMiddleware',
    ...
]

USE_I18N = True
USE_L10N = True
USE_TZ = True

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'
Behaviour with other languages:
http http://localhost:8000/api/auth/password/reset/ Accept-Language:es

...
Content-Language: es
...

{
    "detail": "Método \"GET\" no permitido."
}
Behaviour with dutch:
http http://localhost:8000/api/auth/password/reset/ Accept-Language:nl

...
Content-Language: nl
...

{
    "detail": "Method \"GET\" not allowed."
}
Expected behaviour with dutch (source):
http http://localhost:8000/api/auth/password/reset/ Accept-Language:nl

...
Content-Language: nl
...

{
    "detail": "Methode \"GET\" niet toegestaan."
}
django version: 2.1
djangorestframework version: 3.8.0