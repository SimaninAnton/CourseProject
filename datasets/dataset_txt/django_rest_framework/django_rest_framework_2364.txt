woutor commented on 30 Sep 2014
Hi,
I am testing out the 3.0 branch and found out UTF-8 content is not supported yet. I get the following exception when I want to expose UTF-8 content though the API:
UnicodeEncodeError: 'ascii' codec can't encode character u'\xeb' in position 2: ordinal not in range(128)
Stacktrace (most recent call last):
  File "django/core/handlers/base.py", line 111, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "django/views/decorators/csrf.py", line 57, in wrapped_view
    return view_func(*args, **kwargs)
  File "rest_framework/viewsets.py", line 79, in view
    return self.dispatch(request, *args, **kwargs)
  File "rest_framework/views.py", line 413, in dispatch
    response = self.handle_exception(exc)
  File "rest_framework/views.py", line 410, in dispatch
    response = handler(request, *args, **kwargs)
  File "rest_framework/mixins.py", line 45, in list
    return Response(serializer.data)
  File "rest_framework/serializers.py", line 115, in data
    self._data = self.to_representation(self.instance)
  File "rest_framework/serializers.py", line 295, in to_representation
    ret[field.field_name] = field.get_field_representation(instance)
  File "rest_framework/fields.py", line 214, in get_field_representation
    return self.to_representation(attribute)
  File "rest_framework/serializers.py", line 346, in to_representation
    return [self.child.to_representation(item) for item in data]
  File "rest_framework/serializers.py", line 295, in to_representation
    ret[field.field_name] = field.get_field_representation(instance)
  File "rest_framework/fields.py", line 214, in get_field_representation
    return self.to_representation(attribute)
  File "rest_framework/fields.py", line 437, in to_representation
    return str(value)