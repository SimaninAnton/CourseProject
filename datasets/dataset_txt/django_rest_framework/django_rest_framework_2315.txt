davidgit commented on 23 Oct 2014
I was trying to upload a file performing a multipart POST request for a session authenticated user but request.data is always empty when dispatching that request.
I realized Request object is calling perform_authentication before dispatch and, at least for session authentication, Django needs to acces request.POST. So, Django is parsing the message body in the original request.
Problem seems to appear when Request's dispatch method is trying to re-parse the stream but it's been already read.
I've solved the problem just checking if POST and FILES attributes are already set in the original request before trying to parse it. So, I'm setting them for the DRF request.
I don't know if it's the correct approach or I'm just losing something...