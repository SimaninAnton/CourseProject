Contributor
pelme commented on 1 Oct 2014
NullBooleanField model fields is represented as BooleanField in DRF's serializers.
This makes it impossible to handle None - None values are always converted to False.
I have a rough version that looks like this that gets the job done for me:
class NullBooleanField(serializers.BooleanField):
    type_name = 'NullBooleanField'
    type_label = 'null_boolean'
    widget = widgets.NullBooleanSelect

    empty = True

    def from_native(self, value):
        if value in (None, 'null', 'Null'):
            return None

        if value in ('true', 't', 'True', '1'):
            return True

        if value in ('false', 'f', 'False', '0'):
            return False

        return bool(value)
Is this just a matter of adding a NullBooleanField serializer field, or is there another approach to tackle this? If this approach is right, I'd be happy to make a proper patch with tests and try to cover potential edge cases etc.