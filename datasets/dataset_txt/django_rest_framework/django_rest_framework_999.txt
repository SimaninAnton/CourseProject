Contributor
conkiztador commented on 24 Oct 2016 â€¢
edited
The 3.5 release seems to have broken custom FilterSet classes with #4593. Any FilterSets I define behave as if no filters were included, returning all results.
The tests don't currently cover the new behaviour:
https://codecov.io/gh/tomchristie/django-rest-framework/src/1bd35ad35553e1be91df85dadb163c240aa51498/rest_framework/filters.py#L40
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
Expected behavior
FilterSet behaves the same as django_filters FilterSet.
Actual behavior
FilterSet doesn't filter properly. Filtering always returns the whole queryset.