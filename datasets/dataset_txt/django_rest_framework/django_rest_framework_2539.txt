ianfp commented on 9 May 2014
I have these serializers:
class ParentSerializer(serializers.Serializer):
    feature = ChildSerializer(many=True, context=dict(type='feature'))
    shadow = ChildSerializer(many=True, context=dict(type='shadow'))
    edge = ChildSerializer(many=True, context=dict(type='edge'))
    footprint = ChildSerializer(many=True, context=dict(type='footprint'))

class ChildSerializer(serializers.ModelSerializer):
    def from_native(self, data, files):
        assert 'type' in self.context
        # ...
The assertion in ChildSerializer fails because the initialize() method of Field overwrites the context of the child with that of the parent. Couldn't they be merged instead?