guglielmino commented on 13 Apr 2013
Hi all,
I'm trying for the first time django rest framework and I have a problem. I'm using ModelSerializer for a simple small object I'd like to handle with create or update behavior.
In my try I've implemented a class view with only post method (I known post is for object creation but in my case I'd like to use it for create or update if already exists):
class ClientManager(APIView):

    def post(self, request, format=None):
        clientLocation = ClientLocationSerializer(data=request.DATA)
        if clientLocation.is_valid():
            clientLocation.save()
            return Response(clientLocation.data, status=status.HTTP_201_CREATED)
       return Response(clientLocation.errors, status=status.HTTP_400_BAD_REQUEST)
It works for a new object creation but it returns error when I try to update an existing object (saying object already exists with same key). How can I make post behave as I'd like?
Thanks
Fabrizio