alexgmin commented on 7 Mar 2018
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
On an APIView with ordering using rest_framework.OrderingFilter, set the value of the attribute of the view "ordering" to an empty list or tuple:
class Foo(generics.ListAPIView):
    filter_backends = (
        filters.OrderingFilter,
    )
    
    ordering = ()
Expected behavior
Everything works the same as if the value of ordering was None.
Actual behavior
A tuple index out of range is raised at
django-rest-framework/rest_framework/filters.py
Line 245 in d2994e0
 current = None if current is None else current[0] 
I understand that is not on the documentation, however, since other filter attributes, like search_fields, filter_fields and ordering_fields work with an empty list as the value, it makes sense for this to also work with an empty list.