raphaelcruzeiro commented on 25 Jul 2013
I am not sure if this is a bug but as I didn't find anything about this in the docs I believe it's worth mentioning here.
When I try to serialize raw JSON data passed by the Browsable API the serializer is initialized with None values.
class Authenticate(generics.CreateAPIView):
    serializer_class = AuthSerializer

    def create(self, request):
        # Initialized with None values if it receives raw JSON 
        serializer = AuthSerializer(request.POST)
        # Do work here
In order to get my project working I had to do the following workaround:
def parse_data(request):
    # If this key exists, it means that a raw JSON was passed via the Browsable API
    if '_content' in request.POST:
        stream = StringIO(request.POST['_content'])
        return JSONParser().parse(stream)
    return request.POST


class Authenticate(generics.CreateAPIView):
    serializer_class = AuthSerializer

    def create(self, request):
        serializer = AuthSerializer(parse_data(request))
        # Do work here
I am not sure if I am missing something here but I believe the serializer should probably check for the '_content' and '_content_type' keys in the POST and parse the JSON is these keys are present.
I apologize if this issue is documented but I haven't found anything on this in the docs.
Reference: http://stackoverflow.com/questions/17842859/django-rest-framework-does-not-deserialize-data-passed-as-raw-json