commonorgarden commented on 12 Jun 2013
Not sure if this is a problem or intended behaviour but here goes...
I want to prevent users from POSTing multiple objects to one of my resources. Is there a configuration setting that I can use to stop this or is this a check I have to perform myself? I've experimented with the many parameter but it doesn't seem to do what I want.
For example, if the user is trying to post data like this:
[{"name": "MNO",},{"name": "PQR",}]
and my view code looks like this:
class MyObjectList(APIView):

    def post(self, request, format=None):
        serializer_context = {'request': request}
        serializer = PageSerializer(data=request.DATA,
                                    context=serializer_context,
                                    many=False)
        ...
the serializer gets instantiated without any errors being generated.
I realise that I could easily check whether request.DATA is a list before instantiating the serializer, but should this be something that's handled in the checks at the beginning of BaseSerializer.errors?
Thanks!