pwhipp commented on 22 Aug 2013
I'm using an APIClient in my test code where force_authenticate is the most efficient way to set and clear users:
def get_client(self, user=None):
    self.client.force_authenticate(user)
    return self.client
This does not clear the user login information from the session when the user is None.
I am using this as a workaround:
def get_client(self, user=None):
    self.client.logout()
    self.client.force_authenticate(user)
    return self.client