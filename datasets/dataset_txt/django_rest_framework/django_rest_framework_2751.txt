tjohns commented on 18 Aug 2013
I'm trying to get a basic django-rest-framework app up and running using AppEngine, via django-nonrel.
When I try to get the tutorial running, navigating to /users or /groups gives me the following error: "This query is not supported by the database."
Full stack trace below:
Environment:


Request Method: GET
Request URL: http://localhost:8000/users/

Django Version: 1.4.5
Python Version: 2.7.3
Installed Applications:
('django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.staticfiles',
 'djangoappengine',
 'rest_framework',
 'autoload',
 'dbindexer',
 'djangotoolbox')
Installed Middleware:
('autoload.middleware.AutoloadMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware')


Traceback:
File ".../myapp/django/core/handlers/base.py" in get_response
  111.                         response = callback(request, *callback_args, **callback_kwargs)
File ".../myapp/rest_framework/viewsets.py" in view
  78.             return self.dispatch(request, *args, **kwargs)
File ".../myapp/django/views/decorators/csrf.py" in wrapped_view
  77.         return view_func(*args, **kwargs)
File ".../myapp/rest_framework/views.py" in dispatch
  327.             response = self.handle_exception(exc)
File ".../myapp/rest_framework/views.py" in dispatch
  324.             response = handler(request, *args, **kwargs)
File ".../myapp/rest_framework/mixins.py" in list
  96.         return Response(serializer.data)
File ".../myapp/rest_framework/serializers.py" in data
  499.                 self._data = [self.to_native(item) for item in obj]
File ".../myapp/rest_framework/serializers.py" in to_native
  306.             value = field.field_to_native(obj, field_name)
File ".../myapp/rest_framework/relations.py" in field_to_native
  148.                 return [self.to_native(item) for item in value.all()]
File ".../myapp/django/db/models/query.py" in _result_iter
  118.                 self._fill_cache()
File ".../myapp/django/db/models/query.py" in _fill_cache
  892.                     self._result_cache.append(self._iter.next())
File ".../myapp/django/db/models/query.py" in iterator
  291.         for row in compiler.results_iter():
File ".../myapp/djangotoolbox/db/basecompiler.py" in results_iter
  335.         results = self.build_query(fields).fetch(
File ".../myapp/djangotoolbox/db/basecompiler.py" in build_query
  426.         self.check_query()
File ".../myapp/djangotoolbox/db/basecompiler.py" in check_query
  407.             raise DatabaseError("This query is not supported by the database.")

Exception Type: DatabaseError at /users/
Exception Value: This query is not supported by the database.