damonsu commented on 17 Jun 2018 â€¢
edited
When i tried to create a new Post, i get always the following error:
Exception Value: | (1048, "Column 'user_id' cannot be null")
But i get no error before i updated to Django Rest 3.8.2. It seems like that the function CurrentUserDefault doesn't work.
My Code:
class PostSerializer(serializers.ModelSerializer):
user = UserSerializer(
    many = False,
    read_only = True,
    default=serializers.CurrentUserDefault()
)

class Meta:
    model = Post
    fields = ('id', 'user', 'post_date')

def create(self, validated_data):
    return Post.objects.create(**validated_data)
**Solution based on the reply of @blueyed **
def create(self, validated_data):
     if 'user' not in validated_data:
         validated_data['user'] = self.context['request'].user
     return Post.objects.create(**validated_data)