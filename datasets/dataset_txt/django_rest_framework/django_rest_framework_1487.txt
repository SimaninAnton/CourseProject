timworx commented on 23 Oct 2015
My scenario:
Django Admin (which uses session auth) is used for some admin tasks.
DRF browable API used in dev/staging (which, as far as I can tell, only uses session auth)
Angular SPA hooks into DRF API using Token auth
My settings file had:
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework.authentication.TokenAuthentication',
        'rest_framework.authentication.SessionAuthentication',
    ),
This worked fine for enabling the browsable API and the Angular app. However, I started running into this response when authenticating from the Angular app (that uses token auth) "CSRF Failed: CSRF token missing or incorrect."
It was just sending a Authentication: Token xxxxxxxxxx header for auth so it was peculiar to receive this error in response.
I noticed that logging out of Django admin would first would fix the issue (then you could log back into django admin).
What I found to ultimately fix the issue was simply removing 'rest_framework.authentication.SessionAuthentication' from the auth classes in my settings.py.
The downside, though, is that the browsable API seems to use session auth, so I've lost access to that.
Any thoughts on why this was an issue in the first place? I haven't had time to dig into DRF to see why this would be an issue on token auth.