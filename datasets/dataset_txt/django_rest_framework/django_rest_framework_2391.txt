Contributor
mskrajnowski commented on 11 Sep 2014
DefaultRouter should probably just ignore viewsets, which don't have the list action in the root view.
Request Method: GET
Request URL: localhost:8000/api/

Traceback:
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/django/core/handlers/base.py" in get_response
  115.                         response = callback(request, *callback_args, **callback_kwargs)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/django/views/generic/base.py" in view
  68.             return self.dispatch(request, *args, **kwargs)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/django/views/decorators/csrf.py" in wrapped_view
  77.         return view_func(*args, **kwargs)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/rest_framework/views.py" in dispatch
  399.             response = self.handle_exception(exc)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/rest_framework/views.py" in dispatch
  396.             response = handler(request, *args, **kwargs)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/rest_framework/routers.py" in get
  254.                     ret[key] = reverse(url_name, request=request, format=format)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/rest_framework/reverse.py" in reverse
  17.     url = django_reverse(viewname, args=args, kwargs=kwargs, **extra)
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/django/core/urlresolvers.py" in reverse
  496.     return iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs))
File "/home/mskrajnowski/.virtualenvs/project/local/lib/python2.7/site-packages/django/core/urlresolvers.py" in _reverse_with_prefix
  416.                 "arguments '%s' not found." % (lookup_view_s, args, kwargs))

Exception Type: NoReverseMatch at /api/
Exception Value: Reverse for 'public_projects-list' with arguments '()' and keyword arguments '{}' not found.
# urls.py
router = DefaultRouter()
router.register(r'public/projects', PublicProjectViewSet,
                base_name='public_projects')

# views.py
class PublicProjectViewSet(mixins.RetrieveModelMixin,
                           mixins.UpdateModelMixin,
                           viewsets.GenericViewSet):
    model = Project
    permission_classes = []
    serializer_class = PublicProjectSerializer
    lookup_field = 'public_tokens__token'