Contributor
thierryba commented on 23 Jan 2013
I'm using a generic view RetrieveUpdateDestroyAPIView to PUT/PATCH objects. I of course want that by default the objects are created if they don't already exist.
For that I have a way of specifying unique ids for the objects. I made a primary key fields for those unique ids.
Now the little issue is that if I PUT to a url like myserser/object_class/pk, I still need to specify a 2nd time the pk inside the JSON data that I am sending.
Otherwise I get a 400 error with the message:
{"device_id": ["This field is required."]}
device_id is the name of the primary key field and my url handler passes 'pk' to the view the following way:
url(r'^api/v1/client/(?P.+)$', ClientView.as_view(), name='client')
I'm trying to find a workaround or maybe a patch to the django rest framework.
Thanks.