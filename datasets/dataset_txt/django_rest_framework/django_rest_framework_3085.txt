danfairs commented on 15 May 2012
Currently, all the classes in mixins.py use self.resource.model to get a model class, where resource is itself a class.
I'd like to be able to customise the model that's returned per-request. Having a get_model() (or model_class(), or whatever) method on ModelMixin would make this a lot easier. Its default implementation could simply be to return self.resource.model.
My motivation for this is a multi-tenant system, where there are sets of very similar models, but with small modifications per-tenant. They're similar enough to share Resource implementations; but it's very hard to plug them in at the moment without overriding the whole of get(), post() etc. Pulling that logic out into a method would make that much easier to override.
I can spend some time implementing this if you think it's a good change; otherwise, I'll maintain the overrides in our own application.