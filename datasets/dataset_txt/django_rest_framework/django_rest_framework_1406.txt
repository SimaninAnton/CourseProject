jonathan-golorry commented on 2 Dec 2015
I have implemented a token login system similar to this: https://github.com/Tivix/django-rest-auth/blob/master/rest_auth/views.py
The problem occurs in a couple unusual cases.
If I login from the browsable api (token login), press back, and try to login again
If I login from an android simulator, do a code reload, and try to login again.
The error is:
{
"detail": "CSRF Failed: CSRF token missing or incorrect."
}
My default authentication classes:
'DEFAULT_AUTHENTICATION_CLASSES': (
'rest_framework.authentication.TokenAuthentication',
'rest_framework.authentication.SessionAuthentication',
),
Note that if I remove SessionAuthentication the error does not occur, implying that session authentication is failing and giving an error before the token authentication has a chance of working.