mmalek06 commented on 2 Jul 2016
In line 302 there's this call to _get_count function:
self.count = _get_count(queryset)
The problem is that when you annotate your queryset (in my case it was a restaurants queryset which I annotated with restaurant rating based on related comments rating, so something like annotate(rating=models.Avg('comments__rating'))) the annotation ends up in the count query. For most cases it's not that big of a problem, but if you for example do several geographical annotations this may get a bit too expensive for a simple query that should just return the count of rows in a table.