elcolie commented on 15 Feb 2018 â€¢
edited
Checklist
I have verified that that issue exists against the master branch of Django REST framework.
I have searched for similar issues in both open and closed tickets and cannot find a duplicate.
This is not a usage question. (Those should be directed to the discussion group instead.)
This cannot be dealt with as a third party library. (We prefer new functionality to be in the form of third party libraries where possible.)
I have reduced the issue to the simplest possible case.
I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)
Steps to reproduce
User Docker as a gitlab runner.
image: python:3.6
services:
  - postgres:latest

stages:
  - test
  - build
  - deploy

variables:
  POSTGRES_DB: poinkdb
  POSTGRES_USER: postgres
  POSTGRES_PASSWORD: postgres

before_script:
  - 'which ssh-agent || ( apt-get update -y && apt-get install openssh-client -y )'
  - pwd
  - whoami
  - ls -alh
  - eval $(ssh-agent -s)
  - echo "$SSH_PRIVATE_KEY" | tr -d '\r' | ssh-add - > /dev/null
  - mkdir -p ~/.ssh
  - chmod 700 ~/.ssh
  - ssh-keyscan github.com >> ~/.ssh/known_hosts
  - chmod 644 ~/.ssh/known_hosts
  - git config --global user.email "sarit@xx.x"
  - git config --global user.name "sarit"

test:
  stage: test
  tags:
    - poink
    - Elcolie
  variables:
    DATABASE_URL : "postgres://postgres:postgres@postgres:5432/poinkdb"
  script:
  - python -V
  - pip install -r requirements.txt
  - coverage run --source poinkbackend/ -m py.test poinkbackend/
  - coverage report
  only:
  - master
Expected behavior
Be able to import action decorator like working on OSX 10.13.3
Actual behavior
Unable to import decorator action
from rest_framework.decorators import action
E   ImportError: cannot import name 'action'