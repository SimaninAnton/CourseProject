H0neyBadger commented on 17 Feb 2015
Hello,
First of all, thanks for your work !
I have created a serialize that call ListField
computers = serializers.ListField(
    child=serializers.RegexField(regex=r'^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]([a-z]+)$', max_length=64, allow_blank=True, required=True)
)
It works perfectly when I use API’s raw data, but when I try to post the following list through the HTML form, the field isn’t parsed as expected.
['computer1.foo.bar', 'computer2.foo.bar', 'computer3.foo.bar']
With the side effect that the ListField doesn’t raise validation error
I tried to solve this issue by myself, but I not clearly understand the use case of this regex in parse_html_list
regex = re.compile(r'^%s\[([0-9]+)\](.*)$' % re.escape(prefix))
how to test :
from rest_framework.utils import html
dictionary = {'account': 'honeybadger', 'computers': "['computer1.foo.bar', 'computer2.foo.bar', 'computer3.foo.bar']", '_method': 'PUT'}
prefix='computers'

print(html.parse_html_list(dictionary, prefix=prefix))
Thanks