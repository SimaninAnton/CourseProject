arun-gupta commented on 5 Jan 2016
Starting a Docker Compose application using the following configuration file:
mycouchbase:
  image: arungupta/couchbase-node
as: docker-compose --x-networking scale mycouchbase=3. Note, this is the direct command given as opposed to docker --x-networking up -d first.
It fails with the following error:
couchbase-node > docker-compose --x-networking scale mycouchbase=3
Creating and starting 1 ... 
Creating and starting 2 ... 
Creating and starting 3 ... 
Pulling mycouchbase (arungupta/couchbase-node:latest)...
swarm-master: Pulling arungupta/couchbase-node:latest...
swarm-node-01: Pulling arungupta/couchbase-node:latest...
swarm-node-02: Pulling arungupta/couchbase-node:latest...
Pulling mycouchbase (arungupta/couchbase-node:latest)...
swarm-node-02: Pulling arungupta/couchbase-node:latest...
swarm-master: Pulling arungupta/couchbase-node:latest...
swarm-node-01: Pulling arungupta/couchbase-node:latest...
Pulling mycouchbase (arungupta/couchbase-node:latest)...
Creating and starting 1 ... error
Creating and starting 2 ... error
Creating and starting 3 ... error

ERROR: for 1  Cannot start container 8b31e0f8fbcf8df6ff90d1a3f26463c93246fbd0309a0fcc22f3becf712b1c56: network couchbasenode not found 
ERROR: for 2  Cannot start container fb08abb750e07b1c5046504363ac7b56d0570f4c2d06d2369da700cea73a0d1e: network couchbasenode not found 
ERROR: for 3  Cannot start container 7859c70ce54ccd3615347fb28a6bf925a75783745705b718944e9c3c17cf292e: network couchbasenode not found 
Removing couchbasenode_mycouchbase_3 ... done
Removing couchbasenode_mycouchbase_1 ... done
Removing couchbasenode_mycouchbase_2 ... done
Scale command should be able to create the network if it does not already exist.