"Circular reference" when using extends