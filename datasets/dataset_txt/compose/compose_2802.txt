Freyert commented on 10 Feb 2016
So with docker moving to DNS in 1.10 for discovering other containers it seems like some stuff is in the air with docker-compose; or something.
I'm trying to run through what is essentially the basic tutorial of starting two services, one an application, and one a redis server.
The application keeps getting timeout errors when trying to connect to redis://redis:6379. This is because that hostname resolves to the application container's own ip address.
I look in /etc/hosts and see that the IP address for the other containers in the bridge network have been added, but their host names are all their container hashes! How do I work with that? shrug
I also noticed that /etc/resolv.conf is handled differently by docker and docker-compose. docker overwrites resolve.conf with a dynamic file, whereas docker-compose lacks the comments indicating it to be a dynamic file:
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN