Contributor
dieuwkehupkes commented on 21 Dec 2016
Isn't the kullback_leibler_divergence method in metrics supposed to return a scalar value? Right now it doesn't:
def kullback_leibler_divergence(y_true, y_pred):
    '''Calculates the Kullback-Leibler (KL) divergence between prediction
    and target values.
    '''
    y_true = K.clip(y_true, K.epsilon(), 1)
    y_pred = K.clip(y_pred, K.epsilon(), 1)
    return K.sum(y_true * K.log(y_true / y_pred), axis=-1)