How to design a Siamese network without Model class for minimal memory usage