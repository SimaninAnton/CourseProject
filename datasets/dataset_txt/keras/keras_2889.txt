yutkin commented on 23 Mar 2017 â€¢
edited
I am using my own top K accuracy metric for multi label classification:
def top_K_acc(y_true, y_pred, k):
    assert y_true.shape == y_pred.shape
    top_k_indx = np.argsort(y_pred, axis=1)[:,:-(k+1):-1]
    n_guessed = 0
    for i in range(len(y_true)):
        n_guessed += np.any(y_true[i,top_k_indx[i]])
    print(n_guessed / len(y_true))
but it's always shows much higher accuracy than top_k_categorical_accuracy from Keras. What is the issue in my implementation?