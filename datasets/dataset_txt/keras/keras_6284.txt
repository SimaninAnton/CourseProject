Contributor
jeffzhengye commented on 10 Dec 2015
Around line 68 in recurrent.py
If we are using float32, line 68 will be a float32 times int32, which will produce a float64. (is it because of theano version?)
changing line 68 to X *= K.expand_dims(mask).astype(X.dtype) will fix this problem.
    if mask:
        # apply mask
        X *= K.expand_dims(mask)   # line 68
        masking = True