odinsbane commented on 26 Apr 2019
I recently updated keras to 2.2.4 and now when I create a model and use model.save with a pathlib object, I get the following error.
TypeError: Required Group, str or dict. Received: <class 'pathlib.PosixPath'>.
Is this new behavior the expected behavior, or should a pathlib.Path be acceptable? I reinstalled keras version using pip install keras==2.2.x, and both 2.2.3 and 2.2.4 are broken but 2.2.2 worked as expected.
System information
OS Platform and Distribution : Centos 7
TensorFlow backend (yes / no): yes
TensorFlow version: 1.13.1
Keras version: 2.2.4
Python version: 3.4.9
CUDA/cuDNN version: 9.1
GPU model and memory: nvidia cards 2080 or 1080ti
Code to reproduce the issue
from keras.layers import Input, Dense
from keras.models import Model
import pathlib

inputs = Input(shape=(784,))
x = Dense(64, activation='relu')(inputs)
x = Dense(64, activation='relu')(x)
predictions = Dense(10, activation='softmax')(x)
model = Model(inputs=inputs, outputs=predictions)
model.save(pathlib.Path("junk.h5"))
#model.save(str(pathlib.Path("junk.h5"))) works though.