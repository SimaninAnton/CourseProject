Contributor
dolaameng commented on 27 Sep 2016
I am referring to axis=-1 in the BatchNormalization.init(). Would it make more sense to set its default values based on image_dim_ordering?
For example, with 'th' dim_ordering, the following code needs to explicitly set the axis=1 (otherwise an exception will be raised), which could be a burden on the user side?
x = Input(shape=(1, 28, 28))
y = Conv2D(128, 3, 3, activation='relu', border_mode='same')(x)
y = BatchNormalization(mode=2, axis=1)(y)
y = Flatten()(y)
y = Dense(6, activation='softmax')(y)
model = Model(input=x, output=y)
model.compile(loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'])
A discussion can be found here
1