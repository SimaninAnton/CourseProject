mikkokotila commented on 21 Sep 2019
System information
Ubuntu 18.04
TensorFlow backend
TensorFlow 1.14.0
Keras version: 2.2.4
Python version: 3.7.3
Describe the current behavior
import keras causes the following error to occur:
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-4-88d96843a926> in <module>
----> 1 import keras

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/__init__.py in <module>
      1 from __future__ import absolute_import
      2 
----> 3 from . import utils
      4 from . import activations
      5 from . import applications

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/utils/__init__.py in <module>
     25 from .np_utils import to_categorical
     26 from .np_utils import normalize
---> 27 from .multi_gpu_utils import multi_gpu_model

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/utils/multi_gpu_utils.py in <module>
      5 from __future__ import print_function
      6 
----> 7 from ..layers.merge import concatenate
      8 from .. import backend as K
      9 from ..layers.core import Lambda

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/layers/__init__.py in <module>
      3 from ..utils.generic_utils import deserialize_keras_object
      4 from ..engine.base_layer import Layer
----> 5 from ..engine import Input
      6 from ..engine import InputLayer
      7 from ..engine.base_layer import InputSpec

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/engine/__init__.py in <module>
      6 from .base_layer import Layer
      7 from .network import get_source_inputs
----> 8 from .training import Model

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/engine/training.py in <module>
     19 from .training_utils import standardize_weights
     20 from .training_utils import weighted_masked_objective
---> 21 from . import training_arrays
     22 from . import training_generator
     23 from .. import backend as K

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/engine/training_arrays.py in <module>
     12 from .training_utils import check_num_samples
     13 from .. import backend as K
---> 14 from .. import callbacks as cbks
     15 from ..utils.generic_utils import Progbar
     16 from ..utils.generic_utils import slice_arrays

~/miniconda3/envs/wip/lib/python3.7/site-packages/keras/callbacks/__init__.py in <module>
     17 from .. import backend as K
     18 
---> 19 if K.backend() == 'tensorflow' and not K.tensorflow_backend._is_tf_1():
     20     from .tensorboard_v2 import TensorBoard
     21 else:

AttributeError: module 'keras.backend.tensorflow_backend' has no attribute '_is_tf_1'
Describe the expected behavior
No error when importing keras.
Code to reproduce the issue
import keras
2