ganesa90 commented on 29 Oct 2016
I am trying to use fit_generator to train a CNN model on a speech dataset. In speech, training batches are usually defined as the number of speech files per batch. Each speech file can have different number of sample frames. Hence, the number of samples_per_batch will not be the same for every batch. It is inappropriate to have part of a speech file in one batch and the remaining in the next batch. Moreover, if I have to count the number of samples in each audio file to make sure the number of samples_per_batch is met, I will lose all the advantage of batch generator.
Currently, my batch generator reads features and targets from files listed under one batch (pre-decided batch lists) and returns that as numpy arrays.
Is there some way to accommodate this varying samples_per_batch into the fit_generator code?