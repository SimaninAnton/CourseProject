ghost commented on 3 Jun 2016
I just upgraded Keras from version 0.3.2 to the latest, then found with the newest Keras, CNN runs much slower (17s VS 180s per epoch in my code) when device = gpu.
By comparing the codes, previously I suspected ths is caused by removing of explicit usage of cudnn in the newest Keras. But after also removing explicit usage of cudnn in Keras 0.3.2, the speed is not affected (still 17s per epoch). So I believe this is caused by the newest Keras, in some other code places.
Currently I noticed the floatX of theano is not correct in the newest Keras, it always equals 'float64' even after I set the environment flag and/or set the configure file .theanorc. This problem does not exist in Keras 0.3.2
Please make sure that the boxes below are checked before you submit your issue. Thank you!
[* ] Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).