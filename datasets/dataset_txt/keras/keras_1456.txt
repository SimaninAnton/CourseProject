Hvass-Labs commented on 29 Nov 2017
I have just started using Keras and regret I didn't do it sooner. It has really been a nightmare to use the half-baked API's of TensorFlow. Keras is exceptionally well made and I have read some of @fchollet's github and blog-posts with his thoughts on API design and I am deeply impressed by his user-centric approach and pursuit of simplicity and beauty. He really should have been put in charge of TensorFlow's API 1-2 years ago, then TensorFlow would have progressed much further by now, and it would have freed up massive resources for the community who is constantly bogged down by the bizarre TF API. So I am casting my vote that @fchollet is now made the King and Supreme Ruler of the TensorFlow API. A bit of Monty Python is in order: https://www.youtube.com/watch?v=-8bqQ-C1PSE
Anyway, I am having a rookie problem importing Keras in TensorFlow 1.4 using Python 3.6 on Ubuntu 16.04 with Anaconda 4.3.14.
There is a related post on StackOverflow:
https://stackoverflow.com/questions/47262955/how-to-import-keras-from-tf-keras-in-tensorflow
But it is really a hack-around instead of an elegant solution. I think this may be a problem with how Keras exposes itself as modules - but I'm not a Python expert so I can't really say.
I would like to do something like this:
import tensorflow as tf
from tf.keras.models import Sequential
from tf.keras.layers import Dense

model = Sequential()
model.add(Dense(256, input_shape=(784,)))
I have tried various ways of importing Keras but I get 'ModuleNotFoundError' except in the last line which has a really long import statement.
>>> import tensorflow as tf
>>> tf.__version__
'1.4.0'
>>> import tf.keras as keras
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ModuleNotFoundError: No module named 'tf'
>>> import tensorflow.keras as keras
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ModuleNotFoundError: No module named 'tensorflow.keras'
>>> import tensorflow.python.keras as keras
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: module 'tensorflow' has no attribute 'python'
>>> from tensorflow.python.keras.models import Sequential  # THIS WORKS!
>>> 
But all of those are actually modules if I print them out:
>>> print(tf.keras)
<module 'tensorflow.python.keras' from '/home/magnus/anaconda3/envs/tf/lib/python3.6/site-packages/tensorflow/python/keras/__init__.py'>
>>> print(tf.keras.models)
<module 'tensorflow.python.keras.models' from '/home/magnus/anaconda3/envs/tf/lib/python3.6/site-packages/tensorflow/python/keras/models/__init__.py'>
So I imagine that it should be possible to import them like I tried above?
1