`unboundlocalerror: local variable 'class_name' referenced before assignment`