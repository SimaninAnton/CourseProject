ssiaw12345 commented on 17 Apr 2017 â€¢
edited
in the keras/keras/callbacks.py class TensorBoard
` embeddings = {layer.name: layer.weights[0]
for layer in self.model.layers
if layer.name in embeddings_layer_names}
        embeddings_metadata = {}

        if not isinstance(self.embeddings_metadata, str):
            embeddings_metadata = self.embeddings_metadata
        else:
            embeddings_metadata = {layer_name: self.embeddings_metadata
                                   for layer_name in embeddings.keys()}

        config = projector.ProjectorConfig()
        self.embeddings_logs = []

        for layer_name, tensor in embeddings.items():
            embedding = config.embeddings.add()
            embedding.tensor_name = tensor.name

            self.embeddings_logs.append(os.path.join(self.log_dir,
                                                     layer_name + '.ckpt'))

            if layer_name in embeddings_metadata:
                embedding.metadata_path = embeddings_metadata[layer_name]

        projector.visualize_embeddings(self.writer, config)`
the embedding tensor is the weight of the target layer, but in my understanding, the embedding process should visualization the output of the target layer. Do I misunderstand the code?