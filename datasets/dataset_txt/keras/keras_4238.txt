owang commented on 5 Oct 2016 â€¢
edited
The code (tensorflow backend)
m = keras.models.Sequential()
m.add(keras.layers.convolutional.Convolution2D(1, 3, 3, border_mode='same', input_shape=(None, None,1)))
m.add(keras.layers.convolutional.UpSampling2D(size=(2, 2),dim_ordering='tf'))
The error:
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Users/owang/Library/Python/2.7/lib/python/site-packages/keras/models.py", line 308, in add
    output_tensor = layer(self.outputs[0])
  File "/Users/owang/Library/Python/2.7/lib/python/site-packages/keras/engine/topology.py", line 514, in __call__
    self.add_inbound_node(inbound_layers, node_indices, tensor_indices)
  File "/Users/owang/Library/Python/2.7/lib/python/site-packages/keras/engine/topology.py", line 572, in add_inbound_node
    Node.create_node(self, inbound_layers, node_indices, tensor_indices)
  File "/Users/owang/Library/Python/2.7/lib/python/site-packages/keras/engine/topology.py", line 149, in create_node
    output_tensors = to_list(outbound_layer.call(input_tensors[0], mask=input_masks[0]))
  File "/Users/owang/Library/Python/2.7/lib/python/site-packages/keras/layers/convolutional.py", line 1318, in call
    self.dim_ordering)
  File "/Users/owang/Library/Python/2.7/lib/python/site-packages/keras/backend/tensorflow_backend.py", line 756, in resize_images
    X.set_shape((None, original_shape[1] * height_factor, original_shape[2] * width_factor, None))
TypeError: unsupported operand type(s) for *: 'NoneType' and 'int'
1