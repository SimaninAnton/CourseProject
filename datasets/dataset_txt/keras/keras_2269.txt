Djoulihen commented on 29 May 2017 â€¢
edited
Hi, I am currently trying to implement a callback that will run every X epochs and do 2 things:
Run my image reconstruction model on a specific dataset of images and save the predictions to disk as images.
Evaluate the model on the same dataset (i.e. run all the metrics that were compiled with the model, including some custom metrics implemented using the keras backend abstraction) and save this information along with the prediction images.
The Model.predict and Model.evaluate methods fit my needs perfectly. However they require each image to be run twice through the network, which seems really inefficient. So far I haven't found a good way to easily obtain both a prediction on a batch of data and run all the metrics compiled into the model on it. Am I missing something ?
If not, I guess that Model.evaluate could easily return the predictions from the network as an optional output controlled by a an additional parameter such as:
model.evaluate(x, predictions=True)
6