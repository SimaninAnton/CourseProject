thorstenwagner commented on 1 Oct 2018
I just tried the latest master branch and get the following exception when the model is saved at the end of the epoch:
Epoch 00001: val_loss improved from inf to 0.12681, saving model to yolo_particle_latest_keras.h5
Traceback (most recent call last):
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/bin/cryolo_train.py", line 11, in <module>
    sys.exit(_main_())
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/cryolo/train.py", line 288, in _main_
    overlap_patches=overlap_patches)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/cryolo/frontend.py", line 570, in train
    use_multiprocessing=True)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/legacy/interfaces.py", line 91, in wrapper
    return func(*args, **kwargs)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/engine/training.py", line 1418, in fit_generator
    initial_epoch=initial_epoch)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/engine/training_generator.py", line 250, in fit_generator
    callbacks.on_epoch_end(epoch, epoch_logs)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/callbacks.py", line 79, in on_epoch_end
    callback.on_epoch_end(epoch, logs)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/callbacks.py", line 446, in on_epoch_end
    self.model.save(filepath, overwrite=True)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/engine/network.py", line 1090, in save
    save_model(self, filepath, overwrite, include_optimizer)
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/engine/saving.py", line 379, in save_model
    f = h5dict(filepath, mode='w')
  File "/home/twagner/applications/miniconda/v3.6.5/envs/cryolo/lib/python2.7/site-packages/keras/utils/io_utils.py", line 195, in __init__
    'Received: {}.'.format(type(path)))
TypeError: Required Group, str or dict. Received: <type 'unicode'>.