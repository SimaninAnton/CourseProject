shahurik commented on 28 Jul 2016
I try to use Deconvolution2D layer with zero initialized weights and get infer_shape error
WARNING (theano.tensor.opt): Failed to infer_shape from Op AbstractConv2d_gradInputs{border_mode='valid', subsample=(1, 1), filter_flip=True, imshp=(1,
7, 7), kshp=(1, 1, 3, 3), filter_dilation=(1, 1)}.
Full error log is here: https://gist.github.com/shahurik/efa88e378e508c1de658151a5cdefc03
Keras and Theano are upgraded from github just before filling that issue.
Here is minimal code:
from keras.models import Model
from keras.layers import Input, Convolution2D, Deconvolution2D

from numpy import eye, array

img = Input(shape=(1, 5, 5))
conv = Deconvolution2D(1, 3, 3, output_shape=(1, 7, 7),  init='zero')(img)

model = Model(img, conv)  
model.summary()  
print(model.predict(array([[eye(5)]])))
If I change Deconvolution2D to Convolution2D (and delete output_shape argument), works fine.