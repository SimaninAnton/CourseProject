pvnick commented on 9 Nov 2015
All of the tests pass on CPU mode, but many tests fail when using GPU mode, and with my own network (e.g. any of the scripts in the examples folder) the loss immediately goes to NaN. My GPU is the GeForce GTX 980 Ti. I am using the most recent code in the theano and keras repositories as of this morning.
Relevant test results:
auto/test_shape_inference.py FFFFFFFFFFFFFFF
auto/test_tasks.py ......
auto/keras/test_activations.py FFF.
auto/keras/test_constraints.py .....
auto/keras/test_normalization.py .......
auto/keras/layers/test_convolutional.py FF.....
auto/keras/layers/test_core.py ................FFF
auto/keras/layers/test_recurrent.py FFFFFFF
Most failures seem to be associated with the following error message:
E               ValueError: When compiling the inner function of scan the following error has been 
encountered: The initial state ('outputs_info' in scan nomenclature) of variable 
IncSubtensor{Set;:int64:}.0 (argument number 4) has dtype float32, while the result of the inner 
function ('fn') has dtype float64. This can happen if the inner function of scan results in an upcast or downcast.
Here is my .theanorc file:
floatX = float32
device = gpu0

[nvcc]
fastmath = True
Running deviceQuery in the cuda samples folder shows that the test passed.
Not sure where to go from this point :(