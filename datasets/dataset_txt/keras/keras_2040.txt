buaahsh commented on 29 Jun 2017 â€¢
edited
Sparse Input works in the tensorflow backend, but fails in the theano.
Here is my script:
from keras.layers import Input, Dropout

X_in = Input(shape=(100,), sparse=True)
H = Dropout(0.5)(X_in)
and here is the stack trace
H = Dropout(0.5)(X_in)
  File "C:\Users\shaohanh\AppData\Local\Continuum\Anaconda3\lib\site-packages\keras\engine\topology.py", line 552, in __call__
    self.assert_input_compatibility(inputs)
  File "C:\Users\shaohanh\AppData\Local\Continuum\Anaconda3\lib\site-packages\keras\engine\topology.py", line 425, in assert_input_compatibility
    str(inputs) + '. All inputs to the layer '
ValueError: Layer dropout_1 was called with an input that isn't a symbolic tensor. Received type: <class 'theano.sparse.basic.SparseVariable'>. Full input: [SparseVariable{csr,float32}]. All inputs to the layer should be tensors.
Keras: 2.0.5
Theano: 0.10.0
Python:3.5.2
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found here.
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).