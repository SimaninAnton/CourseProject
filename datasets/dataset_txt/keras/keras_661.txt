radu941208 commented on 28 Oct 2018 â€¢
edited by Harshini-Gadige
Please make sure that the boxes below are checked before you submit your issue.
If your issue is an implementation question, please ask your question on StackOverflow or on the Keras Slack channel instead of opening a GitHub issue.
Thank you!
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/keras-team/keras.git --upgrade --no-deps
Check that your version of TensorFlow is up-to-date. The installation instructions can be found here.
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).
model1 = Sequential()
model1.add(Conv2D(32, kernel_size=(3,3), activation='relu', input_shape = X.shape[1:]))
model1.add(MaxPooling2D(pool_size = (2,2)))
model1.add(Conv2D(32, (3,3), activation = 'relu'))
model1.add(MaxPooling2D(pool_size = (2,2)))
model1.add(Flatten())
model1.add(Dense(64))
model1.add(Activation('relu'))
model1.add(Dense(1))
model1.add(Activation('sigmoid'))
model1.compile(loss='binary_crossentropy',
optimizer='adam',
metrics=['accuracy'])
model1.fit(X, y, batch_size = 32, validation_split = 0.1, epochs = 5, callbacks = [tensorboard])
FailedPreconditionError Traceback (most recent call last)
in
17 metrics=['accuracy'])
18
---> 19 model1.fit(X, y, batch_size = 32, validation_split = 0.1, epochs = 5, callbacks = [tensorboard])
20
21
~\Anaconda3\envs\tensorflow\lib\site-packages\tensorflow\python\keras\engine\training.py in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, **kwargs)
1603 initial_epoch=initial_epoch,
1604 steps_per_epoch=steps_per_epoch,
-> 1605 validation_steps=validation_steps)
1606
1607 def evaluate(self,
~\Anaconda3\envs\tensorflow\lib\site-packages\tensorflow\python\keras\engine\training_arrays.py in fit_loop(model, inputs, targets, sample_weights, batch_size, epochs, verbose, callbacks, val_inputs, val_targets, val_sample_weights, shuffle, initial_epoch, steps_per_epoch, validation_steps)
212 ins_batch[i] = ins_batch[i].toarray()
213
--> 214 outs = f(ins_batch)
215 if not isinstance(outs, list):
216 outs = [outs]
~\Anaconda3\envs\tensorflow\lib\site-packages\tensorflow\python\keras\backend.py in call(self, inputs)
2976
2977 fetched = self._callable_fn(*array_vals,
-> 2978 run_metadata=self.run_metadata)
2979 self._call_fetch_callbacks(fetched[-len(self._fetches):])
2980 return fetched[:len(self.outputs)]
~\Anaconda3\envs\tensorflow\lib\site-packages\tensorflow\python\client\session.py in call(self, *args, **kwargs)
1397 ret = tf_session.TF_SessionRunCallable(
1398 self._session._session, self._handle, args, status,
-> 1399 run_metadata_ptr)
1400 if run_metadata:
1401 proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)
~\Anaconda3\envs\tensorflow\lib\site-packages\tensorflow\python\framework\errors_impl.py in exit(self, type_arg, value_arg, traceback_arg)
524 None, None,
525 compat.as_text(c_api.TF_Message(self.status.status)),
--> 526 c_api.TF_GetCode(self.status.status))
527 # Delete the underlying status object from memory otherwise it stays alive
528 # as there is a reference to status from this from the traceback due to
FailedPreconditionError: Error while reading resource variable training/Adam/Variable_2 from Container: localhost. This could mean that the variable was uninitialized. Not found: Container localhost does not exist. (Could not find resource: localhost/training/Adam/Variable_2)
[[{{node training/Adam/mul_11/ReadVariableOp}} = ReadVariableOpdtype=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]]