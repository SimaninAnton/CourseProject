abdulqayyum commented on 26 Mar 2017 â€¢
edited
In my model I am using images that are stored in form of Numpy arrays from .npy
file. I want to resize images at the last layer so (please note that data is in numpy arrays)
I have tried this
def resz(x):
    x = imresize(x,(124,124),interp='bilinear')
    return x 
model.add(Lambda(lambda x: resz))
and this
def resz(x):
    x = K.tf.convert_to_tensor(x)
    x = K.resize_images(x, 124,124 , "tf")
    return x 
model.add(Lambda(lambda x: resz))
and this
def resz(x):
    x = K.tf.TensorArray(x)
    x = K.resize_images(x, 124,124 , "tf")
    return x 
model.add(Lambda(lambda x: resz))
error is :
`---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-14-4454aed633d7> in <module>()
     15 model.add(Lambda(lambda x: resz,output_shape=(124,124)))
     16 # Final conv
---> 17 model.add(Convolution2D(2, 1, 1, name="conv2d_final", border_mode="same"))

/home/qayyum/anaconda2/lib/python2.7/site-packages/keras/models.pyc in add(self, layer)
    330                  output_shapes=[self.outputs[0]._keras_shape])
    331         else:
--> 332             output_tensor = layer(self.outputs[0])
    333             if isinstance(output_tensor, list):
    334                 raise TypeError('All layers in a Sequential model '

/home/qayyum/anaconda2/lib/python2.7/site-packages/keras/engine/topology.pyc in __call__(self, x, mask)
    527             # Raise exceptions in case the input is not compatible
    528             # with the input_spec specified in the layer constructor.
--> 529             self.assert_input_compatibility(x)
    530 
    531             # Collect input shapes to build layer.

/home/qayyum/anaconda2/lib/python2.7/site-packages/keras/engine/topology.pyc in assert_input_compatibility(self, input)
    462                                          str(K.ndim(x)))
    463                 else:
--> 464                     if K.ndim(x) != spec.ndim:
    465                         raise ValueError('Input ' + str(input_index) +
    466                                          ' is incompatible with layer ' +

/home/qayyum/anaconda2/lib/python2.7/site-packages/keras/backend/tensorflow_backend.pyc in ndim(x)
    406         return x._dims
    407 
--> 408     dims = x.get_shape()._dims
    409     if dims is not None:
    410         return len(dims)

AttributeError: 'function' object has no attribute 'get_shape'`