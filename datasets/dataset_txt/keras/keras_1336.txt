mclark4386 commented on 11 Jan 2018
Full code that I realize is incomplete, but shouldn't error out here. Cell code:
#Build Model
model = Sequential()

# pair up and border_mode becomes padding
# keras.layers.Conv2D(filters, kernel_size, strides=(1, 1), padding='valid', data_format=None, dilation_rate=(1, 1), activation=None, use_bias=True, kernel_initializer='glorot_uniform', bias_initializer='zeros', kernel_regularizer=None, bias_regularizer=None, activity_regularizer=None, kernel_constraint=None, bias_constraint=None)

model.add(Conv2D(6,(5,5), input_shape=(1, img_rows, img_cols, ), padding='same'))
model.add(Activation("relu"))
model.add(MaxPooling2D(pool_size=(2,2)))
model.add(Conv2D(16,(5,5), padding='same'))
model.add(Activation("relu"))
model.add(MaxPooling2D(pool_size=(2,2)))
model.add(Conv2D(120,(5,5)))
model.add(Activation("relu"))
model.add(Dropout(0.25))

model.add(Flatten())
model.add(Dense(84))
model.add(Activation("relu"))
model.add(Dropout(0.5))
model.add(Dense(10))
model.add(Activation("softmax"))
Full error this is giving me:
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-43-69b68105b6b4> in <module>()
     16 
     17 model.add(Flatten())
---> 18 model.add(Dense(84))
     19 model.add(Activation("relu"))
     20 model.add(Dropout(0.5))

~/anaconda3/lib/python3.6/site-packages/keras/models.py in add(self, layer)
    487                           output_shapes=[self.outputs[0]._keras_shape])
    488         else:
--> 489             output_tensor = layer(self.outputs[0])
    490             if isinstance(output_tensor, list):
    491                 raise TypeError('All layers in a Sequential model '

~/anaconda3/lib/python3.6/site-packages/keras/engine/topology.py in __call__(self, inputs, **kwargs)
    574                                          '`layer.build(batch_input_shape)`')
    575                 if len(input_shapes) == 1:
--> 576                     self.build(input_shapes[0])
    577                 else:
    578                     self.build(input_shapes)

~/anaconda3/lib/python3.6/site-packages/keras/layers/core.py in build(self, input_shape)
    828                                       name='kernel',
    829                                       regularizer=self.kernel_regularizer,
--> 830                                       constraint=self.kernel_constraint)
    831         if self.use_bias:
    832             self.bias = self.add_weight(shape=(self.units,),

~/anaconda3/lib/python3.6/site-packages/keras/legacy/interfaces.py in wrapper(*args, **kwargs)
     85                 warnings.warn('Update your `' + object_name +
     86                               '` call to the Keras 2 API: ' + signature, stacklevel=2)
---> 87             return func(*args, **kwargs)
     88         wrapper._original_function = func
     89         return wrapper

~/anaconda3/lib/python3.6/site-packages/keras/engine/topology.py in add_weight(self, name, shape, dtype, initializer, regularizer, trainable, constraint)
    395         if dtype is None:
    396             dtype = K.floatx()
--> 397         weight = K.variable(initializer(shape),
    398                             dtype=dtype,
    399                             name=name,

~/anaconda3/lib/python3.6/site-packages/keras/initializers.py in __call__(self, shape, dtype)
    210             limit = np.sqrt(3. * scale)
    211             return K.random_uniform(shape, -limit, limit,
--> 212                                     dtype=dtype, seed=self.seed)
    213 
    214     def get_config(self):

~/anaconda3/lib/python3.6/site-packages/keras/backend/theano_backend.py in random_uniform(shape, minval, maxval, dtype, seed)
   2247         seed = np.random.randint(1, 10e6)
   2248     rng = RandomStreams(seed=seed)
-> 2249     return rng.uniform(shape, low=minval, high=maxval, dtype=dtype)
   2250 
   2251 

~/anaconda3/lib/python3.6/site-packages/theano/sandbox/rng_mrg.py in uniform(self, size, low, high, ndim, dtype, nstreams, **kwargs)
    860                 raise ValueError(
    861                     "The specified size contains a dimension with value <= 0",
--> 862                     size)
    863 
    864         else:

ValueError: ('The specified size contains a dimension with value <= 0', (-1440, 84))
Any help would be great! Thanks!
Following completed:
[ * ] Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/keras-team/keras.git --upgrade --no-deps
If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found here.
[ * ] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
[ * ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).