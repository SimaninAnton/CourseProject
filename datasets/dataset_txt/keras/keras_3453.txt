eromoe commented on 17 Jan 2017 •
edited
There is Convolution1D example https://github.com/fchollet/keras/blob/master/examples/imdb_cnn.py without word2vec.
Current I am using gensim to train word2vec model.
I want to use word2vec and keras cnn to do document classifacation(Chinese Text ). I learned the basic flow of text classification in cnn and want to do a test.
For example(the steps I imagine):
Use a good Cinese Tokenized Text Set to train word2vec model
 model = gensim.models.Word2Vec(new_sentences, workers=10, size=200, min_count=2)
Tokenize my sentences dataset to words lists dataset(the longest sentence has over 8000 words, shortest is less 50)
 1     ['你们', '好', '今天', '天气', '真', '好']
 2     ['嗯', '对的']
 ...
 9999  ['好', '就', '这样']
Use a method to transform words lists dataset to word2vec dataset
transform every word in every sencence to a vec by trained model.
 1     [[word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200]]
 2     [[word2vec size=200], [word2vec size=200]]
 ...
 9999  [[word2vec size=200], [word2vec size=200], [word2vec size=200]]
Pad word2vec dataset (with size=200 zero array)
 1     [[word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200]]
 2     [[word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200]]
 ....
 9999  [[word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200], [word2vec size=200]]
go to the CNN (using Convolution2D)
I search for a long time, but can't find any way to do the step 3 ( after step 3, the parameter and layers setting in step 5 is hard to understand too). I am not limit to gensim word2vec , could keras provide a full example?
5