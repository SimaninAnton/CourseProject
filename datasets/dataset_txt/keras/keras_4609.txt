ruslanagit commented on 11 Aug 2016
The following code:
model = Model(input=a, output=b)
config = model.get_config()
restored_model = model_from_config(config)
Fails with an exception:
Traceback (most recent call last):
File "C:\Program Files (x86)\JetBrains\PyCharm 2016.2\helpers\pydev\pydevd.py", line 1556, in
globals = debugger.run(setup['file'], None, None, is_module)
File "C:\Program Files (x86)\JetBrains\PyCharm 2016.2\helpers\pydev\pydevd.py", line 940, in run
pydev_imports.execfile(file, globals, locals) # execute the script
File "C:\Program Files (x86)\JetBrains\PyCharm 2016.2\helpers\pydev_pydev_imps_pydev_execfile.py", line 18, in execfile
exec(compile(contents+"\n", file, 'exec'), glob, loc)
File "C:/Users/develop/code/ladder/test.py", line 41, in
model_recovered = model_from_config(config)
File "C:\Program Files\Dragonfly\Anaconda3\lib\site-packages\keras-1.0.7-py3.5.egg\keras\models.py", line 177, in model_from_config
return layer_from_config(config, custom_objects=custom_objects)
File "C:\Program Files\Dragonfly\Anaconda3\lib\site-packages\keras-1.0.7-py3.5.egg\keras\utils\layer_utils.py", line 25, in layer_from_config
class_name = config['class_name']
KeyError: 'class_name'
I have a fix for this, and will submit it as a pull request.
Please make sure that the boxes below are checked before you submit your issue. Thank you!
[v] Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
[v] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
[v] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).