twangnh commented on 7 Dec 2016 â€¢
edited
As proposed in #4594 , the problem of masking has been fixed in keras, does that mean I can use masking layer to construct a LSTM network which can be trained with variable-length sequences? for implementation, just pad the sequences with all 0s like:
X = np.zeros((len(mylist), MAXLEN, len(chars)), dtype=np.bool)
y = np.zeros((len(mylist), MAXLEN, len(chars)), dtype=np.bool)

for i, sentence in enumerate(mylist):
    for t in range(len(sentence)-Data_end):
        X[i, t, char_indices[sentence[t]]] = 1
        y[i, t, char_indices[sentence[t+1]]] = 1
where mylist is list of variable-length sequences, and then just use:
model.fit(X, y)
to train the network. Anyone can help me? Thanks very much!