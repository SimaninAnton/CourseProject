Contributor
kuza55 commented on 18 Sep 2016
It looks like commit 799bec6 did something to cause tests to fail.
I get this error when running tests with the TF backend using 0.10.0rc0:
py.test tests/keras/backend/test_backends.py
___________________________________________________________________________________________ ERROR collecting tests/keras/backend/test_backends.py ___________________________________________________________________________________________
tests/keras/backend/test_backends.py:8: in <module>
    from keras.backend import tensorflow_backend as KTF
keras/backend/tensorflow_backend.py:4: in <module>
    import tensorflow.contrib.ctc as ctc
/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/ctc/__init__.py:29: in <module>
    from tensorflow.contrib.ctc.ctc_ops import *
/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/ctc/ctc_ops.py:90: in <module>
    @ops.RegisterGradient("CTCLoss")
/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py:1606: in __call__
    _gradient_registry.register(f, self._op_type)
/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/registry.py:62: in register
    (self._name, name, function_name, filename, line_number))
E   KeyError: "Registering two gradient with name 'CTCLoss' !(Previous registration was in serve /usr/local/lib/python2.7/dist-packages/execnet/gateway_base.py:1534)"
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).
4