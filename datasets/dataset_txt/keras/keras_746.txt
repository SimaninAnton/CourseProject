Nandayang commented on 29 Sep 2018
I trained on 4 gpus with multi_gpu model and saved weights with callbacks ModelCheckpoint, but when i want to run the model on single gpu machines, it seems i can't load the weights in to singel model. which get error: you are trying to load a weight file containing 1 layers into a model with 100 layers.(my single model is 100 layers).
After that ,i did as below:
parallel_model,single_model = XXnet()
parallel_model.load_weights(multi_gpu_weights.hdf5)
single_model .save("singe.h5")
It seems ok and there's no error when i load the single.h5,but when i use this to predict something ,errors happened:
terminate called after throwing an instance of 'std::bad_alloc'
it seems the python core has dumped.
Really need help, thanks!
9