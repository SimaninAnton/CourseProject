ypxie commented on 9 Dec 2015
I have just updated my keras, and a lot of changes happened.
I am trying to find the mask, which is quite extensively used in older version .
like the following:
self.activation(x_t + mask_tm1 * T.dot(h_tm1, u))
In theano_backend.rnn
if masking:
# if all-zero input timestep, return
# all-zero output and unchanged states
switch = T.any(input)
output = T.switch(switch, output, 0. * output)
return_states = []
else:
return [output] + new_states
It seems to me T.any(input) is kind of fusing inputs of different samples. It is quite confusing to me. And what if the actual inputs do contain zeros? Can anyone help to point out what did I miss?