around1991 commented on 28 Jan 2016
Hi all
Is there a way to change the behaviour of RNNs with masking so that masked values output the most previous valid state rather than the zero vector? This means we can pad at the end of variable length sequences, which is a little bit easier than pre-padding. Also, it makes a forward-backward RNN model slightly easier to implement, which helps to implement some sequence-to-sequence stuff.
In addition, why is masking only applied if return_sequences is set as True? I can see why this is the sensible thing to do if padding values return 0 (as otherwise you'll just get 0's at the end), but if you return the most recent valid state I think there's a reasonable use case for masking to always be applied.
Thanks
Kris