King-Of-Knights commented on 22 Oct 2018 â€¢
edited
Hi there! I come across an unexpected problem when using model.evaluate_generator()with TensorFlow 1.11.0. My environment is Windows Server 2016, Python 3.6.5 and Keras 2.2.4. Traceback is as followed:
Traceback (most recent call last):
  File "C:/CNN/AlexNet.py", line 166, in <module>
    Val_acc = 100 * model.evaluate_generator(validation_generator)[1]
  File "C:\Users\Saber\Anaconda3\lib\site-packages\keras\legacy\interfaces.py", line 91, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\Saber\Anaconda3\lib\site-packages\keras\engine\training.py", line 1472, in evaluate_generator
    verbose=verbose)
  File "C:\Users\Saber\Anaconda3\lib\site-packages\keras\engine\training_generator.py", line 301, in evaluate_generator
    raise ValueError('`steps=None` is only valid for a generator'
ValueError: `steps=None` is only valid for a generator based on the `keras.utils.Sequence` class. Please specify `steps` or use the `keras.utils.Sequence` class.
model.evaluate_generator() works fine with TensorFlow 1.10.0 and TensorFlow 1.9.0
Any idea about this? Thanks!