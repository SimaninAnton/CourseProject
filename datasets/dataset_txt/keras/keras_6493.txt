Contributor
dbonadiman commented on 2 Nov 2015
This is not a bug but only a consideration. The dot merge mode as first intended was thinked to do a dot product between 1d tensors.
For that it works perfectly, however if we give the possibility to use 2D tensors in input and a dot-asxes we need to make some adjustment.
Giving the following tensors as input (None, 50, 100) and (None, 50, 2) and ([1], [1]) as dot-asxes the computed output shape is (None, 100) if we invert the order of the input is (None, 2) But the correct output shape are (None, 100, 2) and (None, 2, 100).
From that the function dimshuffle(0, 'x') will fail.
I'm here to reason about a possible solution (that can be a simple check that the two shape are equal) and directly limit the api potential.
The first Naive solution is to correctly compute the output_shape by concatenating all the dimension excluding the "dotted_ones" and using the reshape function instead of the dim shuffle 'don't know about the last change so i ask for suggestion'.