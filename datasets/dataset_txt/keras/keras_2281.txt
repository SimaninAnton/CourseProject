ghost commented on 27 May 2017
Max file description error occurred and I found this: #4533.
I've checked the keras version and it's 2.0.4.
The 'self.writer.close()' is being called properly but the file descriptor has not been closed.
For every loop a new writer is created and to prevent this, I temporarily avoid it like this:
if self.write_graph:
    if hasattr(self, 'writer'):
        self.writer.reopen()
    else:
        self.writer = tf.summary.FileWriter(self.log_dir, self.sess.graph)
else:
    if hasattr(self, 'writer'):
        self.writer.reopen()
    else:
        self.writer = tf.summary.FileWriter(self.log_dir)
I think this problem needs of further debugging.