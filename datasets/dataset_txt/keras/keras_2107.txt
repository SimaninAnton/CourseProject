jialee93 commented on 20 Jun 2017 â€¢
edited
When we define our own loss function in keras2, such as :
Define the smooth L1 loss
def l1_smooth_loss(y_true, y_pred):
x = K.abs(y_true - y_pred)
x = tf.where(tf.less(x, 1.0), 0.5 * x ** 2, x - 0.5)
return K.sum(x, axis=-1)
Dose the loss function return a scalar or a tensor of shape (batch_size? , dimension_per_sample_reduce_to_1)?
In keras losses.py, the defined losses return a tensor, but in the example document, the defined losses return a scalar.