ayush1999 commented on 23 Jan 2018
Running:
from sklearn import datasets
from keras.models import Sequential
from keras.layers import Dense

iris = datasets.load_iris()

x = iris.data
y = iris.target

model = Sequential()
model.add(Dense(8, input_dim=4, activation='relu'))
model.add(Dense(8, activation='relu'))
model.add(Dense(8, activation='relu'))
model.add(Dense(1, activation='sigmoid'))

model.compile(loss='binary_crossentropy',
     optimizer='adam', metrics=['accuracy'])
model.fit(x, y, batch_size=15, epochs=150)
scores = model.evaluate(x, y)
model.save('modd.hdf5')
and then(running it in the same directory):
>>> from keras.models import load_model
       Using TensorFlow backend.
>>> model = load_model('modd.hdf5')
Gives:
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/ayush99/anaconda3/lib/python3.6/site-packages/keras/models.py", line 227, in load_model
    with h5py.File(filepath, mode='r') as f:
  File "/home/ayush99/anaconda3/lib/python3.6/site-packages/h5py/_hl/files.py", line 271, in __init__
    fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)
  File "/home/ayush99/anaconda3/lib/python3.6/site-packages/h5py/_hl/files.py", line 101, in make_fid
    fid = h5f.open(name, flags, fapl=fapl)
  File "h5py/_objects.pyx", line 54, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/h5py_1490028290543/work/h5py/_objects.c:2846)
  File "h5py/_objects.pyx", line 55, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/h5py_1490028290543/work/h5py/_objects.c:2804)
  File "h5py/h5f.pyx", line 78, in h5py.h5f.open (/home/ilan/minonda/conda-bld/h5py_1490028290543/work/h5py/h5f.c:2123)
OSError: Unable to open file (Unable to open file: name = 'model.h5', errno = 2, error message = 'no such file or directory', flags = 0, o_flags = 0)
>>> model = load_model('modd.h5')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/ayush99/anaconda3/lib/python3.6/site-packages/keras/models.py", line 227, in load_model
    with h5py.File(filepath, mode='r') as f:
  File "/home/ayush99/anaconda3/lib/python3.6/site-packages/h5py/_hl/files.py", line 271, in __init__
    fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)
  File "/home/ayush99/anaconda3/lib/python3.6/site-packages/h5py/_hl/files.py", line 101, in make_fid
    fid = h5f.open(name, flags, fapl=fapl)
  File "h5py/_objects.pyx", line 54, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/h5py_1490028290543/work/h5py/_objects.c:2846)
  File "h5py/_objects.pyx", line 55, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/h5py_1490028290543/work/h5py/_objects.c:2804)
  File "h5py/h5f.pyx", line 78, in h5py.h5f.open (/home/ilan/minonda/conda-bld/h5py_1490028290543/work/h5py/h5f.c:2123)
OSError: Unable to open file (Unable to open file: name = 'modd.h5', errno = 2, error message = 'no such file or directory', flags = 0, o_flags = 0)
>>> 
Can someone tell me why is this happening? Also, whenever I say model.save('model.hdf5') , where does this HDF5 file get stored?
1