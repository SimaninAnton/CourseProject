Possible bug in sign function