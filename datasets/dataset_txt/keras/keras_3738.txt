ink1 commented on 8 Dec 2016
Is it a known issue that Theano backend does not return layer output_shape?
Using Theano backend.
Model loaded.
input_1 (None, 3, None, None)
block1_conv1 (None, 64, None, None)
...
No problem with Tensorflow.
Using TensorFlow backend.
Model loaded.
input_1 (3, 400, 400, 3)
block1_conv1 (3, 400, 400, 64)
...
Here is an example to verify
https://gist.github.com/ink1/eeb47f06d4726ae1c9674779d097e763
which is based on
https://github.com/fchollet/keras/blob/master/examples/neural_style_transfer.py
The difference is essentially
45a46
> import sys
125a127,134
> 
> shape_dict = dict([(layer.name, layer.output_shape) for layer in model.layers])
> 
> for layer in model.layers:
>     s = shape_dict[layer.name]
>     print( layer.name, s )
> 
> sys.exit(0)