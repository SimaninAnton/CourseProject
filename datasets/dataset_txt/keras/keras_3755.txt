pswpswpsw commented on 6 Dec 2016 â€¢
edited
Problem configuration
using tensorflow as backed.
computer with 1GPU card and 12 CPUs
not distributed learning over cluster
with only one session, use GPU or use CPUs. Not using both of them at any time.
Way to force keras calling tensorflow in GPU or CPUs
run keras in CPU
with tf.device(/cpu:0)
run keras in GPU
I don't write anything, let everything be as default. So since I install tensorflow in GPU version. It should assume default using GPU.
with tf.device(/gpu:0)
This undocumented trick works for me so far. However, since keras is a blackbox to me, while tensorflow is more structured and clear, I feel there should be an improvement for keras to better control the CPU/GPU device with in keras. I know we could just use keras as simplified tensorflow layer constructor. Thus it is possible to run everything under framework of tensorflow rather than living in the world of keras.
Comment:
If you have alternative ways to force keras be used in CPU or GPU, please comment below and let everyone else know.
Best,
Shaowu
2