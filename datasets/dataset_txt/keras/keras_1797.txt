phillyfan1138 commented on 5 Aug 2017 â€¢
edited
I'm running a pretty standard neural net on the Kaggle Lending Club data dataset (https://www.kaggle.com/wendykan/lending-club-loan-data). I've created a custom generator for the data which wraps the sqlite connection.
However, the generator keeps throwing an error "too man indices for array". I take this to mean that for whatever reason fit_generator is calling the generator too many times and trying to access data that isn't available. I've tried with 10 steps per epoch and 10 epochs as well as 100 steps per epoch and 1 epoch. The generator returns 1000 samples for each "next" call. I have 100000 samples total.
When doing 100 steps per epoch and 1 epoch, the step where the error occurred was variable. Sometimes it was at step 96, 98, or 99.
When I call the generator as a test outside of fit_generator it works as expected.
My code: https://github.com/phillyfan1138/tensorflow_tests/blob/d47585cc2d7ad97031c7cc4b4a056eec7a9c21e6/kaggleTrain.py