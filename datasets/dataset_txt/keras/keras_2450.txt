kutoga commented on 8 May 2017
Hello
I have two combined model which I train. The output is always a binary number, because I do some kind of classification. For this reason i use binary_crossentropy for the loss and binary_accuracy as a metric.
Somewhen I do some training:
            print("Train model: {}".format(model.name))
            hist = model.fit(nw_input, nw_output, verbose=2, batch_size=batch_size)

            my_acc = np.mean(np.round(model.predict(nw_input)) == nw_output)
            print("MyBinaryAccuracy:                              {:.4f}".format(my_acc))
The interesting thing is now the generated output:
Epoch 1/1
2s - loss: 0.0772 - binary_accuracy: 1.0000
MyBinaryAccuracy:                              0.3125
As may be seen the "binary_accuracy" is completely different from my calculated binary accuracy. Another interesting fact is that "model.evaluate(nw_input, nw_output)" returns "[0.702..., 0.3125]". This looks right.
I use tensorflow as backend. Maybe someone has an idea what I am doing wrong?
Thank you very much