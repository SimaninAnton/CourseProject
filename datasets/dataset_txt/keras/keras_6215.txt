poojaramesh commented on 23 Dec 2015
I'm working on a CNN with the following architecture:
[ConvolutionLayer(64, 3, 3)
ConvolutionLayer(64, 3, 3)
PoolingLayer(2,2)] x 2
Flatten()
Dense(256)
Dense(number_of_classes)
This runs fine using model.fit without memory issues for an input of size (50000,3,100,100) (batch_size = 256)
When I change it to model.train_on_batch and manually feed in batches, I get a memory allocation error.
(My true dataset consists of 650,000 images of size 100x100px)
Could you give me more information on how to use train_on_batch. Are there any assumptions made by this method regarding the data?
What is the order in calling train_on_batch? (model.compile -> model.train_on_batch -> model.test_on_batch). Does fit need to be called?
Thank you.