mfxss commented on 10 May 2017 â€¢
edited
def g():
    f_train=open('train.txt','r')
    f_label=open('type_train.txt','r')
    train=[]
    label=[]
    count=0
    num=0
    for i,j in zip(f_train,f_label):
        
        train.append(np.array(i.strip().split(',')))
        label.append(np.array(j.strip().split()))
        count+=1
        if count==200 :
            count=0
            
            train=np.array(train,int)
            train=pad_sequences(train,140)
            label=np.array(label,int)
            yield (train,label)
            num+=1
            train=[]
            label=[]
        if num==19000:
            break
    f_train.close()
    f_label.close()
Is there anything wrong with the generator? After traing a while it got killed.