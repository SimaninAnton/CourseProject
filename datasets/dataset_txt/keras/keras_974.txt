shivam05011996 commented on 12 Jun 2018 â€¢
edited
I am getting a InvalidArgumentError while implementing custom loss function as-
InvalidArgumentError (see above for traceback): Incompatible shapes: [5] vs. [32]
         [[Node: training/Adam/gradients/loss/dense_11_loss/mul_grad/BroadcastGradientArgs = BroadcastGradientArgs[T=DT_INT32, _class=["loc:@training/Adam/gradients/loss/dense_11_loss/mul_grad/Reshape"], 
_device="/job:localhost/replica:0/task:0/device:GPU:0"](training/Adam/gradients/loss/dense_11_loss/mul_grad/Shape, training/Adam/gradients/loss/dense_11_loss/mul_grad/Shape_1)]]
         [[Node: loss/mul/_199 = _Recv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device_incarnat
ion=1, tensor_name="edge_1145_loss/mul", tensor_type=DT_FLOAT, _device="/job:localhost/replica:0/task:0/device:CPU:0"]()]]
My custom loss function -
def _euclidean_dis_loss(self, y_true, y_pred):
    return K.sqrt(K.sum(K.square(y_pred - y_true), axis=0))
Number of dimension in a vector = 5
Batch Size = 32
But when i change the axis to -1, it works perfectly.
Any help or comment appreciated.