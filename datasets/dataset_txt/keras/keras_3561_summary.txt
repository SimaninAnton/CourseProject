Best way to implement model to find unified representation according to provided logic.