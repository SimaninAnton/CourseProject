dp225 commented on 12 Jul 2017 â€¢
edited
I'm trying to run the following simple bit of code to generate augmented data, but I come across the following error:
X_batch, y_batch = datagen.flow(x_train, y_train, batch_size=16)
Traceback (most recent call last):
File "", line 1, in
X_batch, y_batch = datagen.flow(x_train, y_train, batch_size=16)
ValueError: too many values to unpack
I'm running tensorflow-GPU backend
I've searched for the issue, but cannot find a solution. Any ideas?!
Thanks
from keras.datasets import mnist
from keras.preprocessing.image import ImageDataGenerator

(x_train, y_train), (x_test, y_test) = mnist.load_data()
x_train = x_train.reshape(x_train.shape[0], 28, 28,1)
x_test = x_test.reshape(x_test.shape[0], 28, 28,1)
x_train = x_train.astype('float32')
x_test = x_test.astype('float32')
datagen = ImageDataGenerator(width_shift_range=0.1,  height_shift_range=0.1)
X_batch, y_batch = datagen.flow(x_train, y_train, batch_size=16)
Update: flow returns an iterator (see below). The last line therefore needs to be changed to X_batch, y_batch = next(datagen.flow(x_train, y_train, batch_size=16))