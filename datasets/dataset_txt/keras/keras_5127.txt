shiretzet commented on 23 May 2016
Hi,
I have two outputs, Rtrain, Gtrain and the following code:
        Col_Model.compile(optimizer=self.optimizer,
                              loss={'Red_out': 'categorical_crossentropy',
                                    'Green_out': 'categorical_crossentropy'},
                              metrics={'Red_out': 'accuracy',
                                       'Green_out': 'accuracy'})
............

        Col_Model.fit({'input_img':self.X1train[:-self.extra]},
                          {'Red_out':self.Rtrain[:-self.extra],
                           'Green_out':self.Gtrain[:-self.extra]},
                  batch_size=10, nb_epoch=3, verbose=1)
But i get the following error:
Exception: Error when checking model target: expected Green_out to have shape (10, 30, 31, 256) but got array with shape (350, 30, 31, 256)
(350 is the number of samples!)
But when i apply only one output, it works:
        Col_Model.compile(optimizer=self.optimizer,
                              loss={'Red_out': 'categorical_crossentropy'},
                              metrics={'Red_out': 'accuracy'})
............

        Col_Model.fit({'input_img':self.X1train[:-self.extra]},
                          {'Red_out':self.Rtrain[:-self.extra]},
                  batch_size=10, nb_epoch=3, verbose=1)
maybe it do batch only for one output?!?!