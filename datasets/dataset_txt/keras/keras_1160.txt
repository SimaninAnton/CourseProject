dddzg commented on 17 Mar 2018 â€¢
edited
there is a key part of my code.(the weights file is downloaded from url in the source code)
from keras.applications import Xception
cnn_model = Xception(include_top=False, input_shape=(width, width, 3), weights=None)
cnn_model.load_weights('./xception_weights_tf_dim_ordering_tf_kernels_notop.h5')
it works alright, and loss is good.
However,when I only modify the last line of code to
cnn_model.load_weights('./xception_weights_tf_dim_ordering_tf_kernels_notop.h5',by_name=True)
there is no error or any warning,however, ths loss is much worse than before(just like random initial).
I suspect whether the parameter by_name=True works right.is this a bug or just my fault?
(I am going to modify the Xception structure and use pre-trained weights.So,i try this code.