lixiaosi33 commented on 19 Jan 2017
1. cifar8 = Input(name='cifar8',shape=(8,8,3),dtype='float32')
2. inner = Flatten()(cifar8)
3. en = Dense(1,activation='relu')(inner)
4. patch = Input(shape=(8,8,9),dtype='float32')
5. m = merge([en, patch], mode= scaleMult, output_shape = (None,8,8,9))
6. inner = Convolution2D(32, 3, 3, border_mode='same',activation='relu')(m2)
The function scaleMult means that the one element tensor 'en' multiply the 8×8×9 tensor 'patch'.
Of course, I should construct multiplication between 32*1 tensor 'en' and 32×8×8×9 tensor 'patch' when training in 32 size batch.
But there always shows the error 'fan_in = shape[1] * receptive_field_size TypeError: unsupported operand type(s) for *: 'NoneType' and 'int'' at the Convolution2D step.
1