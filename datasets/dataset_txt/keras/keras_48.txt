Contributor
GregoryMorse commented on 30 Sep 2019
Describe the current behavior
If an interruption occurs after training starts and before training ends, a file handle will be leaked, such as a Ctrl+C KeyboardInterupt.
Describe the expected behavior
A destructor should implement the required behavior. Then implementors should use with CSVLogger() as csv_logger: syntax
Code to reproduce the issue
Any code using CSVLogger will do, and a simple Ctrl+C. Even error handling code could at best call on_train_end() which is awkward.
Other info / logs
The source code here makes the leak easy to identify: https://github.com/keras-team/keras/blob/master/keras/callbacks/callbacks.py#L1071