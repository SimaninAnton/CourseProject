alrawi commented on 16 Mar 2017 â€¢
edited
Please make sure that the boxes below are checked before you submit your issue. If your issue is an implementation question, please ask your question on StackOverflow or join the Keras Slack channel and ask there instead of filing a GitHub issue.
Thank you!
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found here.
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).
I have the following sample code:
https://gist.github.com/alrawi/0f6ce637d2955ab2e9c0d4b69509f5de
I cannot get BatchNormalization to be placed on GPU. My model fits on the GPU, but for BatchNormalization I get the following warning:
WARNING:tensorflow:Tried to colocate gradients_2/batch_normalization_3/moments/sufficient_statistics/count_grad/Rank with an op batch_normalization_3/moments/sufficient_statistics/count that had a different device: /device:CPU:0 vs /device:GPU:2. Ignoring colocation property.
I am suspecting that this is a type problem, since most GPUs don't support 64 bit operations. Here is some information about my system, I have 3 GPUs, device two is shown below:
NVIDIA-SMI 367.48 Driver Version: 367.48 GeForce GTX TITAN
Suggestions?
4