Schiboni commented on 14 Nov 2018
Hi, as said in the title, if set use_multiprocessing=True while using fit_generator and keras.utils.Sequence the code get stuck and the gpu activity remains at 0%. No errors are shown.
I am using keras 2.2.2 in Ubuntu 18.04.1 LTS.
I am seeing the displayed information:
2018-11-14 11:10:27.834657: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-11-14 11:10:28.009869: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties:
name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.7335
pciBusID: 0000:02:00.0
totalMemory: 7.93GiB freeMemory: 7.81GiB
2018-11-14 11:10:28.163209: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 1 with properties:
name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.7335
pciBusID: 0000:03:00.0
totalMemory: 7.93GiB freeMemory: 7.81GiB
2018-11-14 11:10:28.164488: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Device peer to peer matrix
2018-11-14 11:10:28.164532: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1126] DMA: 0 1
2018-11-14 11:10:28.164542: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1136] 0: Y Y
2018-11-14 11:10:28.164549: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1136] 1: Y Y
2018-11-14 11:10:28.164561: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:02:00.0, compute capability: 6.1)
2018-11-14 11:10:28.164569: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: GeForce GTX 1080, pci bus id: 0000:03:00.0, compute capability: 6.1)