`fit_generator` and `train_on_batch` are not well documented and do not work with variable-size inputs