masking problem when output length is different from input