JethroCooper commented on 15 Jun 2017
On Keras 2.0.5 the following should should finish with a True assertion, but does not. I believe the fix would simply updating the model (or the path) referenced in xception.py. I have not checked the other models in the application directory or the models with the top layer included.
from keras.applications.xception import Xception
from keras.utils import get_file

weights_path_no_top = 'https://github.com/fchollet/deep-learning-models/releases/download/v0.4/xception_weights_tf_dim_ordering_tf_kernels_notop.h5'
trained_weights_path = get_file('xception_weights_tf_dim_ordering_tf_kernels_notop.h5',
                                weights_path_no_top,
                                cache_subdir='models')

keras_xception_name_weights = Xception(include_top=False, input_shape=(299, 299, 3), weights=None)
keras_xception_name_weights.load_weights(trained_weights_path, by_name=True)
nw = keras_xception_name_weights.get_weights()

keras_xception_topology_weights = Xception(include_top=False, input_shape=(299, 299, 3), weights=None)
keras_xception_topology_weights.load_weights(trained_weights_path, by_name=False)
tw = keras_xception_topology_weights.get_weights()

assert nw[0][0][0] == tw[0][0][0]