wjbianjason commented on 29 Mar 2017
My idea is as follow
question = Input(shape=(enc_timesteps,), dtype='int32', name='question_base')
answer_good = Input(shape=(dec_timesteps,), dtype='int32', name='answer_good_base')
answer_bad = Input(shape=(random_size,dec_timesteps,), dtype='int32', name='answer_bad_base')
good_sim = basic_model([question,answer_good])
bad_sim_list = [basic_model([question,bad_answer_single]) for bad_answer_single in keras.unpack(bad_answer)] 
# NOTICE!!! I want to know how to realize keras.unpack
assert len(bad_sim_list) == random_size
bad_sim = merge(bad_sim_list,mode="sum")
Thanks for everybody's reply.