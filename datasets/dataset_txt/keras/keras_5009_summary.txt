implement support for multiple gpus in theano