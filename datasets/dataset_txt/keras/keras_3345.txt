wsstriving commented on 29 Jan 2017
Hello, everyone,
Recently I wanted to build a network as following
Input --> sequence padding and masking 0 --> LSTM (return_sequence=True) --> Timedistributed(Dense(outputnumber, softmax)), but an error of mismatched dimension was reported.
  # Model definition
  model = Sequential()
  model.add(Masking(mask_value=0., input_shape=(None,100)))
  model.add(LSTM(args.dimension, dropout_W=0.2, dropout_U=0.2, return_sequences=True)) 
  model.add(TimeDistributed(Dense(97, activation='softmax')))
The error is as :
ValueError: Error when checking model target: expected timedistributed_1 to have 3 dimensions, but got array with shape (3000, 97)
The dataset has 3000 sequences as input.
Thanks.
1