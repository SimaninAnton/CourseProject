lllyasviel commented on 12 May 2017 â€¢
edited
I am familiar with torch but new to Keras. Recently I have to implement a custom layer in Keras but I can not find a way to implement the "backward function", such as "updateGradInput" in Torch. When I write a custom layer the only thing I can modify is "def call(self, x)" for forward predict.
Maybe this is a simple problem. But is has already confused me for more than two weeks. The deadline of our project is approaching.
Thank you very much!
For example, if I write a custom layer in torch with a "updateGradInput", which always return a matrix filled with zero, then all layers below to the custom layer will not get any gradient. However, I can not find a way to write custom "updateGradInput" in Keras.
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found here.
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).