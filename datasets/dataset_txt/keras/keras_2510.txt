IvanGoenawan commented on 30 Apr 2017
Here's the code in question:
shapes = [K.get_variable_shape(p) for p in params]
moments = [K.zeros(shape) for shape in shapes]
self.weights = [self.iterations] + moments
for p, g, m in zip(params, grads, moments):
    v = self.momentum * m - lr * g  # velocity
    self.updates.append(K.update(m, v))
For the life of me I can't understand how that v is not always equal to -lr*g, since m is always just zero. The code for K.update(m,v) also only returns (m,v) without doing anything (in Theano backend). This guy seems to have figured it out #758 , but I can't. I know that we're dealing with tensors and stuffs, but that m is just zeros and is not a function of anything right? Could someone please enlighten me on this matter?