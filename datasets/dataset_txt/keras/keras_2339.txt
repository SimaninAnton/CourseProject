tkikuike commented on 19 May 2017
I guess return type of custom metrics is changed, and document is not updated.
in keras/docs/templates/metrics.md
The function would need to take (y_true, y_pred) as arguments and return a single tensor value.
and in keras/keras/engine/training.py
# score_array has ndim >= 2
       score_array = fn(y_true, y_pred)