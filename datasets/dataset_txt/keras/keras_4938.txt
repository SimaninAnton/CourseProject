benwu232 commented on 20 Jun 2016
Hi,
I'm now using keras 1.0.4 + tensorflow 0.8. In my tensorboard, I can see accuracy, loss in 'events' tab, but the 'histograms' tab is always empty.
I'm using fit_generator, here is the code:
tensorboard = keras.callbacks.TensorBoard(log_dir=mydir.tb_log, histogram_freq=1, write_graph=True)
history = self.model.fit_generator(train_generator, samples_per_epoch=samples_per_epoch,
nb_epoch=pars['nb_epoch'],
verbose=2,
callbacks=[tensorboard],
validation_data=validate_generator, nb_val_samples=nb_val_samples,
class_weight=pars['class_weight'])
I debugged into _set_model in callbacks.py, at about line 455, I get variables like below:
layer: <keras.layers.core.Dense object at 0x7f668c8a74d0>
'{}_W'.format(layer): '<keras.layers.core.Dense object at 0x7f668c8a74d0>_W'
'{}_b'.format(layer): '<keras.layers.core.Dense object at 0x7f668c8a74d0>_b'
'{}_out'.format(layer): '<keras.layers.core.Dense object at 0x7f668c8a74d0>_out'
Are these right? I think 'layer' should be a string, but here it is an object. I saw fig_generator has some issues with tensorboard, are them solved?
Thanks a lot!