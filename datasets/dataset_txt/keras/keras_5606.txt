elanmart commented on 1 Apr 2016
The docs for fit method of a Model say
y: labels, as a numpy array.
It's unclear, however, wheter i should be a vector of ints or one-hot matrix.
Perhaps one should mention that there exists np_utils.to_categorical(y)?
Also, the following code will fail on Theano but not on Tensorflow backend.
import numpy as np
import numpy.random as nr

from keras.utils import np_utils
from keras.layers.core import Layer, Dense, Dropout
from keras.layers.normalization import BatchNormalization
from keras.models import Sequential

X = np.random.randn(10000, 500)
y = np.random.randint(0, 64, size=(10000, 1))

test = Sequential()
test.add(Layer(input_shape=(500, )))

test.add(Dense(1024, activation='relu'))
test.add(Dropout(0.5))
test.add(BatchNormalization())

test.add(Dense(64, activation='softmax'))

test.compile('adam', 'categorical_crossentropy')
test.fit(X, y)
1