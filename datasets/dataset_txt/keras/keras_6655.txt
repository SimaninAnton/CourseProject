Contributor
grahamannett commented on 16 Sep 2015
I think I completely understand why this doesn't work (and I am attempting to make a better visualizer for keras than current one which uses pydot), but was wondering if this is something anyone thinks is relevant:
from keras.layers.core import Dense, Activation
from keras.utils.dot_utils import Grapher
from keras.models import Graph
graph = Graph()
graph.add_input(name='input', ndim=2)
graph.add_node(Dense(32, 16), name='dense1', input='input')
graph.add_node(Dense(32, 4), name='dense2', input='input')
graph.add_node(Dense(16, 4), name='dense3', input='dense1')
graph.add_output(name='output1', input='dense2')
graph.add_output(name='output2', input='dense3')
grapher = Grapher()
grapher.plot(graph, 'graph.png')


AttributeError                            Traceback (most recent call last)
<ipython-input-11-83ed46142968> in <module>()
----> 1 grapher.plot(graph, 'graph.png')

/Users/graham/.virtualenvs/niche/lib/python3.4/site-packages/keras/utils/dot_utils.py in plot(self, model, to_file)
     50         """
     51         graph = pydot.Dot(graph_type='graph')
---> 52         self.add_model(model, graph)
     53         graph.write_png(to_file)

/Users/graham/.virtualenvs/niche/lib/python3.4/site-packages/keras/utils/dot_utils.py in add_model(self, model, graph, parent)
     36         if isinstance(model, Model):
     37             parent = self.add_edge(parent, this, graph)
---> 38             for child in reversed(model.layers):
     39                 parent = self.add_model(child, graph, parent)
     40         elif isinstance(model, Merge):

AttributeError: 'Graph' object has no attribute 'layers'
i don't think it's crazy to add a visualization ability to the Graph() models as in this: https://github.com/google/inception/blob/master/inception.ipynb
on output[3] there is a visualization of a DNN that I believe is what a Graph() model could potentially look like?