omaghsoudi commented on 27 Aug 2019
Please make sure that this is a Bug or a Feature Request and provide all applicable information asked by the template.
If your issue is an implementation question, please ask your question on StackOverflow or on the Keras Slack channel instead of opening a GitHub issue.
System information
Have I written custom code (as opposed to using example directory): The code does training a Resnet using Keras pretrained model.
OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Centos (Cluster)
TensorFlow backend (yes / no): Yes
TensorFlow version: tensorflow-gpu==1.12.0
Keras version: Keras==2.2.4
Python version: 3.6
CUDA/cuDNN version: 9.0
GPU model and memory: P100, 12GB
Describe the current behavior
I have written a Keras code with using the ResNet50 architecture which is available in Keras pretrained models. My training dataset is huge (70K 512*512 images). The network can be trained with no problem for a while (sometimes a week, sometimes for two weeks, and it can happen on different epochs); but it suddenly crashes with no error.
The code, dataset, and system remain intact while the code working.
Also, I am saving the weights for each epoch and printing the log of training for each batch which does not show any failure.
I run everything on UPenn cluster and I have talked with our cluster admin; he mentioned there is no error recorded on the cluster side. Since, this has happened a couple of time, he suggested me to contact you to check if you have seen such behavior from Keras models?
If not, can you please help us if there is any way in the Keras training procedure to check the followings:
stack size
working set size
number of open files
the name of each function or sub-routine as it is called -- to see if the program always exits from the same place
internal information about the variables & data structures within your program
I can print all these from python but I do not know how to do that while my network is being trained.
Please let me know if you can help.
Bests,
Omid