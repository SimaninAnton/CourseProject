Custom loss with multiple model outputs