sfhmzpig commented on 11 Dec 2018
train code:
if not self.valid:
for i in range(self.trainEpochNum):
m.fit_gen(D,2,epochs=1)
m.save_weights(self.saveWeight+'.'+str(i))
m.save(self.saveWeight+'.model.'+str(i))
loadBatch code:
zippedFilePaths = itertools.cycle(zip(imgFilePaths,segFilePaths))
    while True:
        X = []
        Y = []

        for _ in range(self.batchSize):
            imgFilePath,segFilePath = next(zippedFilePaths)
            X.append(self._loadImg(imgFilePath))
            Y.append(self._loadSeg(segFilePath))


        yield np.array(X),np.array(Y)
Finaly:raise error:
1/2 [==============>...............] - ETA: 22s - loss: 2.2296 - acc: 0.0408Traceback (most recent call last):
File "/Users/mba/PycharmProjects/vggUnet/train.py", line 75, in
trainner.train()
File "/Users/mba/PycharmProjects/vggUnet/train.py", line 69, in train
m.fit_generator(D,2,validation_data=D1,validation_steps=200,epochs=1)
File "/Users/mba/tensorflow/lib/python3.6/site-packages/tensorflow/python/keras/engine/training.py", line 1761, in fit_generator
initial_epoch=initial_epoch)
File "/Users/mba/tensorflow/lib/python3.6/site-packages/tensorflow/python/keras/engine/training_generator.py", line 211, in fit_generator
max_queue_size=max_queue_size)
File "/Users/mba/tensorflow/lib/python3.6/site-packages/tensorflow/python/keras/engine/training_generator.py", line 308, in evaluate_generator
generator_output = next(output_generator)
File "/Users/mba/tensorflow/lib/python3.6/site-packages/tensorflow/python/keras/utils/data_utils.py", line 816, in get
raise StopIteration()
StopIteration
it is can not finish my train