wl3b10s commented on 17 Jan 2019
when defining a custom loss function, i want to:
operate the input y_pred tensor with numpy
process the input y_pred tensor to a external binary execution and get a result
demo code like below:
def mse_my_loss(y_true,y_pred):
Q1 = K.mean(K.square(y_pred - y_true), axis=-1)    
y_in = y_pred.numpy() 
file_wave = './tools/data.raw'
librosa.output.write_wav(file_wave, y_pred, 16000)
CMD = './tools/EVAL +16000 ' + file_wave
os.system(CMD)    
loss = readresult() 
return Q1 + loss  
whether it's feasible to achieve this?
Or only keras or backend function can be used in a customed loss function to let keras perform automatic gradient calculation on tensorï¼Ÿ
thanks a lot.