dhariyalbhaskar commented on 18 Oct 2017
I am trying to collect intermediate layer output for imdb_cnn.py file. I need to work on high dimensional dataset, but when I try to collect for above dimension i.e 400 I get the following error, but it works fine with dimension like 40.
def get_activations(model, layer, X_batch):
    get_activations = K.function([model.layers[0].input, K.learning_phase()], [model.layers[layer].output,])
    activations = get_activations([X_batch,1])
    return activations
import numpy as np
X_train=np.array(get_activations(model=model,layer=8, X_batch=x_train)[0], dtype=np.float32)
print(X_train)
ResourceExhaustedError                    Traceback (most recent call last)
<ipython-input-23-49b663c22e29> in <module>()
      1 import numpy as np
----> 2 X_train=np.array(get_activations(model=model,layer=8, X_batch=x_train)[0], dtype=np.float32)
      3 print(X_train)