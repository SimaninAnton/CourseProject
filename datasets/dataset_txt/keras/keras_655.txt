srigv commented on 31 Oct 2018
hello,
I see an issue with TimeSeriesGenerator for Python 2.7 but the same code works for Python 3.6.
Here are the keras and dependencies versions that I have.
tensorflow 1.11.0
Keras 2.2.2
Keras-Applications 1.0.6
Keras-Preprocessing 1.0.5
I am using the following code to test the TimeseriesGenerator
data = np.arange(0,100).reshape(-1,1)
data_gen = TimeseriesGenerator(data, data, length=WINDOW_LENGTH,
                               sampling_rate=1, batch_size=1)


data_dim = 1
input1 = Input(shape=(WINDOW_LENGTH, data_dim))
lstm1 = LSTM(100)(input1)
hidden = Dense(20, activation='relu')(lstm1)
output = Dense(data_dim, activation='linear')(hidden)

model = Model(inputs=input1, outputs=output)
model.compile(loss='mse', optimizer='rmsprop', metrics=['accuracy'])

model.fit_generator(generator=data_gen,
                    steps_per_epoch=32,
                    epochs=10)
here is the stacktrace.
TypeErrorTraceback (most recent call last)
<ipython-input-55-ad7e35e8fffd> in <module>()
     16 model.fit_generator(generator=data_gen,
     17                     steps_per_epoch=32,
---> 18                     epochs=10)

/usr/lib/python2.7/site-packages/keras/legacy/interfaces.pyc in wrapper(*args, **kwargs)

/usr/lib/python2.7/site-packages/keras/engine/training.pyc in fit_generator(self, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)

/usr/lib/python2.7/site-packages/keras/engine/training_generator.pyc in fit_generator(model, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)

/usr/lib/python2.7/site-packages/keras/utils/data_utils.pyc in get(self)

/usr/lib/python2.7/site-packages/keras/utils/data_utils.pyc in _data_generator_task(self)

TypeError: TimeseriesGenerator object is not an iterator