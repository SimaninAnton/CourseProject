PankajBalani commented on 2 May 2017
I have a very strange issue here:
I have a flask app - where I have the following code in a route
with graph.as_default():
prediction = cnn_model.predict(convertInputToVector(input_data, 321))
data = prediction[0].tolist()
max_index = data.index(max(data))
return Response(stream_template('answer_layout.html', data = prediction, max_index = max_index, question = input_data))
this does not seem to work on my AWS instance.
the model is loaded into graph outside of the route in the flask app.
the server gets timed out (set at 100sec) when I attempt this function from web.
however the same code works if I make a separate file and execute it from command line on the same server.
the same code also works if I make an API out of this def
This exact flask app works perfectly fine on my local machine.
The step where I get the issue is model.predict