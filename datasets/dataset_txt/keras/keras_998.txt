pedghz commented on 4 Jun 2018
I want to change the depth_multiplier to other values than 1. I have tried these two lines of code!
from keras.applications.mobilenet import MobileNet
basic_model = MobileNet(alpha=0.25, depth_multiplier=0.25, weights=None)
But this error occurs:
Traceback (most recent call last):
File ".../test.py", line 2, in basic_model = MobileNet(alpha=0.25, depth_multiplier=0.25, weights=None)
File "...\Anaconda3\lib\site-packages\keras\applications\mobilenet.py", line 456, in MobileNet x = _depthwise_conv_block(x, 64, alpha, depth_multiplier, block_id=1)
File "...\Anaconda3\lib\site-packages\keras\applications\mobilenet.py", line 654, in depthwise_conv_block name='conv_dw%d' % block_id)(inputs)
File "...\Anaconda3\lib\site-packages\keras\engine\topology.py", line 576, in call self.build(input_shapes[0])
File "...\Anaconda3\lib\site-packages\keras\applications\mobilenet.py", line 228, in build constraint=self.depthwise_constraint)
File "...\Anaconda3\lib\site-packages\keras\legacy\interfaces.py", line 87, in wrapper return func(*args, **kwargs)
File "...\Anaconda3\lib\site-packages\keras\engine\topology.py", line 397, in add_weight weight = K.variable(initializer(shape),
File "...\Anaconda3\lib\site-packages\keras\initializers.py", line 212, in call dtype=dtype, seed=self.seed)
File "...\Anaconda3\lib\site-packages\keras\backend\tensorflow_backend.py", line 3627, in random_uniform dtype=dtype, seed=seed)
File "...\Anaconda3\lib\site-packages\tensorflow\python\ops\random_ops.py", line 240, in random_uniform shape, dtype, seed=seed1, seed2=seed2)
File "...\Anaconda3\lib\site-packages\tensorflow\python\ops\gen_random_ops.py", line 247, in _random_uniform seed=seed, seed2=seed2, name=name)
File "...\Anaconda3\lib\site-packages\tensorflow\python\framework\op_def_library.py", line 589, in apply_op param_name=input_name)
File "...\Anaconda3\lib\site-packages\tensorflow\python\framework\op_def_library.py", line 60, in _SatisfiesTypeConstraint ", ".join(dtypes.as_dtype(x).name for x in allowed_list)))
TypeError: Value passed to parameter 'shape' has DataType float32 not in list of allowed values: int32, int64