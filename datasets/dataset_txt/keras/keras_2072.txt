mahnerak commented on 24 Jun 2017
The issue appears because of composing the layers: TimeDistributed(L)
import keras
from keras import backend as K
from keras.models import Model, load_model
from keras.layers import Input, Dense, Concatenate, Flatten
from keras.layers.wrappers import TimeDistributed
a = Input(shape=(784,5))
b = Input(shape=(784,5))

L = Dense(units=10)

u = TimeDistributed(L)(a)  # u = L(a) works correctly
v = L(b)

x = Concatenate() ([u, v])

model = Model(inputs=[a, b], outputs=x)

print model.count_params() # 120
model.summary() # 60

model.save('tmp.model')

###################################

loaded_model = load_model('tmp.model')

print loaded_model.count_params() # 120
loaded_model.summary() # 120
Note that count_params() always gives incorrect numbers. Is that another bug?
3