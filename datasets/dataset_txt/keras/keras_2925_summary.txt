Should mask be uint8 or bool?