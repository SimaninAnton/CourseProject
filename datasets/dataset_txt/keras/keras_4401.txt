JiaqingFu commented on 12 Sep 2016
I has previous thought "None" of (None,5,3,244,244) represent number of samples,so I pass input data with shape (3778, 5, 3, 224, 224) for (None,5,3,244,244) ,which I think is OK. It confused me very much when I get this error message(I am using keras 1.0.8). am I do something obviously wrong?
the full error message is below, Is anyone know why? thanks in advance
Exception                                 Traceback (most recent call last)
<ipython-input-97-4ab9f7d4ee6a> in <module>()
    119 vocab_size = next_words.shape[2]
    120 model =build_model()
--> 121 model.fit([images, partial_captions], next_words, batch_size=5, nb_epoch=25)

/usr/local/lib/python2.7/dist-packages/keras/engine/training.pyc in fit(self, x, y, batch_size, nb_epoch, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight)
   1030                                                            class_weight=class_weight,
   1031                                                            check_batch_dim=False,
-> 1032                                                            batch_size=batch_size)
   1033         # prepare validation data
   1034         if validation_data:

/usr/local/lib/python2.7/dist-packages/keras/engine/training.pyc in _standardize_user_data(self, x, y, sample_weight, class_weight, check_batch_dim, batch_size)
    957                                    self.internal_input_shapes,
    958                                    check_batch_dim=False,
--> 959                                    exception_prefix='model input')
    960         y = standardize_input_data(y, self.output_names,
    961                                    output_shapes,

/usr/local/lib/python2.7/dist-packages/keras/engine/training.pyc in standardize_input_data(data, names, shapes, check_batch_dim, exception_prefix)
    106                                         ' to have shape ' + str(shapes[i]) +
    107                                         ' but got array with shape ' +
--> 108                                         str(array.shape))
    109     return arrays
    110 

Exception: Error when checking model input: expected input_4 to have shape (None, 5, 3, 244, 244) but got array with shape (3778, 5, 3, 224, 224)
2