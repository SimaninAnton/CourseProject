stratospark commented on 2 Feb 2017
I've cleaned up my work to add multiprocessing.Pool support to ImageDataGenerator. It is available on this branch: https://github.com/stratospark/keras/tree/multiprocess-image-data-generator. There are some preliminary benchmark results that I plan to blog about here: https://github.com/stratospark/keras-multiprocess-image-data-generator. I'm basically getting a 3-4x speed up while training on my system, for both images in memory and images streamed from disk.
I'd like to get some feedback on whether this is a good design and whether it should potentially be merged into Keras or be a stand alone module.
One current drawback with this implementation is that zca whitening has slowed down considerably due to having to pass the principal_components array to each worker. Some kind of shared memory may help here. I also have not tested whether results can be reproduced by setting seeds.
Thanks for any feedback!
@fchollet @ncullen93
7