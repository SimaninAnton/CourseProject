danmoller commented on 19 Oct 2017 â€¢
edited
I was trying to use K.conv1d from keras backend, and after having quite a few bugs, I went to inspect the code: https://github.com/fchollet/keras/blob/master/keras/backend/tensorflow_backend.py/#L3106
And I found out that the default value for data_format is None. This is making the code assume (in the if statement) that the default value is channels_first, which is not right.
My problem gets solved by simply adding data_format='channels_first' in the call. And yes, I'm sure my default configuration in keras.json is channels_last.