using shared variables without mucking up the computational graph