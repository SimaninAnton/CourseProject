Edresson commented on 4 Feb 2018 â€¢
edited
Hello, I was migrating my project from Keras 1 to Keras 2, after making all the changes contained in Keras 2.0 release notes: Keras 2.0 release notes I am having problems with the fit_generator, see:
File "train.py", line 227, in
initial_epoch=epoch_offset)
File "/home/edresson/anaconda3/lib/python3.6/site-packages/keras/legacy/interfaces.py", line 91, in wrapper
return func(*args, **kwargs)
File "/home/edresson/anaconda3/lib/python3.6/site-packages/keras/engine/training.py", line 2088, in fit_generator
callbacks += [cbks.ProgbarLogger(count_mode='steps')]
TypeError: () got an unexpected keyword argument 'count_mode'
error line:
model.fit_generator(train_flow ,epochs=1,steps_per_epoch=train_flow.len)
the error is related to:
hack in ProgbarLogger: avoid logger.infoing the dummy losses
 keras.callbacks.ProgbarLogger = lambda: ProgbarLogger (show_metrics = ['loss', 'decoder_ler', 'val_loss', 'val_decoder_ler'])
Note: train_flow is H5Iterator object
In Keras 1, everything worked out any idea how to solve?