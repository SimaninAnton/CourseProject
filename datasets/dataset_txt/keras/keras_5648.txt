danieljf24 commented on 28 Mar 2016
I designed a model with the loss function of loss=f(W)+1/2||W||^2. I used the train_on_batch to train the model and calculate the loss in the training stage, and 'test_on_batch' to calculate the loss in the validation stage. I found that, the loss calculated by train_on_batch was f(W)+1/2||W||^2, but the loss only included f(W) when using 'test_on_batch', not incorporated the regularization term. It is reasonable in the majority cases.
But in my case, I want to calculate f(W)+1/2||W||^2 and not train the model in validation stage. In this case, train_on_batch and test_on_batch are not work. How can I rewrite the train_on_batch or test_on_batch to meet my requirement?
Thanks very much!