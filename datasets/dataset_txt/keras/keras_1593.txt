Dobiasd commented on 13 Oct 2017 â€¢
edited
The following code
from keras.models import load_model, Sequential
from keras.layers import Dense

model = Sequential()
model.add(Dense(32, input_shape=(500,)))
model.add(Dense(10, activation='softmax'))
model.compile(optimizer='rmsprop', loss='mse')

model.save('with_opt.h5')
model.save('without_opt.h5', include_optimizer=False)

loaded_with = load_model('with_opt.h5')
loaded_without = load_model('without_opt.h5')

assert loaded_with.model
assert loaded_without.model
produces this output (Keras Version 2.0.8, TensorFlow 1.3.0).
Traceback (most recent call last):
  File "test.py", line 16, in <module>
    assert loaded_without.model
AssertionError
Please execuse me if this is on purpose, but to me as an unexperienced user this does not look like intended behaviour.