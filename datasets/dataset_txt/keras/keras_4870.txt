EmilienDupont commented on 30 Jun 2016 â€¢
edited
Hi,
I've synced to the latest master branch (Keras 1.0.5) and am getting the following exception.
Exception: Error when checking model target: expected activation_2 to have shape (None, 10) but got array with shape (3, 1)
I'm running the code in a conda environment with the Tensorflow backend (on Mac OS X).
I'm running the following
X_train = np.array([[1,2], [6,5], [8,2]])
y_train = np.array([2,3,7])
input_dim = X_train.shape[1]

model = Sequential()

model.add(Dense(output_dim=64, input_dim=input_dim))
model.add(Activation("relu"))
model.add(Dense(output_dim=10))
model.add(Activation("softmax"))
model.compile(loss='categorical_crossentropy', optimizer='sgd', metrics=['accuracy'])

model.fit(X_train, y_train, nb_epoch=5, batch_size=32)
I'm synced with the master branch, but have also tried this with Keras 1.0.3, neither works. Do you have any idea what this issue could be stemming from?
Cheers
Note this is very similar to issue #3009 , but no real solution was found. Could this be due to the fact that I am running in the conda environment?
Please make sure that the boxes below are checked before you submit your issue. Thank you!
[x ] Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
[x ] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
[x ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).
20
1
2
1
1