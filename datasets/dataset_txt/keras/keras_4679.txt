fvisin commented on 1 Aug 2016
load_weights is broken.
"Can't open attribute (Can't locate attribute: 'layer_names')"
Traceback (most recent call last):
  File "/u/visin/.local/lib/python2.7/site-packages/ipdb/__main__.py", line 168, in main
    pdb._runscript(mainpyfile)
  File "/Tmp/lisa/os_v5/anaconda/lib/python2.7/pdb.py", line 1233, in _runscript
    self.run(statement)
  File "/Tmp/lisa/os_v5/anaconda/lib/python2.7/bdb.py", line 400, in run
    exec cmd in globals, locals
  File "<string>", line 1, in <module>
  File "eval_camvid2.MD10_relu.py", line 1, in <module>
    from keras.optimizers import RMSprop as Optimizer
  File "rec_conv_deconv.py", line 318, in run
    model.load_weights('./tmp/tmp_' + save_name + "_latest.w")
  File "/u/visin/exp/keras/keras/engine/topology.py", line 2414, in load_weights
    self.load_weights_from_hdf5_group(f)
  File "/u/visin/exp/keras/keras/engine/topology.py", line 2451, in load_weights_from_hdf5_group
    layer_names = [n.decode('utf8') for n in f.attrs['layer_names']]
  File "h5py/_objects.pyx", line 54, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/work/h5py/_objects.c:2579)
  File "h5py/_objects.pyx", line 55, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/work/h5py/_objects.c:2538)
  File "/Tmp/lisa/os_v5/anaconda/lib/python2.7/site-packages/h5py/_hl/attrs.py", line 52, in __getitem__
    attr = h5a.open(self._id, self._e(name))
  File "h5py/_objects.pyx", line 54, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/work/h5py/_objects.c:2579)
  File "h5py/_objects.pyx", line 55, in h5py._objects.with_phil.wrapper (/home/ilan/minonda/conda-bld/work/h5py/_objects.c:2538)
  File "h5py/h5a.pyx", line 77, in h5py.h5a.open (/home/ilan/minonda/conda-bld/work/h5py/h5a.c:2088)
KeyError: "Can't open attribute (Can't locate attribute: 'layer_names')"
Uncaught exception. Entering post mortem debugging