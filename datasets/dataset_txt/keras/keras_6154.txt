jgc128 commented on 8 Jan 2016
The following model is failing to build:
model = Sequential()
model.add(Layer(input_shape=(max_len, input_dim,)))
model.add(LSTM(weights=init_weights, input_dim=input_dim, input_length=max_len, output_dim=lstm_size))
Keras is calling build several times (see #965): the first time in the __init__ of Layer and the second time in the add -> set_previous because LSTM is not the first layer of the model.
Because LSTM deletes initial_weights in build (recurrent.py):
        if self.initial_weights is not None:
            self.set_weights(self.initial_weights)
            del self.initial_weights
it causes an error AttributeError: 'LSTM' object has no attribute 'initial_weights' on the second build.
The easy fix would be just delete del self.initial_weights but I think it's better to build each layer of the model only one time...