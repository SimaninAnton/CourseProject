Writing my own cost function