code-ball commented on 26 Apr 2016
hi,
I have my model compile with multiple loss functions including custom loss functions declared as follows:
model.compile(optimizer='rmsprop', loss=['categorical_crossentropy','custom_loss'])
There are two problems I am facing:
1.) If I define this function locally inside my code file, I get 'invalid loss function' error. But if I change objective.py in the lib and add the custom function to it, the model is able to use it. Is this normal or is it supposed to be recognized even when I define it locally? Please let me know if I am missing something.
2.) When the model uses the function, it provides -inf values. Is there a way to debug why the loss is returned as -inf? I am sure that this custom loss function is causing the whole loss to be -inf. If either I remove the custom loss or change the definition of custom loss to something simple, it does not give -inf.
Thanks