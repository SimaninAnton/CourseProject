ghost commented on 16 Feb 2019 â€¢
edited by ghost
Executed in : Colab
Keras version : 2.2.4
Code: https://github.com/keras-team/keras/blob/master/examples/cifar10_cnn.py
Using tensorflow backend
When trying cifar10_cnn.py example from the keras repo getting the following error.
Error msg : ValueError: steps_per_epoch=None is only valid for a generator based on the keras.utils.Sequence class. Please specify steps_per_epoch or use the keras.utils.Sequence class.
Full Error log:
ValueError Traceback (most recent call last)
in ()
47 epochs=epochs,
48 validation_data=(x_test, y_test),
---> 49 workers=4)
50
51 # Save model and weights
/usr/local/lib/python3.6/dist-packages/keras/legacy/interfaces.py in wrapper(*args, **kwargs)
89 warnings.warn('Update your ' + object_name + ' call to the ' +
90 'Keras 2 API: ' + signature, stacklevel=2)
---> 91 return func(*args, **kwargs)
92 wrapper._original_function = func
93 return wrapper
/usr/local/lib/python3.6/dist-packages/keras/engine/training.py in fit_generator(self, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)
1416 use_multiprocessing=use_multiprocessing,
1417 shuffle=shuffle,
-> 1418 initial_epoch=initial_epoch)
1419
1420 @interfaces.legacy_generator_methods_support
/usr/local/lib/python3.6/dist-packages/keras/engine/training_generator.py in fit_generator(model, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)
53 steps_per_epoch = len(generator)
54 else:
---> 55 raise ValueError('steps_per_epoch=None is only valid for a'
56 ' generator based on the '
57 'keras.utils.Sequence'
ValueError: steps_per_epoch=None is only valid for a generator based on the keras.utils.Sequence class. Please specify steps_per_epoch or use the keras.utils.Sequence class.
Please suggest how to get rid of this error.