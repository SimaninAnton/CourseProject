redsphinx commented on 18 May 2017 â€¢
edited
I built fchollet's keras docker image (https://github.com/fchollet/keras/tree/master/docker) on my Ubuntu 16.04 machine. When I test it, everything runs perfectly fine. I save the image and physically move it to another machine running CentOS 7. However when I load and run the image with nvidia-docker run -ti my_image bash, after a while it gives me an error saying cuda driver version is insufficient for cuda runtime version docker. So I checked my drivers by running ./devicequery and the result is a pass. So it is not my drivers. I also separately tested tensorflow images without keras on the CentOS machine and they run without any issues. So it's something with keras. But I have no idea what. My suspicions now is that when I build on Ubuntu, the symbolic links to the cuda libraries libcuda.so are not the same as on CentOS and keras can't find them. Is this true? How is keras depending on the cuda libraries?