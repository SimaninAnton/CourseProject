Custom loss function inconsistency between Theano/TF backend