alexanderwhatley commented on 3 Dec 2016
Also posted here: http://stackoverflow.com/questions/40940940/wrong-shape-of-tensor.
I'm new to Keras, and I'm trying to run the convolutional autoencoder using the blog's code (https://blog.keras.io/building-autoencoders-in-keras.html), but I am getting an error message:
---------------------------------------------------------------------------
Exception                                 Traceback (most recent call last)
<ipython-input-25-5ca753acfdbb> in <module>()
     28                 batch_size=128,
     29                 shuffle=True,
---> 30                 validation_data=(x_test, x_test)
     31                )

C:\Users\Alexander\Anaconda3\lib\site-packages\keras\engine\training.py in fit(self, x, y, batch_size, nb_epoch, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch)
   1036                                                            class_weight=class_weight,
   1037                                                            check_batch_dim=False,
-> 1038                                                            batch_size=batch_size)
   1039         # prepare validation data
   1040         if validation_data:

C:\Users\Alexander\Anaconda3\lib\site-packages\keras\engine\training.py in _standardize_user_data(self, x, y, sample_weight, class_weight, check_batch_dim, batch_size)
    965                                    output_shapes,
    966                                    check_batch_dim=False,
--> 967                                    exception_prefix='model target')
    968         sample_weights = standardize_sample_weights(sample_weight,
    969                                                     self.output_names)

C:\Users\Alexander\Anaconda3\lib\site-packages\keras\engine\training.py in standardize_input_data(data, names, shapes, check_batch_dim, exception_prefix)
    109                                         ' to have shape ' + str(shapes[i]) +
    110                                         ' but got array with shape ' +
--> 111                                         str(array.shape))
    112     return arrays
    113 

Exception: Error when checking model target: expected convolution2d_92 to have shape (None, 4, 28, 1) but got array with shape (60000, 1, 28, 28)
The code appears to be the same as the one on the website as far as I can tell, and the decoder is the correct shape (?, 28, 4, 1). Is this due to a breaking change in the API, or my own incompetence?