Contributor
danielS91 commented on 27 Sep 2016
Once keras and the backend is imported, it is not possible to change the float type using 'set_floatx()'.
So running the following code snippet:
import keras
print(keras.backend.floatx())
keras.backend.set_floatx('float16')
print(keras.backend.floatx())

# create dummy variable as internally used for weights etc.
a = keras.backend.variable([10])
print(a.dtype)
will result in:
float32
float16
float32
(only tested with theano backend, but with tensorflow backend it should be the same)
Is this the desired behaviour and 'set_floatx()' only for internal use?
Otherwise the backends should request the current float type by calling 'floatx()' instead of using a default value which is set once.
1