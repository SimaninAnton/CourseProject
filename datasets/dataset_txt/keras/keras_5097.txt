asmith26 commented on 26 May 2016
Having saved a successfully trained model with:
with open(os.path.join(MODEL_PATH, 'model.json'), 'w') as f:
    f.write(model.to_json())
When trying to reload it, I'm getting:
>>> from keras.models import model_from_json
Using Theano backend.
>>> model = model_from_json(open('model.json').read())
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/andyandy/git/keras/keras/models.py", line 37, in model_from_json
    return layer_from_config(config, custom_objects=custom_objects)
  File "/home/andyandy/git/keras/keras/utils/layer_utils.py", line 35, in layer_from_config
    return layer_class.from_config(config['config'])
  File "/home/andyandy/git/keras/keras/engine/topology.py", line 2197, in from_config
    custom_objects=custom_objects)
  File "/home/andyandy/git/keras/keras/utils/layer_utils.py", line 35, in layer_from_config
    return layer_class.from_config(config['config'])
  File "/home/andyandy/git/keras/keras/layers/core.py", line 489, in from_config
    function = python_types.FunctionType(function, globals())
TypeError: arg 5 (closure) must be tuple
I'm using the functional API if it helps. Thanks
[x ] Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
[x ] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
[x ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).
1