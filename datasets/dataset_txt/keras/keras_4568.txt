aizvorski commented on 18 Aug 2016 â€¢
edited
I was comparing Keras with Caffe and found that Keras is 3.5x slower using Theano or 5x slower using TensorFlow. This is using CUDA 8, cuDNN 5.0 on GTX 1080.
I packaged up the comparison here: https://github.com/aizvorski/caffe-vs-keras
As far as I can tell all three implementations are working correctly (they converge if run outside of a benchmark), and have no problems using 100% of the GPU as shown by nvidia-smi dmon.
Also as far as I can tell there is nothing unusual about my implementation of VGG-16 (the Caffe version is from the model zoo, the Keras version is from https://gist.github.com/baraldilorenzo/07d7802847aaad0a35d3).
This is surprising because I would expect all implementations running on top of cuDNN to have approximately the same speed, barring something quite unusual.
Is this expected? Could it be a performance bug?
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).