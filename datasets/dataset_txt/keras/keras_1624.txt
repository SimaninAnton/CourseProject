Golbstein commented on 29 Sep 2017
Hello everyone.
I've been reading many discussions here and in google groups regarding the tf backend issues and I found them too wordy and without a bottom-line for a question, that at least in my opinion should has a short answer.
I'm using the CNN mnist model proposed here: https://github.com/fchollet/keras/blob/master/examples/mnist_cnn.py
To run some performances tests.
I'm using a p2.xlarge amazon instance with a Tesla K80 single GPU.
My python version is 3.6
Keras==2.0.8 (conda keras-gpu version)
tensorflow==1.2.0
Theano==0.9.0
My keras.json file at ~/.keras/keras.json:
{
    "epsilon": 1e-07,
    "floatx": "float32",
    "image_data_format": "channels_last",
    "backend": "theano"
}
and my theanorc file contains:
[global]
device = cuda
floatX = float32
[cuda]
root = /usr/local/cuda
When I run the code I get that Theano and Tensorflow are roughly equal (Theano 8s per epoch, and Tf is 10s per epoch but loads the data faster)
But when I'm ruuning this on my model whose input shape is 224x224x3x30000 images
Theano outperforms Tenserflow by a factor of 2.5! (although it takes about 5 minutes for theano to initialize the images)
Tensorflow backend:
Theano backend:
One more thing - when I execute "import keras" with tensorflow backend I receive:
Using Tensorflow backend.
While theano as backend:
Using Theano backend
Using cuDNN version 5110 on context None
Mapped name None to device cuda: Tesla K80 (0000:00:1E.0)
Thanks for help!