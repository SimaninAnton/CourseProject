wailoktam commented on 24 May 2016
Hi,
I get the following warning:
theano.function was asked to create a function computing outputs given certain inputs, but the provided input variable at index 2 is not part of the computational graph needed to compute the outputs:
no matter what I put in the last layer, as long as I do a merge by dot/cos.
It seems to be related to this issue: #1254
Sample codes as follows:
leftKerasModel = Sequential()
leftKerasModel.add(Reshape((1,100,100),  input_shape=(100, 100)))
leftKerasModel.add(Convolution2D(10, 3, 3, border_mode='same'))
leftKerasModel.add(Activation('relu'))
leftKerasModel.add(MaxPooling2D(pool_size=(2, 2)))

rightKerasModel = Sequential()
rightKerasModel.add(Reshape((1,100,100), input_shape=(100,100)))
rightKerasModel.add(Convolution2D(10, 3, 3, border_mode='same'))
rightKerasModel.add(Activation('relu'))
rightKerasModel.add(MaxPooling2D(pool_size=(2, 2)))

mergedKerasModel = Sequential()
merged = Merge([leftKerasModel, rightKerasModel], mode='cos', dot_axis=1)
mergedKerasModel.add(merged)
I would be extremely grateful if anyone can give me a successful example or a suggestion of solution/workaround.
Please make sure that the boxes below are checked before you submit your issue. Thank you!
[O] Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
[O] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
[O] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).