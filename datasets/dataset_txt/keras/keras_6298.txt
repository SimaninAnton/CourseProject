ermaker commented on 8 Dec 2015
I'm trying to save the model with tensorflow, but model.to_json() does not work.
Please check this log and let me know any information about this problem:
$ cat dump_example.py
from keras.models import Sequential
from keras.layers.core import Dense

model = Sequential()
model.add(Dense(5, input_dim=5))
model.compile(loss='categorical_crossentropy', optimizer='adadelta')
model.to_json()
$ python dump_example.py
Using TensorFlow backend.
I tensorflow/core/common_runtime/local_device.cc:25] Local device intra op parallelism threads: 1
I tensorflow/core/common_runtime/local_session.cc:45] Local session inter op parallelism threads: 1
Traceback (most recent call last):
  File "dump_example.py", line 7, in <module>
    model.to_json()
  File "/home/m/miniconda/lib/python2.7/site-packages/keras/models.py", line 342, in to_json
    config = self.get_config()
  File "/home/m/miniconda/lib/python2.7/site-packages/keras/models.py", line 321, in get_config
    config['optimizer'] = self.optimizer.get_config()
  File "/home/m/miniconda/lib/python2.7/site-packages/keras/optimizers.py", line 171, in get_config
    "rho": float(K.get_value(self.rho)),
  File "/home/m/miniconda/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py", line 304, in get_value
    return x.eval(session=_get_session())
AttributeError: 'float' object has no attribute 'eval'
$
My environment is here:
$ conda --version
conda 3.18.8
$ python --version
Python 2.7.10 :: Continuum Analytics, Inc.
$ conda list | grep -E '(tensorflow|keras)'
keras                     0.3.0                     <pip>
tensorflow                0.5.0                     <pip>
$