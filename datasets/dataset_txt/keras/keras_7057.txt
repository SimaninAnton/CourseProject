lemuriandezapada commented on 21 Apr 2015
Not sure of this is how it's to work or not (seems to be a Theano issue) but Embedding layers do not work in batch mode. They work fine as first layers in recurrent net builds or for batch size =1 in pure feedforward ones but setting the batch size to 16 with an embedding layer included yields the following error:
ValueError: Input dimension mis-match. (input[0].shape[1] = 1, input[2].shape[1] = 16)
Apply node that caused the error: Elemwise{Composite{((i0 + i1) - i2)}}[(0, 0)](Reshape{3}.0, InplaceDimShuffle{x,x,0}.0, InplaceDimShuffle{x,0,1}.0)
Inputs types: [TensorType(float64, 3D), TensorType(float64, (True, True, False)), TensorType(float64, (True, False, False))]
Inputs shapes: [(16, 1, 1), (1, 1, 1), (1, 16, 1)]
Inputs strides: [(8, 8, 8), (8, 8, 8), (128, 8, 8)]
Inputs values: ['not shown', array([[[ 0.]]]), 'not shown']