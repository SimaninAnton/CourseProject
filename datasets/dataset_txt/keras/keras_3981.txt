zaoyehuo commented on 6 Nov 2016 â€¢
edited
Please make sure that the boxes below are checked before you submit your issue. Thank you!
Check that you are up-to-date with the master branch of Keras. You can update with:
pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps
If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:
pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps
Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).
The example 'Extract features with VGG16' on https://keras.io/applications/
I use my picture try to extract features
from keras.applications.vgg16 import VGG16
from keras.preprocessing import image
from keras.applications.vgg16 import preprocess_input
import numpy as np
from scipy.misc import imsave
model = VGG16(weights='imagenet', include_top=False)
img_path = '1.jpg'
img = image.load_img(img_path, target_size=(224, 224))
x = image.img_to_array(img)
x = np.expand_dims(x, axis=0)
x = preprocess_input(x)
features = model.predict(x)
print features
imsave('2.png', features)
print features--I get many matrices
but imsave('2.png', features) get error--ValueError: 'arr' does not have a suitable array shape for any mode.
I am a beginner about keras and python,I don't know how to get my feature maps by this example.Thank You!