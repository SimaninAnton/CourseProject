wongjingping commented on 4 Feb 2016
I'm having an issue with the batch sizes showing up correctly; whenever I print out the batch logs using a callback the batch_size is always the 2nd entry in the X.shape tuple. For example, if my X generated was of shape (batch_size, nrow, ncol, nb_channel), the batch_size would always be nrow.
Another user faced a similar issue #1627 (his last comment), where his X.shape tuple was (batch_size, nb_channel, nrow, ncol). As his images had only 1 channel, this resulted in the batch_size being 1, and the loop iterating from 1-6000 instead of 1-1875.
My suspect of the offending line is in models.py line 1017
batch_logs = {}
---> batch_size = len(X[0])
batch_logs['batch'] = batch_index
I'm looking at other parts of the code to check why it was implemented this way, but from what I see so far it seems like it should be
batch_size = len(X) instead
Let me know if this is an issue faced by others and I'll submit a PR :)