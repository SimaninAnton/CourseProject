markusforster commented on 6 Dec 2019
System information
Have I written custom code (as opposed to using example directory): no
OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04
TensorFlow backend (yes / no): yes
TensorFlow version: tensorflow-gpu 2.0.0
Keras version: 2.3.0
Python version: 3.6.8
CUDA/cuDNN version: 10.2
GPU model and memory: GeForce RTX 2080 8GB
I created the following model for testing:
inputLayer1 = Input(shape=(maxWordLen,),name='wordInput')
embedding1 = Embedding(self.numOfChar, 16, input_length=maxWordLen,embeddings_initializer='random_uniform')(inputLayer1)
output1 = Conv1D(4,3,activation='relu',kernel_initializer='random_uniform')(embedding1)
output1 = MaxPooling1D(2)(output1)
output1 = GlobalMaxPooling1D()(output1)
            
wordEncoder = Model(inputLayer1,output1,name='wordEncoder')
            
inputLayer2 = Input(shape=(maxWordCount,maxWordLen),name='mainInput')
lstmIn = TimeDistributed(wordEncoder)(inputLayer2)
            
lstm1 = Bidirectional(LSTM(32, return_sequences=True,  dropout=dropout,recurrent_dropout=dropout))(lstmIn)
lstm2 = Bidirectional(LSTM(32, return_sequences=True,  dropout=dropout,recurrent_dropout=dropout))(lstmIn)

outputLayer2 = add([lstm1,lstm2])
outputLayer2 = TimeDistributed(Dense(numOfLabel, activation='softmax'))(outputLayer2)
sentEncoder = Model(inputLayer2,outputLayer2)

sentEncoder.compile(loss=loss,optimizer=optimizer,metrics=metrics)
When running .fit on this model I receive the following error:
AttributeError: 'tensorflow.python.framework.ops.EagerTensor' object has no attribute 'assign'
Not sure if I'm doing it wrong or if it's a problem with tensorflow 2.