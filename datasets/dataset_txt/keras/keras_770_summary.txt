How to ctreat your own loss fuction in which the weights and output of hiden layer has been used?