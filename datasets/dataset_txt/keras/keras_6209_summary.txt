"An update must have the same type as the original shared variable " error