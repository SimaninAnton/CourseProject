Custom Loss function with varying input sizes