Contributor
dalupus commented on 1 Jun 2016
For binary classification using a stock classifier from scikit, running predict_proba will return a matrix of shape (n_samples,n_classes) however KerasClassifier returns (nsamples,noutputs).
This results in the inability to use the ootb cross_val_score with 'roc_auc' due to the error:
site-packages\sklearn\metrics\scorer.pyc in __call__(self, clf, X, y, sample_weight)
    173 
    174                 if y_type == "binary":
--> 175                     y_pred = y_pred[:, 1]
    176                 elif isinstance(y_pred, list):
    177                     y_pred = np.vstack([p[:, -1] for p in y_pred]).T
IndexError: index 1 is out of bounds for axis 1 with size 1