MartinAltmayer commented on 27 Aug 2018
When TwitterMixin.authorize_redirect fails to connect to Twitter, the future returned by this method is never resolved. (the network error is raised in some callback, but never reaches the future).
Code example (to receive a network error, you can switch your network off, but the issue is demonstrated even without connection problems due to the bogus twitter consumer data):
import tornado
import tornado.web
import tornado.auth


class TwitterLoginHandler(
    tornado.web.RequestHandler,
    tornado.auth.TwitterMixin
):
    async def get(self):
        if self.get_argument("oauth_token", None):
            user = await self.get_authenticated_user()
        else:
            try:
                await self.authorize_redirect()
                print("This line is never reached")
            except Exception:
                print("Nor is this line")
                

def make_app():
    return tornado.web.Application(
        [(r"/", TwitterLoginHandler)],
        twitter_consumer_key='12341234',
        twitter_consumer_secret='secret'
    )


if __name__ == "__main__":
    app = make_app()
    app.listen(8888)
    tornado.ioloop.IOLoop.current().start()