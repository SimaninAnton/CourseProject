bloodknight2010 commented on 26 Apr 2018
I request the post method client side. but doesn't work I got the following error
Uncaught exception POST /categories (127.0.0.1)
HTTPServerRequest(protocol='http', host='localhost:9292', method='POST', uri='/categories', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Origin': 'http://localhost:9292', 'Content-Length': '34', 'Accept-Language': 'en-US,en;q=0.9', 'Accept-Encoding': 'gzip, deflate, br', 'Userid': 'bf138344-ba7f-4e73-9591-46715ca68317', 'Host': 'localhost:9292', 'Accept': 'application/json, text/javascript, /; q=0.01', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest', 'Pragma': 'no-cache', 'Cache-Control': 'no-cache', 'Referer': 'http://localhost:9292/category-list', 'Content-Type': 'application/json; charset=UTF-8', 'Cookie': '_ga=GA1.1.1415872405.1522071386; fbsr_1789508618024488=uMLzTD29lyg7hGZXNChlTlCLuWOfOxbPI9Amwxl28fE.eyJhbGdvcml0aG0iOiJITUFDLVNIQTI1NiIsImNvZGUiOiJBUURSNHF4a2tZcWJzTnpTNjZtdFhLZXd6anlMbXRxQUNUejU5SV9MS1JYR3pRcmRqSVp3ODhyc0ZDM0pmSlk4NHpSVjZLdUhYYzhJSzB5WUg5cXZmQldBOGNwR2o5T0MyLTVCOEN4eDRjZmgteTVlU1F0bnU4X1c1WkNpaWgyeUxwTVZpLVUyand4Y3ctOVpPYlR3SGRMRnJFdm12a3dSZGdKeVVBaWdzVmVRNWdXTXdkdmdtVDE1bVY0VXpGU0dYOHAyc25LYWJuT1lsTUt1QVlmRmtHc1d6T0NnSWJiWTA4MFdzX0FiLVpjVkI1b0tLM0NNSzFQM3BuYVlXS0dtN1gwcDVIV2lnU2hybGdkMXJYU0JHQkNka0M3QUVLWHg4Ulp5d2VYUUNfX1NZM0xNd3JQUnpHSUdvZk5lUUptbVAweERJT2VkeDVZeU1uNzJNdHhTNHRGUCIsImlzc3VlZF9hdCI6MTUyNDQ3MzI1OCwidXNlcl9pZCI6IjE3OTM1MTQyNTQwMjczNjcifQ; fbsr_1755374758101377=UPvV56iYVc_RzwC7jyR_Kl7GZUkGVQKckZhe6cuOHsg.eyJhbGdvcml0aG0iOiJITUFDLVNIQTI1NiIsImNvZGUiOiJBUUFhaGlHTWJETWctUWhqZXVJZUk1bldqWlZHcFlvTy1yeWYwQmZ4WU5YZlY4dkNfdEF1VXlDcThGLUVGRWM2cmRLaU15c1RhQUJaQlFiWFhhQ1RqalhVUE9hbkotTnFuU2lYRmNrN1RDY2g1enlBLWRuMy00NkFrVG85WE9Fcy1LQklzYVJaS1pxRnBicGROdmdES0VWczZpTFNnRjZmcXpoajNSSVBja09iUDd0Skt1MlFVcExlejFvTHNOcnhZcjBQcWNvWTh2SGJjd2JrX203Qi0zc1ZBV05QQWhBeVJkSEF3V0JLZTBTenBrc2xieEwyOEF0TDlHbDBOWU9yU0lUd0FUeC1RcEJpbjZHOVRONE8ySWpVMGlnME4zRTQtc0RWOVVreEF3V3ZrRVBzdWtlRHNhMGo5YjhoTkdMZ1JHelVvZG1FR0E4OHVDUndlM3Zyb2M1SkZmNHRBZkdzOW5aMlpvVDlRYzVOSFEiLCJpc3N1ZWRfYXQiOjE1MjQ3NDM4MTEsInVzZXJfaWQiOiIxNzQ4NTc2NjI4NTIxMTMwIn0; user="2|1:0|10:1524743811|4:user|736:eyJzdGF0dXMiOiAiQWN0aXZlIiwgInVzZXJuYW1lIjogIldhaSBZYW4gTWluIEh0d2UiLCAiYWNjZXNzdG9rZW4iOiAiRUFBWThnUWpuZ1lFQkFETjlvTjBxSkxtNmpkeXp1cElEMXhiV3FFSUJ3N3pPUExPSjVnWWhaQjE4bmxCOWNZVEcxbUJFWkNWOXJ4UzdtWXJ4M3JzeDZWTUxjOGo4eWdXNnRwWW9zV2g3em1MUHFENEM0dmZpR1VvZEtuMTdyUDNSYUt2NFloSnRsT0VtVnZKbWpQam90RlFHUjYyWkJiZGJOWkFPcURET2tia1ZYc3haQXB2dWFuNURQZGRuRzYzdGhFNUZFR2dWbnZLdGRUQWp2dW5lWkFERDBiTTBCT29aQ0laRCIsICJ1c2VyX3VybCI6ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xNzQ4NTc2NjI4NTIxMTMwL3BpY3R1cmUiLCAic3RhbXAiOiB7InRpbWV6b25lIjogIiswMDowMCIsICIkcmVxbF90eXBlJCI6ICJUSU1FIiwgImVwb2NoX3RpbWUiOiAxNTI0NzQzODExLjM1Mn0sICJmYnVzZXJJZCI6ICIxNzQ4NTc2NjI4NTIxMTMwIiwgInJvbGUiOiAiUGF0aWVudCIsICJpZCI6ICJlNmQ1NWJlNy0wYjRmLTQ1YWUtOWEyYS1mNjlmZTE3MjZhMjgifQ==|2ccab98777a4f3bffd79e002860f5a19226780d7271a1de8d3f03f6a6f2d66b6"'})
Traceback (most recent call last):
File "/home/wymh/anaconda2/envs/hexcode/lib/python2.7/site-packages/tornado/web.py", line 1467, in _execute
result = method(*self.path_args, **self.path_kwargs)
TypeError: 'Table' object is not callable
Get request is working but post is not work.
I create the following code.
`class categoryHandler(JsonHandler):
@tornado.web.authenticated
@gen.coroutine
def get(self):
    _id = self.request.headers.get('userid')
    if _id:
        feed = yield self.category.order_by('stamp').run(time_format="raw")
    self.write(dict(category=feed))


@gen.coroutine
def post(self):
    _id = self.request.headers.get('userid')
    cat_name = self.get_argument('name', default = None)
    logging.info(cat_name)
    if _id:
        result = yield self.category.insert(category_json['category'],return_changes=True).run(time_format="raw")
        self.write(dict(post = [result['changes'][0]['new_val']]))`
Pls help me.