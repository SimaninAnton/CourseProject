websocket: Allow open() to be a coroutine