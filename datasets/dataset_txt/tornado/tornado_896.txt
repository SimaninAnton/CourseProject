dhanababu-nyros commented on 17 Sep 2013
I am currently working in tornado and python3.2+. I have the pdf download in tornado. When I click save button in my app the file is downloaded(Chrome and Firefox) but not working in IE10. I am using async websocket programming. Please see the below error,
Processing event save
DEBUG:websocket:Processing event save
ERROR:tornado.application:Uncaught exception in /realtime/
Traceback (most recent call last):
File "/usr/lib/python3.2/xml/etree/ElementTree.py", line 1668, in feed
self._parser.Parse(data, 0)
xml.parsers.expat.ExpatError: duplicate attribute: line 1, column 112
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
File "/home/dhana/WhiteBoard/elocon-env/lib/python3.2/site-packages/tornado/websocket.py", line 303, in wrapper
return callback(_args, *_kwargs)
File "/home/dhana/WhiteBoard/collabdraw/websockethandler.py", line 109, in on_message
x = svg2pdf(svg, write_to='test.pdf')
File "/home/dhana/WhiteBoard/elocon-env/lib/python3.2/site-packages/cairosvg/init.py", line 43, in
surface_type.convert(_args, *_kwargs))(_surface_type)
File "/home/dhana/WhiteBoard/elocon-env/lib/python3.2/site-packages/cairosvg/surface/init.py", line 74, in convert
tree = Tree(**kwargs)
File "/home/dhana/WhiteBoard/elocon-env/lib/python3.2/site-packages/cairosvg/parser.py", line 167, in init
tree = ElementTree.fromstring(bytestring)
File "/usr/lib/python3.2/xml/etree/ElementTree.py", line 1337, in XML
parser.feed(text)
File "/usr/lib/python3.2/xml/etree/ElementTree.py", line 1670, in feed
self._raiseerror(v)
File "/usr/lib/python3.2/xml/etree/ElementTree.py", line 1543, in _raiseerror
raise err
File "", line None
xml.etree.ElementTree.ParseError: duplicate attribute: line 1, column 112
Leaving room one
And I got the browser error,
WebSocket Error: Network Error 12030, The connection with the server was terminated abnormally