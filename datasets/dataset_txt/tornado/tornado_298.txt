felipefreitasweb commented on 9 Aug 2017
I have a websocket class running asynchronously, and when a client exits I need to execute a query that is also asynchronous. But I get the error:
/opt/python3/lib/python3.6/site-packages/tornado/websocket.py:436: RuntimeWarning: coroutine 'RocketHandler.on_close' was never awaited
  self.on_close()
Ps .: async on_message works!
async def on_close(self):
      response = await db.session.find_one({'uuid': {'$eq': 'xyz123'}})
Sorry for my English