loretoparisi commented on 28 Oct 2019
When I initialize Tornado like
class WebServer(threading.Thread):
    def run(self):
        PORT = os.getenv('PORT', 8888)
        asyncio.set_event_loop_policy(AnyThreadEventLoopPolicy())
        app = application()
        app.listen(PORT)
        tornado.ioloop.IOLoop.instance().start()
I see a number of threads created at startup, before the first api call:
  689 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:33.89  `- python3 tornadoaas.py                                                                        
  729 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.07      `- python3 tornadoaas.py                                                                    
  730 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  731 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  732 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  733 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  734 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  735 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  736 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  737 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  738 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  739 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  741 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  742 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  743 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  744 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  745 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  746 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  747 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  748 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  749 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  750 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  751 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  752 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  753 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  754 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  755 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  756 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  757 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  758 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.00      `- python3 tornadoaas.py                                                                    
  759 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.07      `- python3 tornadoaas.py                                                                    
  760 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:22.85      `- python3 tornadoaas.py                                                                    
  761 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:23.00      `- python3 tornadoaas.py                                                                    
  762 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.02      `- python3 tornadoaas.py                                                                    
  763 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.02      `- python3 tornadoaas.py                                                                    
  764 root      20   0 9027376   2.1g 287324 S   0.0  13.1   0:00.02      `- python3 tornadoaas.py 
When the first api call is sent, all those threads get the same memory occupation like
    1 root      20   0   27244  21312   7864 S   0.0   0.1   0:00.45 /usr/bin/python2 /usr/bin/supervisord                                                            
    8 root      20   0  966536 143588  36936 S   0.3   0.9   0:01.71  `- python3 dash/app.py                                                                          
  689 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:33.89  `- python3 tornadoaas.py                                                                        
  729 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.07      `- python3 tornadoaas.py                                                                    
  730 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  731 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  732 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  733 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  734 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  735 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  736 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  737 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  738 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  739 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  741 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py                                                                    
  742 root      20   0 9255584   2.1g 288516 S   0.0  13.6   0:00.00      `- python3 tornadoaas.py       
...