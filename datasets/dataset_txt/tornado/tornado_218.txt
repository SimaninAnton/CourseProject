ndvbd commented on 14 Mar 2018
When using Tornado to handle websockets, how can we allow concurrency across different websockets (for example using ThreadPoolExecutor), while demanding that messages on the same websocket be run sequentially?
So it's kinda like some QoS (quality of service), so if I have 10000 clients, each is holding one websocket, I want to allow concurrency, that's why I will use ThreadPoolExecutor(8) to utilize my 8 processor cores, but I would like that every message from the same websocket be run sequentially, so that one websocket will not abuse the resources of the machine.
One solution may be to spawn 8 threads, and allocate for every websocket (out of the 10k) one thread that will handle this websocket.
Is there anything like it?