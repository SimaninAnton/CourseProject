tzuryby commented on 13 Mar 2011
I have this line of code which I use within my tornado to fetch some local data as
`httpclient.HTTPClient().fetch("http://admin:admin@localhost:2812")`
This worked fine for me by far, yet, as I cloned tornado today, I get an error, which suggest something in went wrong in the url parser as first colon (of auth) split the url instead of the second (port number)
>>> httpclient.HTTPClient().fetch("http://admin:admin@localhost:2812")
WARNING:root:uncaught exception
Traceback (most recent call last):
  File "/usr/local/lib/python2.6/dist-packages/tornado/simple_httpclient.py", line 225, in cleanup
    yield
  File "/usr/local/lib/python2.6/dist-packages/tornado/simple_httpclient.py", line 132, in __init__
    port = int(port)
ValueError: invalid literal for int() with base 10: 'admin@localhost:2812'
Traceback (most recent call last):
  File "", line 1, in 
  File "/usr/local/lib/python2.6/dist-packages/tornado/httpclient.py", line 46, in fetch
    response.rethrow()
  File "/usr/local/lib/python2.6/dist-packages/tornado/httpclient.py", line 264, in rethrow
    raise self.error
ValueError: invalid literal for int() with base 10: 'admin@localhost:2812'
>>> 