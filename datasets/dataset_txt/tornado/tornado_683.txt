mikhail-ekzi commented on 25 Feb 2015
Hello, I've got an issue with tornado/iostream.py.
This issue is completly discussed and solved (UPD: not solved) here https://github.com/SiCKRAGETV/sickrage-issues/issues/231
As for tornado, u've got this strings in tornado/iostream.py:
1416 if len(deque) == 1 and len(deque[0]) <= size:
1417 return
And after this u've got:
1432 if not deque:
1433 deque.appendleft(b"")
UPD: seems that the problem is more deeper:
In:
806 def _handle_write(self):
We get the number of bytes in this way:
num_bytes = self.write_to_fd(self._write_buffer[0])
Which executing function:
987 def write_to_fd(self, data):
988 return self.socket.send(data)
This two strings returns the length of data and after that self._write_buffer is NULL.