sehoffmann commented on 17 Feb 2015
tornado.log.define_logging_options doesn't work as intented because enable_pretty_logging doesn't get the actual OptionParser which triggered the callback and will thus use the default options object even if that didn't invoked the callback.
def run_parse_callbacks(self):
    for callback in self._parse_callbacks:
        callback()
should be changed to either:
callback(self)
or:
callback(options = self)
and it should be documented, that callbacks receive the OptionParser object.
If this isn't viable due to whatever reasons, define_logging_options should atleast bind the options object when adding the callback so that aboves bug is fixed.