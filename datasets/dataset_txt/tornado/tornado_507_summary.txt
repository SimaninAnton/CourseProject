Question about handling blocking code in periodiccallback