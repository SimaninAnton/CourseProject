Contributor
kmike commented on 15 Jul 2014
Hi,
When doing #1109 and checking scrapy/scrapy#803 I've run a couple of benchmarks:
http://nbviewer.ipython.org/gist/kmike/b23a3b12fac6654b1c90 (Python 3.4)
http://nbviewer.ipython.org/gist/kmike/4e79964c1d589faef174 (Python 2.7)
The problem is that BytesIO copies the data, so using it just to make interface file-like for readonly data could be quite wasteful.
I believe this is a problem in curl_httpclient, simple_httpclient and wsgi tornado modules, and by using another wrapper (or at least by falling back to cStringIO in Python 2.x) they can be made faster and more memory efficient.