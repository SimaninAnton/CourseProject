jesopo commented on 8 Jul 2019 â€¢
edited
(using Python 3.7.3)
This line here https://github.com/jesopo/bitbot/blob/15e143fcff39d64c5acc2d93f61c2f00f65c2ee0/src/utils/http.py#L127 overwrites all the configuration done here https://github.com/jesopo/bitbot/blob/15e143fcff39d64c5acc2d93f61c2f00f65c2ee0/src/Logging.py#L19
2019-07-08T12:21:29.059Z [DEBUG] [redcated] (raw recv) | @time=2019-07-08T11:21:29.000Z;account=[redacted] :[redacted] PRIVMSG BitBotTest :VERSION
2019-07-08T12:21:29.360Z [DEBUG] [redcated] (raw recv) | :[redacted] 324 BitBotTest #bitbot +nt
2019-07-08T12:21:29.361Z [DEBUG] [redcated] (raw recv) | :[redacted] 329 BitBotTest #bitbot 1562584887
2019-07-08T12:21:29.362Z [DEBUG] [redcated] (raw recv) | :[redacted] 354 BitBotTest 111 jess [redacted]/bot/BitBot BitBotTest BitBot :BitBot
2019-07-08T12:21:29.363Z [DEBUG] [redcated] (raw recv) | :[redacted] 315 BitBotTest #bitbot :End of /WHO list.
2019-07-08T12:21:29.393Z [DEBUG] [redcated] (raw send) | NOTICE [redacted] :VERSION BitBot v1.10.0 (https://git.io/bitbot)
2019-07-08T12:21:59.361Z [DEBUG] [redcated] (raw send) | PING hello
2019-07-08T12:21:59.439Z [DEBUG] [redcated] (raw recv) | :[redacted1] PONG [redacted2] :hello

// tornado.ioloop.IOLoop.current().run_sync(_request) is called

TRACE:bitbot:executed query in 0.150282ms: "SELECT value FROM channel_settings WHERE channel_id=? AND setting=?" (params: [2, 'rss-seen-ids-https://lorem-rss.herokuapp.com/feed'])
TRACE:bitbot:calling event: "send.stdout" (params: {'target': IRCChannel.Channel([redacted]|##bitbot), 'module_name': 'RSS', 'server': IRCServer.Server([redacted]), 'message': 'Lorem ipsum feed for an interval of 1 minutes: Lorem ip
sum 2019-07-08T11:18:00Z by John Smith - http://example.com/test/1562584680'})
TRACE:bitbot:executed query in 0.068126ms: "SELECT value FROM bot_settings WHERE setting=?" (params: ['command-method'])
TRACE:bitbot:executed query in 0.064742ms: "SELECT value FROM server_settings WHERE server_id=? AND setting=?" (params: [1, 'command-method'])
TRACE:bitbot:executed query in 0.060078ms: "SELECT value FROM channel_settings WHERE channel_id=? AND setting=?" (params: [2, 'command-method'])
TRACE:bitbot:calling event: "preprocess.send.privmsg" (params: {'server': IRCServer.Server([redacted]), 'line': ParsedLine(PRIVMSG ##bitbot :[03RSS] Lorem ipsum feed for an interval of 1 minutes: Lorem ipsum 2019-07-08T11:18:00Z by John Smi
th - http://example.com/test/1562584680), 'events': <src.EventManager.Events object at 0x7f4987fd5a20>})
TRACE:bitbot:executed query in 0.061754ms: "SELECT value FROM server_settings WHERE server_id=? AND setting=?" (params: [1, 'message-filters'])
TRACE:bitbot:executed query in 0.069875ms: "SELECT value FROM channel_settings WHERE channel_id=? AND setting=?" (params: [2, 'message-filters'])
TRACE:bitbot:executed query in 0.069631ms: "SELECT value FROM server_settings WHERE server_id=? AND setting=?" (params: [1, 'strip-color'])
TRACE:bitbot:executed query in 0.068505ms: "SELECT value FROM channel_settings WHERE channel_id=? AND setting=?" (params: [2, 'strip-color'])
I've tried:
import tornado.options
tornado.options.options.logging = None
On this line https://github.com/jesopo/bitbot/blob/15e143fcff39d64c5acc2d93f61c2f00f65c2ee0/src/utils/http.py#L6 but it doesn't help. What am I doing wrong?