Contributor
mrocklin commented on 31 Jan 2018
This used to work under 4.5.2 and now fails under 5.0
from tornado import gen
from tornado.ioloop import IOLoop
def f():
    IOLoop.clear_instance()
    IOLoop.clear_current()
    loop = IOLoop()
    loop.make_current()
    print(IOLoop.current() is loop)

import multiprocessing
multiprocessing.Process(target=f).start()  # prints True

async def g():
    multiprocessing.Process(target=f).start()

IOLoop.current().run_sync(g)  # prints True in 4.5.2, False in master