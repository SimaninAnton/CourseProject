Is there any way to build a context manager which does some async things inside?