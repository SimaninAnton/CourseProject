IchordeDionysos commented on 3 Nov 2016
I wondered why a call to self.get_body_argument("key") in the RequestHandler class returns None.
So I looked how this was solved internally in Tornado and I found this:
A call to get_body_argument uses the self.request.body_arguments dictionary.
This is constructed in the function _parse_body of httputil.HTTPServerRequest class
The _parse_body function calls the httputil.parse_body_arguments function and there you can see, that the body is only parsed if the content_type.startswith("application/x-www-form-urlencoded") or content_type.startswith("multipart/form-data")
Here I would suggest adding something like this:
elif content_type.startswith("application/json"):
        try:
            uri_arguments = json.load(body)
        except Exception as e:
            gen_log.warning('Invalid json body: %s', e)
            uri_arguments = {}
        for name, values in uri_arguments.items():
            if values:
                arguments.setdefault(name, []).extend(values)