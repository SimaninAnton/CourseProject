Calling Future.result() from synchronous function