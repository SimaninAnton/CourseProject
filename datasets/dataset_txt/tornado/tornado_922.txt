Contributor
pitrou commented on 17 Jul 2013
Title says it all. This is apparently a known issue, since iostream_test has an explicit workaround for it:
        if isinstance(streams[0], SSLIOStream):
            # HACK: The SSL handshake won't complete (and
            # therefore the client connect callback won't be
            # run)until the server side has tried to do something
            # with the connection.  For these tests we want both
            # sides to connect before we do anything else with the
            # connection, so we must cause some dummy activity on the
            # server.  If this turns out to be useful for real apps
            # it should have a cleaner interface.
            streams[0]._add_io_state(IOLoop.READ)
but, still, it would be better if this were fixed. Not only because doing the handshake as soon as possible is better for latency, but also because there are situations where this behaviour is annoying: i.e. you're waiting for the connection to be established before doing something with it, but it won't be marked established before you do something with it (so as to initiate the handshake).