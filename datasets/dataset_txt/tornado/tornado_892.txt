dizlv commented on 14 Oct 2013
Currently json_encode mehtod doesn't allow to set JSONEncoder, though it could be very useful. For example, SELECT statement returns datetime objects, which by default can not be serialized by json_encode. For this purposes you need to write something like this:
class DateTimeEncoder(json.JSONEncoder):
    """
    JSONEncoder. Allows to JSONIFY datetime objects.
    """
    def default(self, obj):
        if isinstance(obj, datetime.datetime):
            return obj.isoformat()
        return json.JSONEncoder.default(self, obj)
And then use json.dumps(obj, cls=DateTimeEncoder).