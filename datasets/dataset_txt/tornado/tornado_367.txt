Member
bdarnell commented on 25 Mar 2017
autoreload currently has a wrapper mode (e.g. python -m tornado.autoreload -m tornado.test) for scripts, and an in-process mode (enabled by Application(..., debug=True)). It's useful to combine these, since the wrapper can catch syntax errors that cause the process to abort before entering its IOLoop. However, this doesn't work as well as it should, because the main wrapper only restores sys.argv if the process exits, meaning the -m tornado.autoreload flags are lost if the inner autoreload fires. The original argv needs to be stored in a global when autoreload is __main__, so that it can be used in _reload().
2