rsmith31415 commented on 30 Aug 2015
Is there some reason why this should fail (with
AssertionError: Async operation timed out after 5 seconds) when the request takes several seconds
class TestKernelHandlerWithKernelsJulia(AsyncHTTPTestCase):

    def get_app(self):
        self.application = Application()
        return self.application

    def setUp(self):
        super(MyTest, self).setUp()

    def tearDown(self):
        super(MyTest, self).setUp()

    def test_post_method_2(self):
        data = json.dumps({'param1': '1', 'param2': '2'})
        response = self.fetch('/myurl', method='POST', body=data)
        response = json.loads(response.body)
        self.assertTrue(response['value'] == '2')
but this succeeds:
    def test_post_method(self):
        data = json.dumps({'param1': '1', 'param2': '2'})
        response = self.http_client.fetch('/myurl', self.handle_request, method='POST', body=data)

    def handle_request(self, response):
        response = json.loads(response.body)
        self.assertTrue(response['value']== '1')
An additional question. How can I increase the wait time in this case (the equivalent decorator to @gen_test(timeout=10))?