z0u commented on 14 Jul 2017
What is the best (most robust) way to clean up resources used by a RequestHandler? Suppose I get a resource in prepare and store it as a member of self - how can it be released?
The documentation says that resources can be cleaned up in on_finish and on_connection_close, but:
I'm not sure if the intention is that those methods are always called, and
finish (source) has no exception handling to ensure that on_finish is called
Here's a more detailed example showing why I'm interested in this on Stack Overflow. Related: #1968, #517.