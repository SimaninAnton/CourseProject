ghost commented on 23 Jul 2014
Freeciv-web is a HTML5 strategy game, which implements WebSockets using Tornado 4.0. I have been logging Javascript errors in Freeciv-web using Track:js, and have discovered that many users are having WebSocket related error-messages. In particular, during the past 12 hours:
The 'onerror' WebSocket Javascript event listener is called 5 times, of which 3 are called on the inital connect, and 2 are called after about one hour.
The 'onclose' WebSocket Javascript event listener is called 38 times, where the error code in the error object is 1005. Most of these events are not errors, but are close events triggered by the user closing the browser window.
The 'onclose' WebSocket Javascript event listener is called 14 times, where the error code in the error object is 1006. These events seems to be errors.
The WebSocket server implementation is here: Freeciv-proxy running Tornado 4.0 on Python 3.4.0 on Ubuntu 14.04 Linux. Freeciv-proxy runs on multiple Python instances on various ports, while nginx proxies HTTP packets on port 80. nginx config
The client Javascript implementation is here: Freeciv-web.
How can I better understand these Javascript errors? Any help much appreciated!