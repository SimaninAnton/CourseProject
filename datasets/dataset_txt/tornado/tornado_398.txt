khajvahmac commented on 9 Jan 2017 â€¢
edited
SETTINGS = {
    'debug': True,
    'autorelaod': True,
    'cookie_secret': "234kjsaldkf234kljasdfkl90ugdfoigjm,x.bn,mszdf8g923"
}


if __name__ == "__main__":
    application = tornado.web.Application(urls.urls, **SETTINGS)
    tornado.platform.asyncio.AsyncIOMainLoop().install()
    application.listen(8880)
    asyncio.get_event_loop().run_forever()
This code fails with the following traceback:
Traceback (most recent call last):
  File "webapp/main.py", line 23, in <module>
    tornado.platform.asyncio.AsyncIOMainLoop().install()
  File "/home/khajvah/Personal/orisma/venv/lib/python3.5/site-packages/tornado/ioloop.py", line 180, in install
    assert not IOLoop.initialized()
AssertionError
As I understand, if any or both of those options are present, it creates an IOLoop which causes .install() to fail.
The docstring of install() talks about it but one has to look deep to realize what's going on.
Maybe the docs of AsyncIOMainLoop should talk about it, as this can potentially waste many people's time?