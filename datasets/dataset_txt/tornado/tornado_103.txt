xnys commented on 7 Jan 2019 â€¢
edited
tornado 5.1.1
I often trigger this error, but I don't know how to solve it.Help!
try-catch has been added.
try:
    self.write_message(data)
except ...
[2019-01-07 05:32:34,509 ERROR asyncio] Future exception was never retrieved
future: <Future finished exception=WebSocketClosedError()>
Traceback (most recent call last):
  File "/usr/zb/.local/lib/python3.6/site-packages/tornado/websocket.py", line 874, in wrapper
    yield fut
  File "/usr/zb/.local/lib/python3.6/site-packages/tornado/gen.py", line 1133, in run
    value = future.result()
tornado.iostream.StreamClosedError: Stream is closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/zb/.local/lib/python3.6/site-packages/tornado/gen.py", line 1141, in run
    yielded = self.gen.throw(*exc_info)
  File "/usr/zb/.local/lib/python3.6/site-packages/tornado/websocket.py", line 876, in wrapper
    raise WebSocketClosedError()
tornado.websocket.WebSocketClosedError