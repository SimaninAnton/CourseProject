Contributor
ajdavis commented on 5 Nov 2013
If you GET a URL with a request body:
yield http_client.fetch(url, body='data')
Tornado just raises AssertionError. Same for a POST with no body. This is a likely mistake for someone coming from a framework that automatically POSTs whenever a body is supplied. The traceback is no help:
  File "tornado/gen.py", line 496, in run
    next = self.yield_point.get_result()
  File "tornado/gen.py", line 395, in get_result
    return self.runner.pop_result(self.key).result()
  File "concurrent/futures/_base.py", line 397, in result
    return self.__get_result()
  File "concurrent/futures/_base.py", line 356, in __get_result
    raise self._exception
AssertionError
I think the asserts in SimpleHTTPClient should include a message about what the user did wrong. CurlHTTPClient should assert the same conditions, with the same messages.