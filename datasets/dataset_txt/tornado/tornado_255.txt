Contributor
pitrou commented on 3 Jan 2018 â€¢
edited
This is on git master:
>>> from tornado.ioloop import IOLoop
>>> IOLoop.clear_current()
Traceback (most recent call last):
  File "<ipython-input-4-59b136f0bd53>", line 1, in <module>
    IOLoop.clear_current()
  File "/home/antoine/tornado/tornado/ioloop.py", line 322, in clear_current
    old = IOLoop._current.instance
AttributeError: '_thread._local' object has no attribute 'instance'

>>> IOLoop.clear_instance()
Traceback (most recent call last):
  File "<ipython-input-5-cf608ef320e5>", line 1, in <module>
    IOLoop.clear_instance()
  File "/home/antoine/tornado/tornado/ioloop.py", line 263, in clear_instance
    IOLoop.clear_current()
  File "/home/antoine/tornado/tornado/ioloop.py", line 322, in clear_current
    old = IOLoop._current.instance
AttributeError: '_thread._local' object has no attribute 'instance'
Compare with v4.5.2:
>>> from tornado.ioloop import IOLoop
>>> IOLoop.clear_current()
>>> IOLoop.clear_instance()