guochunyang commented on 17 Jan 2015
I installed tornado using sudo pip install tornado in Ubuntu 14.04.
code:
# coding: utf-8
import socket
import sys
import errno
from time import ctime
import tornado 

def handle_connection(client_socket, client_address):
    while True:
        data = client_socket.recv(1024)
        if not data:
            print 'disconnect', client_address
            client_socket.close()
            break;
        else:
            client_socket.send('[%s] %s' % (ctime(), data)) #echo

@tornado.gen.engine
def main(server_socket):
    while True:
        (client_socket, client_address) = yield server_socket.accept()
        print 'Got connection from ', client_address
        handle_connection(client_socket, client_address)

if __name__ == '__main__':
    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    listen_address = ('localhost', 9981)
    server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    server_socket.bind(listen_address)
    server_socket.listen(10)

    main(server_socket)
Error:
gen|â‡’ python 1.py   
Traceback (most recent call last):
  File "1.py", line 18, in <module>
    @tornado.gen.engine
AttributeError: 'module' object has no attribute 'gen'