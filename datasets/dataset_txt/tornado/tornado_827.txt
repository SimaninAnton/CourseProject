Contributor
ukoethe commented on 12 May 2014
Windows (in my case: Windows 7, 64-bit and Visual Studio 2012) does not use the standard socket error numbers (e.g. errno.EWOULDBLOCK). Instead, there are corresponding error numbers prefixed with WSA (e.g. errno.WSAEWOULDBLOCK). Since tornado only checks for the standard ones, its test suite (runtests.sh) fails on Windows.
I was able to get the test suite running with the following quick fix: I first added a file tornado/portable_errno.py containing
import errno
from errno import *

for _k in dir(errno):
    if _k.startswith('WSA'):
        _e = _k[3:]
        if hasattr(errno, _e):
            # override standard error code with corresponding Windows code
            exec(_e + ' = ' + _k)
and then changed every occurence of import errno in the other source files with
import tornado.portable_errno as errno
However, it is probably cleaner to check for both types of errors instead of just overriding.