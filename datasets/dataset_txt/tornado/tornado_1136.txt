Contributor
oyerli commented on 8 Sep 2011
Hi,
I have a long polling server written in tornado behind an nginx server. My nginx configuration is as follows:
proxy_pass http://127.0.0.1:8000;
proxy_buffering off;
proxy_read_timeout 60s;
Since I set a proxy_read_timeout it timeouts in 60 seconds if no new messages come from long polling. Then the client initiates a new connection.
However, I noticed that in this configuration tornado memory usage increases by time. I confirmed that by deliberately setting proxy_read_timeout 1s.
Is there a problem with tornado's handling of stale connections?