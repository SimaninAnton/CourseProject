v3ss0n commented on 2 Apr 2015
I am now testing rethinkdb in tornado, all test pass in rethinktb tornado connection test but when i tried to use it inside tornado , I am having problem iterating TornadoCursor.
import logging
import tornado.escape
import tornado.ioloop
import tornado.web
import os.path
import uuid
import rethinkdb as r
from tornado.concurrent import Future
from tornado import gen
from tornado.options import define, options, parse_command_line
r.set_loop_type("tornado")
define("port", default=8080, help="run on the given port", type=int)
define("debug", default=False, help="run in debug mode")
conn = r.connect("localhost")
evt = r.db("rechat").table("events")
class MainHandler(tornado.web.RequestHandler):

    @gen.coroutine
    def get(self):
        con = yield conn
        curs = yield evt.run(con)
        messages = list(curs)
        self.render("index.html", messages=messages)
Tried looping , list comprehension , none of that helped.