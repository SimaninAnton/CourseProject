Contributor
sebbov commented on 27 Jun 2017 â€¢
edited
I am seeing Jupyter notebooks, which use Tornado, include a Content-Length: 0 on a websocket connection request. The .NET websocket client doesn't appreciate that.
I believe this is the issue:
tornado/tornado/web.py
Line 1000 in c2c0f38
 elif "Content-Length" not in self._headers: 
Per RFC7230, section 3.3.2 (https://tools.ietf.org/html/rfc7230#section-3.3.2):
A server MUST NOT send a Content-Length header field in any response
with a status code of 1xx (Informational) or 204 (No Content). A
server MUST NOT send a Content-Length header field in any 2xx
(Successful) response to a CONNECT request (Section 4.3.6 of
[RFC7231]).