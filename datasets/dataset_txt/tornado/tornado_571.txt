Dmitri-Sintsov commented on 3 Dec 2015
Hi!
My customer uses Windows 2012 R2 for their hosting and I have no another choice but to run Django behind Tornado because Django fastcgi handlers fails both in IIS and nginx and I was unable to compile mod_wsgi for apache (and the precompiled one from whl crashes). Tornado seems to work fine, it's nice to know it has binary speedups even for Windows. However I stuck to one major problem, when checking test deploy.
Django is 1.8.7. Tornado is 4.3. Also I use Python 3.4.3, not Python 2.7, if that matters.
When I run Django through it's development server (not recommended in production):
python manage.py runserver
AJAX post handlers fired in client-side Javascript are executed at server-side (Django views) just once.
When I run via recommended script
https://github.com/bdarnell/django-tornado-demo/blob/master/testsite/tornado_main.py
as
python tornado_main.py
everything seems fine except Django views are executed twice (not once) during client-side POST (XMLHttpRequest).
Client-side scripts are not altered so it must not be at client side especially because manage.py runserver works fine in that case (both at Windows 2012 R2 and in Ubuntu 14.04). But I haven't tried to install and use Tornado at development computer (Ubuntu) yet.
I am not much into low-level WSGI stuff I do not know how to fix this problem myself. Is that a Tornado bug or Django bug?
Maybe later I'll try to install Tornado in Ubuntu to check whether the problem persists cross platform.
Also tornado_main.py failed with configuration error until I added the following line:
os.environ['DJANGO_SETTINGS_MODULE'] = 'ispdev.settings'