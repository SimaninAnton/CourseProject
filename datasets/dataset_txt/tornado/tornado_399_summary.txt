AssertionError: queue non-empty, why are getters waiting?