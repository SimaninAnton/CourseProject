thruflo commented on 13 Dec 2009
I just spent a bit of time digging around to find out that in tornado.httpclient._curl_setup_request there's this code::
try:
    curl.setopt(pycurl.HEADERFUNCTION,
                functools.partial(_curl_header_callback, headers))
except:
    # Old version of curl; response will not include headers
    pass
The "old version of curl" refers to any version before 7.16.4 (see the ChangeLog here: http://pycurl.sourceforge.net/ChangeLog ).
In the tornado README, there's a suggested Mac OSX command of::
$ sudo easy_install setuptools pycurl==7.16.2.1 simplejson
To resolve Tornado's dependencies. Perhaps it's worth either updating that to 7.16.4 (looking at the change log I can't see any compatibility / libcurl version issues) or perhaps at least flagging up the choice?
If not worth tweaking the README at least perhaps this post might help if you're scratching your head...
Thanks,
James.