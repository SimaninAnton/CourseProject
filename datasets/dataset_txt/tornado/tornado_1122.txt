wmark commented on 21 Oct 2011
Tornado's http clients utilizing _HTTPConnection do not behave correctly with HEAD, PUT and DELETE requests:
Despite responses to these methods not having a body, _HTTPConnection is waiting for one after having processed the headers. [1]_
Although the client has sent a HTTP 1.1 request neither did he close the connection nor has it used it for requesting more. Two things happen independently and most times not in that order: On server-side, the server closes the connection; on client-side, we run into a timeout (throwing an IOException).
The actual and correct response (consisting of headers only) is not used, but a dummy-response with code 599 yielded. [2]_
Fixed by (replace "anzu" by "tornado"):
wmark@2464ac9
.. [1] https://github.com/facebook/tornado/blob/master/tornado/simple_httpclient.py#L333
.. [2] https://github.com/facebook/tornado/blob/master/tornado/simple_httpclient.py#L292