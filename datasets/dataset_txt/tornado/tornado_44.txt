losewin commented on 4 Jul 2019
I don't know if this issue belongs here, but right now I don't know where should I ask this question.
My question is how could I make suck calls non-blocking though I already prove that tornado server is non-blocking. But I observe something if I call pricing multiple times the other link request is being blocked which is calling names. My question is what are the ways to make the pricing and nameAPI not being block.
Thepricing API will response even the other calls is uncompleted. But names API will not be called unless all the pricing API is done
@tornado.gen.coroutine
 def get(self):
  hotelId=self.get_argument('code',False)
  try:
   if not hotelId:
    raise Error('Hotel ID is not defined')
   params=json.loads(self.get_secure_cookie(utils.helpers.languages.Cookies.SEARCH))
   result=yield Hotel.pricing(hotelId,params)
   self.write(result)

  except Error as e:
   self.write_wrong(str(e))
  except Exception as e:
   print(traceback.format_exc())
   self.write_wrong()
  finally:
   # time.sleep(15)
   self.finish()