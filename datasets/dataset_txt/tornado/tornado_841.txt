akheron commented on 18 Mar 2014
I get the following error while running pip install tornado on Python 3.4.0. It seems to me that -Werror causes warnings to be treated as errors, and this breaks the build.
  Running setup.py install for tornado
    building 'tornado.speedups' extension
    gcc -pthread -Wno-unused-result -Werror=declaration-after-statement -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/home/petri/tmp/gobridge/venv/include -I/home/petri/multipy/pythons/3.4.0/include/python3.4m -c tornado/speedups.c -o build/temp.linux-x86_64-3.4/tornado/speedups.o
    tornado/speedups.c: In function ‘websocket_mask’:
    tornado/speedups.c:14:5: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]
    tornado/speedups.c:18:5: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]
    tornado/speedups.c: At top level:
    tornado/speedups.c:41:1: warning: function declaration isn’t a prototype [-Wstrict-prototypes]
    cc1: some warnings being treated as errors
    command 'gcc' failed with exit status 1
    deleting tornado.egg-info/requires.txt
    /home/petri/tmp/gobridge/venv/build/tornado/setup.py:102: UserWarning:
    ********************************************************************
    WARNING: The tornado.speedups extension module could not
    be compiled. No C extensions are essential for Tornado to run,
    although they do result in significant speed improvements for
    websockets.
    The output above this warning shows how the compilation failed.

    Here are some hints for popular operating systems:

    If you are seeing this message on Linux you probably need to
    install GCC and/or the Python development package for your
    version of Python.

    Debian and Ubuntu users should issue the following command:

        $ sudo apt-get install build-essential python-dev

    RedHat, CentOS, and Fedora users should issue the following command:

        $ sudo yum install gcc python-devel

    If you are seeing this message on OSX please read the documentation
    here:

    http://api.mongodb.org/python/current/installation.html#osx
    ********************************************************************