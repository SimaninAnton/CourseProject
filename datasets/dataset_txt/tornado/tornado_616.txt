arthurdarcet commented on 19 Aug 2015
I'm trying to get the example from the docs working: http://tornado.readthedocs.org/en/latest/guide/coroutines.html#python-3-5-async-and-await
with the following code
import asyncio
from tornado.httpclient import AsyncHTTPClient

async def main():
    http_client = AsyncHTTPClient()
    response = await http_client.fetch('http://httpbin.org')
    return response.body

loop = asyncio.get_event_loop()
loop.run_until_complete(main())
but all I get is a RuntimeError: Task got bad yield: <tornado.concurrent.Future â€¦>
Am I doing something wrong or is the tornado support for PEP-0492 not complete yet?
Thanks for your help
(I am on master for tornado and Python 3.5.0rc1)