JoakimSoderberg commented on 18 Sep 2014
a7dc5bc#diff-9b84c7e5ffcc39dd22d142abd484d8bfR129 which normalizes all outgoing headers, for instance "set-cookies" to "Set-Cookies" breaks support for some older clients we have. As @jagguli mentions, why not just do lowercase here? At least have it as an option.
When upgrading from an older Tornado version to this latest one, some older clients broke for us (not easily upgradeable), these clients are using an older version of libwebsockets with this bug (it only parses lower case headers in the Websocket upgrade response properly):
warmcat/libwebsockets#137
So now to be able to run the latest Tornado with these older clients we are stuck with monkey patching. It would be nice to have an option to turn this "prettyfying outgoing headers" off.