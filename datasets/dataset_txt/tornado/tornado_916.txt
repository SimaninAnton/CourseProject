Member
bdarnell commented on 5 Aug 2013
The NullContext/add_callback dance required to break free of a surrounding stack context is non-obvious and verbose; we should add a helper method to do the equivalent of
with NullContext():
io_loop.add_callback(callback)
In the actual implementation this could be reversed, since all that's needed is to remove the stack_context.wrap:
def add_callback(self, callback):
self.spawn_callback(stack_context.wrap(callback))
Discussion: https://groups.google.com/forum/#!searchin/python-tornado/abuse$20of$20prepare/python-tornado/iBt7He2KZ40/pApgKFdya9YJ