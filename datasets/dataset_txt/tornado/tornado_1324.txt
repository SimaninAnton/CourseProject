smallfish commented on 10 Dec 2009
I change it, you can look my blog: http://chenxiaoyu.org/blog/archives/82
but code is not check DBUtils version.
code:
def reconnect(self):
    """Closes the existing database connection and re-opens it."""
    self.close()
    try:
        from DBUtils import PooledDB
        pool_con = PooledDB.PooledDB(creator=MySQLdb, **self._db_args)
        self._db = pool_con.connection()
    except:
        self._db = MySQLdb.connect(**self._db_args)
        self._db.autocommit(True)