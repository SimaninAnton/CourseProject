Contributor
pitrou commented on 12 Nov 2012
The close callback that one can register on an IOStream does not get any information about the reason the stream / socket was closed. ECONNRESET is not the same thing as a regular EOF.
Compare with Twisted's connectionLost: http://twistedmatrix.com/documents/12.1.0/api/twisted.internet.interfaces.IProtocol.html#connectionLost
The callback could optionally get, either an exception instance (None if regular EOF), or an errno number (0 if regular EOF).