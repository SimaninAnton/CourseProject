idevat commented on 20 Nov 2019
StaticFileHandler uses MD5 which is disabled in FIPS (Federal Information Processing Standards) environment. It reports (misleading) message "Could not open static file ..." (probably during etag computation).
Reproducer:
>>> import os
>>> os.path.exists("/tmp/tornado-test.css")
True
>>> from tornado.web import StaticFileHandler
>>> StaticFileHandler._get_cached_version("/tmp/tornado-test.css")
Could not open static file '/tmp/tornado-test.css'
>>> StaticFileHandler.get_content_version("/tmp/tornado-test.css")
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/lib64/python3.6/site-packages/tornado/web.py", line 2833, in get_content_version
    hasher = hashlib.md5()
ValueError: [digital envelope routines: EVP_DigestInit_ex] disabled for FIPS
Overriding of the method get_content_version using sha1 instead of md5 can be used as a workaround.