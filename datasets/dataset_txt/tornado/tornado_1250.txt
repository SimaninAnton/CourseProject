Contributor
felinx commented on 6 Aug 2010
For example:
login_url:
http://poweredsites.org/login
url which need authenticated:
http://blog.poweredsites.org/compose
It will redirect to http://poweredsites.org/compose after authenticated success because authenticated use uri rather than full_url(), that's not correct for next url.
tornado.web.authenticated:
url += "?" + urllib.urlencode(dict(next=self.request.uri))
fix this line to below, then it will work well:
url += "?" + urllib.urlencode(dict(next=self.request.full_url()))