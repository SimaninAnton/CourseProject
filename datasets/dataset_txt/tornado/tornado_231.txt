imirzadeh commented on 22 Feb 2018 â€¢
edited
When a new request comes, I put the request object in a hashmap and when the result of external service comes, I call .write() method of that request.
However when server loads at start everything is ok but after a while although it prints "going to send response" but nothing goes to the client!
Does anyone know why?
def post(self):
  self._auto_finish = False
                 key = get_new_key_for_request()
                 global my map
                 my_map[key] =  self
                 ... send request data to external source with key and wait for result

def ready(key):
           global my_map
           req = my_map.pop(key)
           print("going to send response")
           req.write("OK")
OS: Ubuntu 16.04
Python: Python 3.5.2
tornado: 4.5.2