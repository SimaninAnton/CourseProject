sagelywizard commented on 31 Aug 2010
In httpclient.py, the init method of the HTTPResponse class causes a memory leak when the response code is greater than 300 and less than 200. In the HTTPResponse init method, an HTTPError instance is created (when self.code < 200 or >= 300), which contains a reference to the original HTTPResponse.
So, HTTPResponse.init references HTTPError, HTTPError.init references HTTPResponse, which references HTTPResponse, which references HTTPError, rinse, repeat.
This causes a rather nasty memory leak. It'd probably be best for HTTPError to have a weak reference to HTTPResponse.
If you have any questions, feel free to contact me.