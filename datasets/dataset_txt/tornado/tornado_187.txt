raghumy commented on 3 May 2018
The 5.0.2 wsgi adapter seems to be throwing a runtime error:
[Wed May 02 19:43:09.367974 2018] [:error] [pid 31085] [remote 172.31.12.172:164] mod_wsgi (pid=31085): Exception occurred processing WSGI script '/opt/python/current/app/application.py'.
[Wed May 02 19:43:09.368100 2018] [:error] [pid 31085] [remote 172.31.12.172:164] Traceback (most recent call last):
[Wed May 02 19:43:09.368138 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/opt/python/run/venv/local/lib64/python3.6/site-packages/tornado/wsgi.py", line 222, in call
[Wed May 02 19:43:09.368147 2018] [:error] [pid 31085] [remote 172.31.12.172:164] self.application(request)
[Wed May 02 19:43:09.368154 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/opt/python/run/venv/local/lib64/python3.6/site-packages/tornado/web.py", line 2041, in call
[Wed May 02 19:43:09.368157 2018] [:error] [pid 31085] [remote 172.31.12.172:164] return dispatcher.execute()
[Wed May 02 19:43:09.368162 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/opt/python/run/venv/local/lib64/python3.6/site-packages/tornado/web.py", line 2172, in execute
[Wed May 02 19:43:09.368165 2018] [:error] [pid 31085] [remote 172.31.12.172:164] **self.path_kwargs)
[Wed May 02 19:43:09.368180 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/opt/python/run/venv/local/lib64/python3.6/site-packages/tornado/gen.py", line 288, in wrapper
[Wed May 02 19:43:09.368183 2018] [:error] [pid 31085] [remote 172.31.12.172:164] future = _create_future()
[Wed May 02 19:43:09.368188 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/opt/python/run/venv/local/lib64/python3.6/site-packages/tornado/gen.py", line 186, in _create_future
[Wed May 02 19:43:09.368190 2018] [:error] [pid 31085] [remote 172.31.12.172:164] future = Future()
[Wed May 02 19:43:09.368195 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/usr/lib64/python3.6/asyncio/events.py", line 678, in get_event_loop
[Wed May 02 19:43:09.368198 2018] [:error] [pid 31085] [remote 172.31.12.172:164] return get_event_loop_policy().get_event_loop()
[Wed May 02 19:43:09.368202 2018] [:error] [pid 31085] [remote 172.31.12.172:164] File "/usr/lib64/python3.6/asyncio/events.py", line 584, in get_event_loop
[Wed May 02 19:43:09.368205 2018] [:error] [pid 31085] [remote 172.31.12.172:164] % threading.current_thread().name)
[Wed May 02 19:43:09.368219 2018] [:error] [pid 31085] [remote 172.31.12.172:164] RuntimeError: There is no current event loop in thread 'Dummy-1'.
I switched to 4.5.3 and don't get this error. Looks like something in 5.0.2 is causing this issue.