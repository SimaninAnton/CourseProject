Contributor
gward commented on 2 Dec 2016
windows_test.py assumes that unittest is from Python 2.7:
$ python -V
Python 2.6.6

$ ./runtests.sh 
Traceback (most recent call last):
  File "/usr/lib64/python2.6/runpy.py", line 122, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/usr/lib64/python2.6/runpy.py", line 34, in _run_code
    exec code in run_globals
  File "/fs/mfs/home1/home/gward/src/tornado/tornado/test/runtests.py", line 188, in <module>
    main()
  File "/fs/mfs/home1/home/gward/src/tornado/tornado/test/runtests.py", line 177, in main
    tornado.testing.main(**kwargs)
  File "tornado/testing.py", line 730, in main
    unittest.main(defaultTest="all", argv=argv, **kwargs)
  File "/usr/lib/python2.6/site-packages/unittest2/main.py", line 89, in __init__
    self.parseArgs(argv)
  File "/usr/lib/python2.6/site-packages/unittest2/main.py", line 135, in parseArgs
    self.createTests()
  File "/usr/lib/python2.6/site-packages/unittest2/main.py", line 142, in createTests
    self.module)
  File "/usr/lib/python2.6/site-packages/unittest2/loader.py", line 245, in loadTestsFromNames
    suites = [self.loadTestsFromName(name, module) for name in names]
  File "/usr/lib/python2.6/site-packages/unittest2/loader.py", line 230, in loadTestsFromName
    test = obj()
  File "/fs/mfs/home1/home/gward/src/tornado/tornado/test/runtests.py", line 62, in all
    return unittest.defaultTestLoader.loadTestsFromNames(TEST_MODULES)
  File "/usr/lib/python2.6/site-packages/unittest2/loader.py", line 245, in loadTestsFromNames
    suites = [self.loadTestsFromName(name, module) for name in names]
  File "/usr/lib/python2.6/site-packages/unittest2/loader.py", line 172, in loadTestsFromName
    module = __import__(module_name)
  File "tornado/test/windows_test.py", line 8, in <module>
    skipIfNonWindows = unittest.skipIf(os.name != 'nt', 'non-windows platform')
AttributeError: 'module' object has no attribute 'skipIf'