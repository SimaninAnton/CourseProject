rlrosa commented on 2 Jul 2013
Hi.
I'm working with tornadio2 which uses the tornado ws implementation.
i found the issue i'm having (mrjoes/tornadio2#68), it points to tornado.
i get this error:
Error in periodic callback (periodic::_run:89)#012Traceback (most recent call last):#012  File "/usr/lib/python2.7/dist-packages/tornadio2/periodic.py", line 85, in _run#012    next_call = self.callback()#012  File "/usr/lib/python2.7/dist-packages/tornadio2/session.py", line 277, in _heartbeat#012    self.send_message(proto.heartbeat())#012  File "/usr/lib/python2.7/dist-packages/tornadio2/session.py", line 195, in send_message#012    self.flush()#012  File "/usr/lib/python2.7/dist-packages/tornadio2/session.py", line 205, in flush#012    self.handler.send_messages(self.send_queue)#012  File "/usr/lib/python2.7/dist-packages/tornadio2/persistent.py", line 163, in send_messages#012    self.write_message(m)#012  File "/usr/lib/python2.7/dist-packages/tornado/websocket.py", line 165, in write_message#012    self.ws_connection.write_message(message, binary=binary)#012AttributeError: 'NoneType' object has no attribute 'write_message'
i'm not sure why the server gets into this situation, but it doesn't get out. keeps on logging this error forever.
any tips/suggestions?
thanks.
sal√∫