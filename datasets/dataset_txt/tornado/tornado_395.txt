Contributor
mirceaulinic commented on 23 Jan 2017
Hello,
I was looking at the connect method in the TCPClient and my understanding is that it does not support the source IP Address (or source interface): https://github.com/tornadoweb/tornado/blob/master/tornado/tcpclient.py#L157-L158
But default, a socket without a bind will use the loopback IP. But there are needs when the environment (i.e. firewalls etc.) requires using a certain source/interface to connect.
As my tornado understanding is very limited so far, I think it should only require adding the necessary binding in: https://github.com/tornadoweb/tornado/blob/master/tornado/iostream.py#L1071-L1073
and somehow in https://github.com/tornadoweb/tornado/blob/master/tornado/tcpclient.py#L164 - but I'm not sure about the resolver part.
Some guidance would be much appreciated & happy to submit a PR for a new optional argument to cover that need.
Thanks,
Mircea