dsindex commented on 6 Jan 2015
tornado version : 4.0.2
application.log
2015-01-06 16:51:33,017 - ERROR - web - Uncaught exception in write_error
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/tornado/web.py", line 929, in send_error
    self.write_error(status_code, **kwargs)
  File "/usr/local/lib/python2.7/site-packages/tornado/web.py", line 957, in write_error
    "message": self._reason,
  File "/usr/local/lib/python2.7/site-packages/tornado/web.py", line 895, in finish
    self.flush(include_footers=True)
  File "/usr/local/lib/python2.7/site-packages/tornado/web.py", line 849, in flush
    start_line, self._headers, chunk, callback=callback)
  File "/usr/local/lib/python2.7/site-packages/tornado/http1connection.py", line 370, in write_headers
    raise ValueError('Newline in header: ' + repr(line))
ValueError: Newline in header: 'HTTP/1.0\n 404 Not Found'
there is no exception in version 3.2
my code for set_header()
self.set_header('Cache-Control', 'no-store, no-cache, must-revalidate, max-age=0')
...
self.set_header('Content-Type', 'application/javascript; charset=utf-8')
...
self.set_header('Content-Type', 'application/json; charset=utf-8')