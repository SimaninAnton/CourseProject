ezdev128 commented on 31 Oct 2016 â€¢
edited
Hi,
I have memory leaks even in "hello, world" example listed here http://www.tornadoweb.org/en/stable/
Code of tornado_memory_test.py: http://pastebin.com/BfG7Na9Z
Here is an example of a problem:
$ python tornado_memory_test.py
No memory leaks found!
No memory leaks found!
[I 161031 18:00:54 web:1946] 200 GET /test (127.0.0.1) 0.87ms
Memory garbage detected
[gc stat]: 73 objects in garbage
Memory garbage detected
[gc stat]: 73 objects in garbage
Memory garbage detected
[gc stat]: 73 objects in garbage
[I 161031 18:01:11 web:1946] 200 GET /test (127.0.0.1) 0.73ms
Memory garbage detected
[gc stat]: 146 objects in garbage
Here is a verbose output of garbage: http://pastebin.com/BzXudRXd
$ pip freeze | grep -i tor
tornado==4.4.2
$ python -V
Python 2.7.12
Also tried on:
$ pip freeze | grep tor
tornado==4.5.dev1
$ python -V
Python 2.7.12