Contributor
nbargnesi commented on 5 Dec 2014
There's a call to platform.system() in netutil introduced in the hack around mac firewall problems maybe a bit anomalous among similar checks in the codebase that use sys.platform instead.
On Linux and Mac, platform.system() is a bit like a bull in a china shop as os.popen tries to the output of uname. Using sys.platform avoids a class of complicated behavior around popen, subprocess, and fork, especially with processes that may be attempting to bind ports in child processes (the fork will wreak havoc with parent processes that care about SIGCHLD).