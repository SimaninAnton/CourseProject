dulm commented on 12 Nov 2019 â€¢
edited
the code run in osx 10.13.1 (17B1003), python3.7:
    app = Application([(conf.base_uri + '/query', QueryHandler),
                       ],
                      debug=False)
    http_server = HTTPServer(app)
    #http_server.listen(options.port)
    http_server.bind(options.port, reuse_port=True)

    http_server.start(options.numprocs)
    loop = asyncio.get_event_loop()

    logger.info('server start.')
    IOLoop.current().start()
```python

use supervisord to start 2 process bind same port
[program:recweb]
command=python ./web_main.py --port=13246 --numprocs=1
process_name=%(program_name)s-%(process_num)02d
numprocs=2
directory=/Users/lqk/project/PycharmProjects/RecWebAsyn
Only one process handles msges founded in stdout and log.
is there any problem in my solution, or osx not surport reuse_port?