stevvooe commented on 31 Oct 2009
I was doing some evaluation on the httpclient with async calls on Python 2.6.2 and received the following IOError:
ERROR:root:Exception in callback <bound method AsyncHTTPClient._perform of <tornado.httpclient.AsyncHTTPClient object at 0xa17e18c>>
Traceback (most recent call last):
    File "/home/steve/sandbox/tornado/tornado/ioloop.py", line 241, in _run_callback
          callback()
    File "/home/steve/sandbox/tornado/tornado/httpclient.py", line 222, in _perform
        self.io_loop.update_handler(fd, events)
    File "/home/steve/sandbox/tornado/tornado/ioloop.py", line 127, in update_handler
        self._impl.modify(fd, events | self.ERROR)
IOError: [Errno 2] No such file or directory
I added a catch for this in the httpclient where calls the epoll modify function, so that it registers the fd if the modify fails. The change set is here:
http://github.com/stevvooe/tornado/commit/d85baebc02791ac4ddc3ce4a3d70ac5361fae3ba