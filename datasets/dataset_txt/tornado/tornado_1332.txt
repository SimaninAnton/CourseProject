joo commented on 8 Nov 2009
I found some function _utf8 and _unicode repeatedly appear in different modules, that's not convenient maintain.
The following function appear in web.py module is right?
def _utf8(s):
if isinstance(s, unicode):
return s.encode("utf-8")
assert isinstance(s, str)
return s
or the following function appear in httpclient.py module is right.
def _utf8(value):
if value is None:
return value
if isinstance(value, unicode):
return value.encode("utf-8")
assert isinstance(value, str)
return value
I used to use last code. Thanks!