liujian883 commented on 25 Aug 2016
Hi, I tried tornado `s multiprocess module,but it seems that just one subprocess handled the http request.
Environment:
Python 2.7.12 :: Anaconda 4.1.1 (64-bit)
tornado 4.2
forked 5 subprocess:
import tornado.web
import tornado.httpserver
import tornado.ioloop
import os

class MainHandler(tornado.web.RequestHandler):
    def get(self):
         self.write("test")
         print ("pid %s!" % os.getpid())
app = tornado.web.Application([
    (r"/", MainHandler),
])

if __name__ == "__main__":


    sockets = tornado.netutil.bind_sockets(8888)    
    server = tornado.httpserver.HTTPServer(app)

    tornado.process.fork_processes(5)    
    server.add_sockets(sockets)
    tornado.ioloop.IOLoop.instance().start()
then I kill the process(26927),
it always seems that just one subprocess handles the new request,
why can `t I get the different PID output?
thanks!!!