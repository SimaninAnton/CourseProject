celestian02 commented on 1 Mar 2015
Hi,
I have been trying the simplest integration between Flask and Tornado, on UNIX systems, I don't have any issues with autoreload but on windows I get the following:
'''
[I 150301 12:17:54 autoreload:195] C:\tes.py modified; restarting server
[E 150301 12:17:54 ioloop:588] Exception in callback <functools.partial object at 0x031A2390>
Traceback (most recent call last):
File "C:\libs\tornado\ioloop.py", line 568, in _run_callback
ret = callback()
File "C:\libs\tornado\stack_context.py", line 275, in null_wrapper
return fn(_args, *_kwargs)
File "C:\libs\tornado\ioloop.py", line 993, in _run
self._schedule_next()
File "C:\libs\tornado\ioloop.py", line 1000, in _schedule_next
self._timeout = self.io_loop.add_timeout(self._next_timeout, self._run)
File "C:\libs\tornado\ioloop.py", line 465, in add_timeout
return self.call_at(deadline, callback, _args, *_kwargs)
File "C:\libs\tornado\ioloop.py", line 873, in call_at
heapq.heappush(self._timeouts, timeout)
TypeError: heap argument must be a list
Traceback (most recent call last):
File "C:\tes.py", line 42, in
run_server()
File "C:\tes.py", line 37, in run_server
io_loop.start()
File "C:\libs\tornado\ioloop.py", line 815, in start
event_pairs = self._impl.poll(poll_timeout)
File "C:\libs\tornado\platform\select.py", line 63, in poll
self.read_fds, self.write_fds, self.error_fds, timeout)
select.error: (10038, 'An operation was attempted on something that is not a socket')
'''