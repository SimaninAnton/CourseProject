fcaneva-arg commented on 3 Jun 2016 â€¢
edited
I'm creating a REST server using the Tornado framework and, due to the internal design, I cannot respond to the client with a HTTP 304 code. In fact, the line that causes me trouble is located at tornado/web.py, line 939. Whenever I set the HTTP code to 304, the request hangs there (with an AssertError), and exits. Are there any workarounds for this issue? The two ones I thought would be:
For adding to the framework: include a (bool) REST keyword at tornado.web.RequestHandler object to allow return a manually set 304 code (if True, then skip the 304 check). Maybe include at initialize? (leave decision to the developers).
For someone to do locally: override tornado.web.RequestHandler.finish() and modify that assertion.
I think the first one may be cleaner and easily usable for everyone. Opinions?
I'd like this issue to be solved a.s.a.p. because I'm working heavily over this (by the way, excellent) framework. Thanks!