RenFinkle commented on 3 Dec 2017
Web socket disconnects on messages with < 2 mb of base64. Some smaller files will work tested up to 300 kb will work. Otherwise it will just disconnect the client.
Relevant code:
Client (using websockets):
with open("private/" + file, "rb") as f:
    responsef = base64.b64encode(f.read()).decode()
    responsej = json.dumps({"file": responsef})
    await websocket.send("22::" + responsej + "||" + client)
Server:
mh, mb = message.split("::")
response, client = mb.split("||")
self.clientd[client + ".client"].write_message("22::" + response)