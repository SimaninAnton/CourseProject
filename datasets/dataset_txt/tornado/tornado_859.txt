Contributor
ccampbell commented on 5 Feb 2014
Just ran into a case where I want to render an error in the same format that the request is expecting.
In my handler function I set
self.set_header('Content-Type', 'application/json')
In RequestHandler.write_error I want to render out the error as json, but the Content-Type is set as text/html.
I understand that clearing out the response headers is definitely wanted in more situations than not (especially with cache headers and other things).
Just curious what you think about possibly passing in the original response headers/content into write_error as an argument.
Right now, I think I should be able to override RequestHandler.send_error to store the old headers so that I can access them and achieve what I want.