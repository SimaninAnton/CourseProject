yuwenyong commented on 3 May 2017
[E 170503 10:22:24 ioloop:629] Exception in callback <functools.partial object at 0x139ac00>
Traceback (most recent call last):
File "/usr/lib64/python2.7/site-packages/tornado/ioloop.py", line 600, in _run_callback
ret = callback()
File "/usr/lib64/python2.7/site-packages/tornado/stack_context.py", line 275, in null_wrapper
return fn(*args, **kwargs)
File "/usr/lib64/python2.7/site-packages/tornado/ioloop.py", line 615, in
self.add_future(ret, lambda f: f.result())
File "/usr/lib64/python2.7/site-packages/tornado/concurrent.py", line 232, in result
raise_exc_info(self._exc_info)
File "/usr/lib64/python2.7/site-packages/tornado/gen.py", line 1014, in run
yielded = self.gen.throw(*exc_info)
File "/home/yuwenyong/scp_backend/scpbackend/trainer/views.py", line 217, in publish_skill
response = yield post_multipart(resource_url, params, files)
File "/usr/lib64/python2.7/site-packages/tornado/gen.py", line 1008, in run
value = future.result()
File "/usr/lib64/python2.7/site-packages/tornado/concurrent.py", line 232, in result
raise_exc_info(self._exc_info)
File "/usr/lib64/python2.7/site-packages/tornado/gen.py", line 282, in wrapper
yielded = next(result)
File "/home/yuwenyong/scp_backend/scpbackend/common/utils.py", line 692, in post_multipart
request = HTTPRequest(url, "POST", headers=headers, body=body, validate_cert=False)
File "/usr/lib64/python2.7/site-packages/tornado/httpclient.py", line 430, in init
self.body = body
File "/usr/lib64/python2.7/site-packages/tornado/httpclient.py", line 475, in body
self._body = utf8(value)
File "/usr/lib64/python2.7/site-packages/tornado/escape.py", line 203, in utf8
"Expected bytes, unicode, or None; got %r" % type(value)
TypeError: Expected bytes, unicode, or None; got <type 'bytearray'>