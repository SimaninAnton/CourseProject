kssreeram commented on 16 Nov 2014
I'm running OS X Yosemite, Python 2.7.8, and Tornado 4.0.2.
AsyncHTTPClient fails if initiated just before the IOLoop is started (but of course after it's created). The following script fails with a timeout error:
from tornado.ioloop import IOLoop
from tornado.httpclient import AsyncHTTPClient

def handle_response(response) :
    print "response =", response

io_loop = IOLoop()
client = AsyncHTTPClient(io_loop)
client.fetch("http://google.com", handle_response)

io_loop.start()
I can get it to work by delaying the fetch call until after IOLoop.start. The following script delays the fetch with add_callback and works fine:
from tornado.ioloop import IOLoop
from tornado.httpclient import AsyncHTTPClient

def handle_response(response) :
    print "response =", response

io_loop = IOLoop()
client = AsyncHTTPClient(io_loop)

def fetch() :
    client.fetch("http://google.com", handle_response)

io_loop.add_callback(fetch)

io_loop.start()