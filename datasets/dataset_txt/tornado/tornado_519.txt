Contributor
takluyver commented on 14 Apr 2016
The implementation of StaticFileHandler uses mimetypes.guess_type() to determine the Content-Type header for the files it sends. We (Jupyter) have seen an issue several times with Windows users where CSS files are served as the wrong mimetype because of an entry in the registry. Browsers then refuse to load them as stylesheets, and display an unstyled page.
We are considering subclassing SFH to special-case .css files and always serve with the text/css mimetype: jupyter/notebook#1350.
This issue is actually more general, even if most use cases don't involve serving from arbitrary Windows machines. So we wanted to ask whether you'd consider special-casing .css within Tornado to override the default mimetype guess? Special casing it feels a bit icky, but we've seen the same thing enough times now that I reckon we need to fix it, so we'll probably do it at the application level if it's not acceptable in Tornado.
Thanks!