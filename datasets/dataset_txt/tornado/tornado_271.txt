Contributor
pitrou commented on 6 Nov 2017
This snippet: https://gist.github.com/pitrou/d0ed381729ef9045491263774311e9f0 worked before changeset ac13ee5, but fails afterwards. The reason is asyncio sets the ._loop attribute on its Future objects when said future is created, depending on the current thread's loop. If you create an asyncio Future from a thread and use it from another one, it will never awaken the proper event loop.
This seems to be biting us hard and is also very hard to debug, unfortunately. @mrocklin