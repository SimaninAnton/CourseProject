Contributor
mrocklin commented on 22 Oct 2017
I have a Tornado Application that uses Tornado templates to render HTML. These templates live in a templates/ directory within my application. On Linux and OSX I need to include the templates/ directory in extends blocks like the following:
{% extends templates/main.html %}
However on Windows I seem to need to do the following:
{% extends main.html %}
All of my html files are in this same templates directory. From reading online it seems like I should be able to use just the relative path main.html without the added templates/ directory. Unfortunately Tornado looks in my root directory when I do this.
Traceback (most recent call last):
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/web.py", line 1509, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/home/mrocklin/workspace/distributed/distributed/bokeh/scheduler_html.py", line 24, in get
    **toolz.merge(self.server.__dict__, ns))
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/web.py", line 724, in render
    html = self.render_string(template_name, **kwargs)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/web.py", line 862, in render_string
    t = loader.load(template_name)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 427, in load
    self.templates[name] = self._create_template(name)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 455, in _create_template
    template = Template(f.read(), name=name, loader=self)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 307, in __init__
    self.code = self._generate_python(loader)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 355, in _generate_python
    ancestors = self._get_ancestors(loader)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 373, in _get_ancestors
    template = loader.load(chunk.name, self.name)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 427, in load
    self.templates[name] = self._create_template(name)
  File "/home/mrocklin/Software/anaconda/envs/27/lib/python2.7/site-packages/tornado/template.py", line 454, in _create_template
    with open(path, "rb") as f:
IOError: [Errno 2] No such file or directory: '/path/to/my/app/main.html'
If anyone has pointers on why I might be seeing this different behavior or ways in which to correct for it I would be grateful.
I am doing things a little bit oddly, which might account for some deviation from expected results. I'm adding these request handlers to a running Tornado server after it is started by Bokeh as in this Stack Overflow answer