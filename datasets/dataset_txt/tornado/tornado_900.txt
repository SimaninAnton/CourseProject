dhanababu-nyros commented on 28 Aug 2013
I am new to tornado. I want to reload the page after downloading the file. How can I solve this. Please any one help me thanks. Please see my code as shown below,
class MainHandler(tornado.web.RequestHandler):
def get(self, token_id):
self.set_header('Content-Type', 'application/pdf')
self.set_header('Content-Disposition', 'attachment; filename="drawing-%s.pdf"' % token_id)
with open("test.pdf", 'rb') as f:
while True:
data = f.read()
if not data:
break
self.write(data)
self.finish()
self.redirect('/index')
And I got the error "Exception: Cannot redirect after headers have been written".