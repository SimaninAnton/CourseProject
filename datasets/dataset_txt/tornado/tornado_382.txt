argaen commented on 14 Feb 2017
Hi, I know there are some incompatibilities with asyncio and I'm writing here to double check. I have the following code that is hanging indefinitely in python3.5.2 and also in python3.6.0b3:
import asyncio
import tornado.web
import tornado.ioloop
from datetime import datetime

class MainHandler(tornado.web.RequestHandler):

    async def time(self):
        return datetime.now().isoformat()

    async def get(self):
        await asyncio.wait_for(self.time(), 5)     # Here I'll hang
        self.write(await self.time())


if __name__ == "__main__":
    tornado.ioloop.IOLoop.configure('tornado.platform.asyncio.AsyncIOLoop')
    app = tornado.web.Application([(r"/", MainHandler)])
    app.listen(8888)
    tornado.ioloop.IOLoop.current().start()
is this expected behavior? I'm maintaining https://github.com/argaen/aiocache and would like to support asyncio Tornado too.
Thanks